
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/extensions/dragonbones/CCSlot.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

var _mat = _interopRequireDefault(require("../../cocos2d/core/value-types/mat4"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/****************************************************************************
 Copyright (c) 2016 Chukong Technologies Inc.
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 http://www.cocos2d-x.org

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/
var BinaryOffset = dragonBones.BinaryOffset;
var BoneType = dragonBones.BoneType;
dragonBones.CCSlot = cc.Class({
  name: 'dragonBones.CCSlot',
  "extends": dragonBones.Slot,
  ctor: function ctor() {
    this._localVertices = [];
    this._indices = [];
    this._matrix = cc.mat4();
    this._worldMatrix = cc.mat4();
    this._worldMatrixDirty = true;
    this._visible = false;
    this._color = cc.color();
  },
  _onClear: function _onClear() {
    this._super();

    this._localVertices.length = 0;
    this._indices.length = 0;

    _mat["default"].identity(this._matrix);

    _mat["default"].identity(this._worldMatrix);

    this._worldMatrixDirty = true;
    this._color = cc.color();
    this._visible = false;
  },
  statics: {
    toString: function toString() {
      return "[class dragonBones.CCSlot]";
    }
  },
  // just for adapt to dragonbones api,no need to do any thing
  _onUpdateDisplay: function _onUpdateDisplay() {},
  // just for adapt to dragonbones api,no need to do any thing
  _initDisplay: function _initDisplay(value) {},
  _addDisplay: function _addDisplay() {
    this._visible = true;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _replaceDisplay: function _replaceDisplay(value) {},
  _removeDisplay: function _removeDisplay() {
    this._visible = false;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _disposeDisplay: function _disposeDisplay(object) {},
  _updateVisible: function _updateVisible() {
    this._visible = this.parent._visible && this._indices.length > 0;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _updateZOrder: function _updateZOrder() {},
  _updateBlendMode: function _updateBlendMode() {
    if (this._childArmature) {
      var childSlots = this._childArmature.getSlots();

      for (var i = 0, l = childSlots.length; i < l; i++) {
        var slot = childSlots[i];
        slot._blendMode = this._blendMode;

        slot._updateBlendMode();
      }
    }
  },
  _updateColor: function _updateColor() {
    var c = this._color;
    c.r = this._colorTransform.redMultiplier * 255;
    c.g = this._colorTransform.greenMultiplier * 255;
    c.b = this._colorTransform.blueMultiplier * 255;
    c.a = this._colorTransform.alphaMultiplier * 255;
  },
  //return dragonBones.CCTexture2D
  getTexture: function getTexture() {
    return this._textureData && this._textureData.spriteFrame && this._textureData.spriteFrame.getTexture();
  },
  _updateFrame: function _updateFrame() {
    this._indices.length = 0;
    var indices = this._indices,
        localVertices = this._localVertices;
    var indexOffset = 0,
        vfOffset = 0;
    var currentTextureData = this._textureData;

    if (!this._display || this._displayIndex < 0 || !currentTextureData || !currentTextureData.spriteFrame) {
      this._visibleDirty = true;

      if (!this._display) {
        this._updateVisible();

        this._visibleDirty = false;
      }

      return;
    }

    var texture = currentTextureData.spriteFrame.getTexture();
    var textureAtlasWidth = texture.width;
    var textureAtlasHeight = texture.height;
    var region = currentTextureData.region;
    var currentVerticesData = this._deformVertices !== null && this._display === this._meshDisplay ? this._deformVertices.verticesData : null;

    if (currentVerticesData) {
      var data = currentVerticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexCount];
      var triangleCount = intArray[currentVerticesData.offset + BinaryOffset.MeshTriangleCount];
      var vertexOffset = intArray[currentVerticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug.
      }

      var uvOffset = vertexOffset + vertexCount * 2;
      var scale = this._armature._armatureData.scale;

      for (var i = 0, l = vertexCount * 2; i < l; i += 2) {
        localVertices[vfOffset++] = floatArray[vertexOffset + i] * scale;
        localVertices[vfOffset++] = -floatArray[vertexOffset + i + 1] * scale;

        if (currentVerticesData.rotated) {
          localVertices[vfOffset++] = (region.x + (1.0 - floatArray[uvOffset + i]) * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        } else {
          localVertices[vfOffset++] = (region.x + floatArray[uvOffset + i] * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        }
      }

      for (var _i = 0; _i < triangleCount * 3; ++_i) {
        indices[indexOffset++] = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexIndices + _i];
      }

      localVertices.length = vfOffset;
      indices.length = indexOffset;
      var isSkinned = !!currentVerticesData.weight;

      if (isSkinned) {
        this._identityTransform();
      }
    } else {
      var _l = region.x / textureAtlasWidth;

      var b = (region.y + region.height) / textureAtlasHeight;
      var r = (region.x + region.width) / textureAtlasWidth;
      var t = region.y / textureAtlasHeight;
      localVertices[vfOffset++] = 0; // 0x

      localVertices[vfOffset++] = 0; // 0y

      localVertices[vfOffset++] = _l; // 0u

      localVertices[vfOffset++] = b; // 0v

      localVertices[vfOffset++] = region.width; // 1x

      localVertices[vfOffset++] = 0; // 1y

      localVertices[vfOffset++] = r; // 1u

      localVertices[vfOffset++] = b; // 1v

      localVertices[vfOffset++] = 0; // 2x

      localVertices[vfOffset++] = region.height;
      ; // 2y

      localVertices[vfOffset++] = _l; // 2u

      localVertices[vfOffset++] = t; // 2v

      localVertices[vfOffset++] = region.width; // 3x

      localVertices[vfOffset++] = region.height;
      ; // 3y

      localVertices[vfOffset++] = r; // 3u

      localVertices[vfOffset++] = t; // 3v

      indices[0] = 0;
      indices[1] = 1;
      indices[2] = 2;
      indices[3] = 1;
      indices[4] = 3;
      indices[5] = 2;
      localVertices.length = vfOffset;
      indices.length = 6;
    }

    this._visibleDirty = true;
    this._blendModeDirty = true;
    this._colorDirty = true;
  },
  _updateMesh: function _updateMesh() {
    var scale = this._armature._armatureData.scale;
    var deformVertices = this._deformVertices.vertices;
    var bones = this._deformVertices.bones;
    var verticesData = this._deformVertices.verticesData;
    var weightData = verticesData.weight;
    var hasDeform = deformVertices.length > 0 && verticesData.inheritDeform;
    var localVertices = this._localVertices;

    if (weightData) {
      var data = verticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var weightFloatOffset = intArray[weightData.offset + BinaryOffset.WeigthFloatOffset];

      if (weightFloatOffset < 0) {
        weightFloatOffset += 65536; // Fixed out of bouds bug.
      }

      for (var i = 0, iB = weightData.offset + BinaryOffset.WeigthBoneIndices + bones.length, iV = weightFloatOffset, iF = 0, lvi = 0; i < vertexCount; i++, lvi += 4) {
        var boneCount = intArray[iB++];
        var xG = 0.0,
            yG = 0.0;

        for (var j = 0; j < boneCount; ++j) {
          var boneIndex = intArray[iB++];
          var bone = bones[boneIndex];

          if (bone !== null) {
            var matrix = bone.globalTransformMatrix;
            var weight = floatArray[iV++];
            var xL = floatArray[iV++] * scale;
            var yL = floatArray[iV++] * scale;

            if (hasDeform) {
              xL += deformVertices[iF++];
              yL += deformVertices[iF++];
            }

            xG += (matrix.a * xL + matrix.c * yL + matrix.tx) * weight;
            yG += (matrix.b * xL + matrix.d * yL + matrix.ty) * weight;
          }
        }

        localVertices[lvi] = xG;
        localVertices[lvi + 1] = -yG;
      }
    } else if (hasDeform) {
      var isSurface = this._parent._boneData.type !== BoneType.Bone;
      var _data = verticesData.data;
      var _intArray = _data.intArray;
      var _floatArray = _data.floatArray;
      var _vertexCount = _intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var vertexOffset = _intArray[verticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug.
      }

      for (var _i2 = 0, l = _vertexCount, _lvi = 0; _i2 < l; _i2++, _lvi += 4) {
        var x = _floatArray[vertexOffset + _i2 * 2] * scale + deformVertices[_i2 * 2];
        var y = _floatArray[vertexOffset + _i2 * 2 + 1] * scale + deformVertices[_i2 * 2 + 1];

        if (isSurface) {
          var _matrix = this._parent._getGlobalTransformMatrix(x, y);

          localVertices[_lvi] = _matrix.a * x + _matrix.c * y + _matrix.tx;
          localVertices[_lvi + 1] = -_matrix.b * x + _matrix.d * y + _matrix.ty;
        } else {
          localVertices[_lvi] = x;
          localVertices[_lvi + 1] = -y;
        }
      }
    }

    if (weightData) {
      this._identityTransform();
    }
  },
  _identityTransform: function _identityTransform() {
    var m = this._matrix.m;
    m[0] = 1.0;
    m[1] = 0.0;
    m[4] = -0.0;
    m[5] = -1.0;
    m[12] = 0.0;
    m[13] = 0.0;
    this._worldMatrixDirty = true;
  },
  _updateTransform: function _updateTransform() {
    var t = this._matrix;
    var tm = t.m;
    tm[0] = this.globalTransformMatrix.a;
    tm[1] = this.globalTransformMatrix.b;
    tm[4] = -this.globalTransformMatrix.c;
    tm[5] = -this.globalTransformMatrix.d;

    if (this._childArmature) {
      tm[12] = this.globalTransformMatrix.tx;
      tm[13] = this.globalTransformMatrix.ty;
    } else {
      tm[12] = this.globalTransformMatrix.tx - (this.globalTransformMatrix.a * this._pivotX - this.globalTransformMatrix.c * this._pivotY);
      tm[13] = this.globalTransformMatrix.ty - (this.globalTransformMatrix.b * this._pivotX - this.globalTransformMatrix.d * this._pivotY);
    }

    this._worldMatrixDirty = true;
  },
  updateWorldMatrix: function updateWorldMatrix() {
    if (!this._armature) return;
    var parentSlot = this._armature._parent;

    if (parentSlot) {
      parentSlot.updateWorldMatrix();
    }

    if (this._worldMatrixDirty) {
      this.calculWorldMatrix();
      var childArmature = this.childArmature;
      if (!childArmature) return;
      var slots = childArmature.getSlots();

      for (var i = 0, n = slots.length; i < n; i++) {
        var slot = slots[i];

        if (slot) {
          slot._worldMatrixDirty = true;
        }
      }
    }
  },
  _mulMat: function _mulMat(out, a, b) {
    var am = a.m,
        bm = b.m,
        outm = out.m;
    var aa = am[0],
        ab = am[1],
        ac = am[4],
        ad = am[5],
        atx = am[12],
        aty = am[13];
    var ba = bm[0],
        bb = bm[1],
        bc = bm[4],
        bd = bm[5],
        btx = bm[12],
        bty = bm[13];

    if (ab !== 0 || ac !== 0) {
      outm[0] = ba * aa + bb * ac;
      outm[1] = ba * ab + bb * ad;
      outm[4] = bc * aa + bd * ac;
      outm[5] = bc * ab + bd * ad;
      outm[12] = aa * btx + ac * bty + atx;
      outm[13] = ab * btx + ad * bty + aty;
    } else {
      outm[0] = ba * aa;
      outm[1] = bb * ad;
      outm[4] = bc * aa;
      outm[5] = bd * ad;
      outm[12] = aa * btx + atx;
      outm[13] = ad * bty + aty;
    }
  },
  calculWorldMatrix: function calculWorldMatrix() {
    var parent = this._armature._parent;

    if (parent) {
      this._mulMat(this._worldMatrix, parent._worldMatrix, this._matrix);
    } else {
      _mat["default"].copy(this._worldMatrix, this._matrix);
    }

    this._worldMatrixDirty = false;
  }
});
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvZXh0ZW5zaW9ucy9kcmFnb25ib25lcy9DQ1Nsb3QuanMiXSwibmFtZXMiOlsiQmluYXJ5T2Zmc2V0IiwiZHJhZ29uQm9uZXMiLCJCb25lVHlwZSIsIkNDU2xvdCIsImNjIiwiQ2xhc3MiLCJuYW1lIiwiU2xvdCIsImN0b3IiLCJfbG9jYWxWZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX21hdHJpeCIsIm1hdDQiLCJfd29ybGRNYXRyaXgiLCJfd29ybGRNYXRyaXhEaXJ0eSIsIl92aXNpYmxlIiwiX2NvbG9yIiwiY29sb3IiLCJfb25DbGVhciIsIl9zdXBlciIsImxlbmd0aCIsIk1hdDQiLCJpZGVudGl0eSIsInN0YXRpY3MiLCJ0b1N0cmluZyIsIl9vblVwZGF0ZURpc3BsYXkiLCJfaW5pdERpc3BsYXkiLCJ2YWx1ZSIsIl9hZGREaXNwbGF5IiwiX3JlcGxhY2VEaXNwbGF5IiwiX3JlbW92ZURpc3BsYXkiLCJfZGlzcG9zZURpc3BsYXkiLCJvYmplY3QiLCJfdXBkYXRlVmlzaWJsZSIsInBhcmVudCIsIl91cGRhdGVaT3JkZXIiLCJfdXBkYXRlQmxlbmRNb2RlIiwiX2NoaWxkQXJtYXR1cmUiLCJjaGlsZFNsb3RzIiwiZ2V0U2xvdHMiLCJpIiwibCIsInNsb3QiLCJfYmxlbmRNb2RlIiwiX3VwZGF0ZUNvbG9yIiwiYyIsInIiLCJfY29sb3JUcmFuc2Zvcm0iLCJyZWRNdWx0aXBsaWVyIiwiZyIsImdyZWVuTXVsdGlwbGllciIsImIiLCJibHVlTXVsdGlwbGllciIsImEiLCJhbHBoYU11bHRpcGxpZXIiLCJnZXRUZXh0dXJlIiwiX3RleHR1cmVEYXRhIiwic3ByaXRlRnJhbWUiLCJfdXBkYXRlRnJhbWUiLCJpbmRpY2VzIiwibG9jYWxWZXJ0aWNlcyIsImluZGV4T2Zmc2V0IiwidmZPZmZzZXQiLCJjdXJyZW50VGV4dHVyZURhdGEiLCJfZGlzcGxheSIsIl9kaXNwbGF5SW5kZXgiLCJfdmlzaWJsZURpcnR5IiwidGV4dHVyZSIsInRleHR1cmVBdGxhc1dpZHRoIiwid2lkdGgiLCJ0ZXh0dXJlQXRsYXNIZWlnaHQiLCJoZWlnaHQiLCJyZWdpb24iLCJjdXJyZW50VmVydGljZXNEYXRhIiwiX2RlZm9ybVZlcnRpY2VzIiwiX21lc2hEaXNwbGF5IiwidmVydGljZXNEYXRhIiwiZGF0YSIsImludEFycmF5IiwiZmxvYXRBcnJheSIsInZlcnRleENvdW50Iiwib2Zmc2V0IiwiTWVzaFZlcnRleENvdW50IiwidHJpYW5nbGVDb3VudCIsIk1lc2hUcmlhbmdsZUNvdW50IiwidmVydGV4T2Zmc2V0IiwiTWVzaEZsb2F0T2Zmc2V0IiwidXZPZmZzZXQiLCJzY2FsZSIsIl9hcm1hdHVyZSIsIl9hcm1hdHVyZURhdGEiLCJyb3RhdGVkIiwieCIsInkiLCJNZXNoVmVydGV4SW5kaWNlcyIsImlzU2tpbm5lZCIsIndlaWdodCIsIl9pZGVudGl0eVRyYW5zZm9ybSIsInQiLCJfYmxlbmRNb2RlRGlydHkiLCJfY29sb3JEaXJ0eSIsIl91cGRhdGVNZXNoIiwiZGVmb3JtVmVydGljZXMiLCJ2ZXJ0aWNlcyIsImJvbmVzIiwid2VpZ2h0RGF0YSIsImhhc0RlZm9ybSIsImluaGVyaXREZWZvcm0iLCJ3ZWlnaHRGbG9hdE9mZnNldCIsIldlaWd0aEZsb2F0T2Zmc2V0IiwiaUIiLCJXZWlndGhCb25lSW5kaWNlcyIsImlWIiwiaUYiLCJsdmkiLCJib25lQ291bnQiLCJ4RyIsInlHIiwiaiIsImJvbmVJbmRleCIsImJvbmUiLCJtYXRyaXgiLCJnbG9iYWxUcmFuc2Zvcm1NYXRyaXgiLCJ4TCIsInlMIiwidHgiLCJkIiwidHkiLCJpc1N1cmZhY2UiLCJfcGFyZW50IiwiX2JvbmVEYXRhIiwidHlwZSIsIkJvbmUiLCJfZ2V0R2xvYmFsVHJhbnNmb3JtTWF0cml4IiwibSIsIl91cGRhdGVUcmFuc2Zvcm0iLCJ0bSIsIl9waXZvdFgiLCJfcGl2b3RZIiwidXBkYXRlV29ybGRNYXRyaXgiLCJwYXJlbnRTbG90IiwiY2FsY3VsV29ybGRNYXRyaXgiLCJjaGlsZEFybWF0dXJlIiwic2xvdHMiLCJuIiwiX211bE1hdCIsIm91dCIsImFtIiwiYm0iLCJvdXRtIiwiYWEiLCJhYiIsImFjIiwiYWQiLCJhdHgiLCJhdHkiLCJiYSIsImJiIiwiYmMiLCJiZCIsImJ0eCIsImJ0eSIsImNvcHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUF5QkE7Ozs7QUF6QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJCQSxJQUFNQSxZQUFZLEdBQUdDLFdBQVcsQ0FBQ0QsWUFBakM7QUFDQSxJQUFNRSxRQUFRLEdBQUlELFdBQVcsQ0FBQ0MsUUFBOUI7QUFFQUQsV0FBVyxDQUFDRSxNQUFaLEdBQXFCQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUMxQkMsRUFBQUEsSUFBSSxFQUFFLG9CQURvQjtBQUUxQixhQUFTTCxXQUFXLENBQUNNLElBRks7QUFJMUJDLEVBQUFBLElBSjBCLGtCQUlsQjtBQUNKLFNBQUtDLGNBQUwsR0FBc0IsRUFBdEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlUCxFQUFFLENBQUNRLElBQUgsRUFBZjtBQUNBLFNBQUtDLFlBQUwsR0FBb0JULEVBQUUsQ0FBQ1EsSUFBSCxFQUFwQjtBQUNBLFNBQUtFLGlCQUFMLEdBQXlCLElBQXpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixLQUFoQjtBQUNBLFNBQUtDLE1BQUwsR0FBY1osRUFBRSxDQUFDYSxLQUFILEVBQWQ7QUFDSCxHQVp5QjtBQWMxQkMsRUFBQUEsUUFkMEIsc0JBY2Q7QUFDUixTQUFLQyxNQUFMOztBQUNBLFNBQUtWLGNBQUwsQ0FBb0JXLE1BQXBCLEdBQTZCLENBQTdCO0FBQ0EsU0FBS1YsUUFBTCxDQUFjVSxNQUFkLEdBQXVCLENBQXZCOztBQUNBQyxvQkFBS0MsUUFBTCxDQUFjLEtBQUtYLE9BQW5COztBQUNBVSxvQkFBS0MsUUFBTCxDQUFjLEtBQUtULFlBQW5COztBQUNBLFNBQUtDLGlCQUFMLEdBQXlCLElBQXpCO0FBQ0EsU0FBS0UsTUFBTCxHQUFjWixFQUFFLENBQUNhLEtBQUgsRUFBZDtBQUNBLFNBQUtGLFFBQUwsR0FBZ0IsS0FBaEI7QUFDSCxHQXZCeUI7QUF5QjFCUSxFQUFBQSxPQUFPLEVBQUc7QUFDTkMsSUFBQUEsUUFBUSxFQUFFLG9CQUFZO0FBQ2xCLGFBQU8sNEJBQVA7QUFDSDtBQUhLLEdBekJnQjtBQStCMUI7QUFDQUMsRUFBQUEsZ0JBaEMwQiw4QkFnQ04sQ0FDbkIsQ0FqQ3lCO0FBbUMxQjtBQUNBQyxFQUFBQSxZQXBDMEIsd0JBb0NaQyxLQXBDWSxFQW9DTCxDQUNwQixDQXJDeUI7QUF1QzFCQyxFQUFBQSxXQXZDMEIseUJBdUNYO0FBQ1gsU0FBS2IsUUFBTCxHQUFnQixJQUFoQjtBQUNILEdBekN5QjtBQTJDMUI7QUFDQWMsRUFBQUEsZUE1QzBCLDJCQTRDVEYsS0E1Q1MsRUE0Q0YsQ0FDdkIsQ0E3Q3lCO0FBK0MxQkcsRUFBQUEsY0EvQzBCLDRCQStDUjtBQUNkLFNBQUtmLFFBQUwsR0FBZ0IsS0FBaEI7QUFDSCxHQWpEeUI7QUFtRDFCO0FBQ0FnQixFQUFBQSxlQXBEMEIsMkJBb0RUQyxNQXBEUyxFQW9ERCxDQUN4QixDQXJEeUI7QUF1RDFCQyxFQUFBQSxjQXZEMEIsNEJBdURSO0FBQ2QsU0FBS2xCLFFBQUwsR0FBZ0IsS0FBS21CLE1BQUwsQ0FBWW5CLFFBQVosSUFBd0IsS0FBS0wsUUFBTCxDQUFjVSxNQUFkLEdBQXVCLENBQS9EO0FBQ0gsR0F6RHlCO0FBMkQxQjtBQUNBZSxFQUFBQSxhQTVEMEIsMkJBNERULENBQ2hCLENBN0R5QjtBQStEMUJDLEVBQUFBLGdCQS9EMEIsOEJBK0ROO0FBQ2hCLFFBQUksS0FBS0MsY0FBVCxFQUF5QjtBQUNyQixVQUFJQyxVQUFVLEdBQUcsS0FBS0QsY0FBTCxDQUFvQkUsUUFBcEIsRUFBakI7O0FBQ0EsV0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxDQUFDLEdBQUdILFVBQVUsQ0FBQ2xCLE1BQS9CLEVBQXVDb0IsQ0FBQyxHQUFHQyxDQUEzQyxFQUE4Q0QsQ0FBQyxFQUEvQyxFQUFtRDtBQUMvQyxZQUFJRSxJQUFJLEdBQUdKLFVBQVUsQ0FBQ0UsQ0FBRCxDQUFyQjtBQUNBRSxRQUFBQSxJQUFJLENBQUNDLFVBQUwsR0FBa0IsS0FBS0EsVUFBdkI7O0FBQ0FELFFBQUFBLElBQUksQ0FBQ04sZ0JBQUw7QUFDSDtBQUNKO0FBQ0osR0F4RXlCO0FBMEUxQlEsRUFBQUEsWUExRTBCLDBCQTBFVjtBQUNaLFFBQUlDLENBQUMsR0FBRyxLQUFLN0IsTUFBYjtBQUNBNkIsSUFBQUEsQ0FBQyxDQUFDQyxDQUFGLEdBQU0sS0FBS0MsZUFBTCxDQUFxQkMsYUFBckIsR0FBcUMsR0FBM0M7QUFDQUgsSUFBQUEsQ0FBQyxDQUFDSSxDQUFGLEdBQU0sS0FBS0YsZUFBTCxDQUFxQkcsZUFBckIsR0FBdUMsR0FBN0M7QUFDQUwsSUFBQUEsQ0FBQyxDQUFDTSxDQUFGLEdBQU0sS0FBS0osZUFBTCxDQUFxQkssY0FBckIsR0FBc0MsR0FBNUM7QUFDQVAsSUFBQUEsQ0FBQyxDQUFDUSxDQUFGLEdBQU0sS0FBS04sZUFBTCxDQUFxQk8sZUFBckIsR0FBdUMsR0FBN0M7QUFDSCxHQWhGeUI7QUFrRjFCO0FBQ0FDLEVBQUFBLFVBbkYwQix3QkFtRlo7QUFDVixXQUFPLEtBQUtDLFlBQUwsSUFBcUIsS0FBS0EsWUFBTCxDQUFrQkMsV0FBdkMsSUFBc0QsS0FBS0QsWUFBTCxDQUFrQkMsV0FBbEIsQ0FBOEJGLFVBQTlCLEVBQTdEO0FBQ0gsR0FyRnlCO0FBdUYxQkcsRUFBQUEsWUF2RjBCLDBCQXVGVjtBQUNaLFNBQUtoRCxRQUFMLENBQWNVLE1BQWQsR0FBdUIsQ0FBdkI7QUFDQSxRQUFJdUMsT0FBTyxHQUFHLEtBQUtqRCxRQUFuQjtBQUFBLFFBQ0lrRCxhQUFhLEdBQUcsS0FBS25ELGNBRHpCO0FBRUEsUUFBSW9ELFdBQVcsR0FBRyxDQUFsQjtBQUFBLFFBQXFCQyxRQUFRLEdBQUcsQ0FBaEM7QUFFQSxRQUFJQyxrQkFBa0IsR0FBRyxLQUFLUCxZQUE5Qjs7QUFDQSxRQUFJLENBQUMsS0FBS1EsUUFBTixJQUFrQixLQUFLQyxhQUFMLEdBQXFCLENBQXZDLElBQTRDLENBQUNGLGtCQUE3QyxJQUFtRSxDQUFDQSxrQkFBa0IsQ0FBQ04sV0FBM0YsRUFBd0c7QUFDcEcsV0FBS1MsYUFBTCxHQUFxQixJQUFyQjs7QUFDQSxVQUFJLENBQUMsS0FBS0YsUUFBVixFQUFvQjtBQUNoQixhQUFLL0IsY0FBTDs7QUFDQSxhQUFLaUMsYUFBTCxHQUFxQixLQUFyQjtBQUNIOztBQUNEO0FBQ0g7O0FBRUQsUUFBSUMsT0FBTyxHQUFHSixrQkFBa0IsQ0FBQ04sV0FBbkIsQ0FBK0JGLFVBQS9CLEVBQWQ7QUFDQSxRQUFJYSxpQkFBaUIsR0FBR0QsT0FBTyxDQUFDRSxLQUFoQztBQUNBLFFBQUlDLGtCQUFrQixHQUFHSCxPQUFPLENBQUNJLE1BQWpDO0FBQ0EsUUFBSUMsTUFBTSxHQUFHVCxrQkFBa0IsQ0FBQ1MsTUFBaEM7QUFFQSxRQUFNQyxtQkFBbUIsR0FBSSxLQUFLQyxlQUFMLEtBQXlCLElBQXpCLElBQWlDLEtBQUtWLFFBQUwsS0FBa0IsS0FBS1csWUFBekQsR0FBeUUsS0FBS0QsZUFBTCxDQUFxQkUsWUFBOUYsR0FBNkcsSUFBekk7O0FBRUEsUUFBSUgsbUJBQUosRUFBeUI7QUFDckIsVUFBTUksSUFBSSxHQUFHSixtQkFBbUIsQ0FBQ0ksSUFBakM7QUFDQSxVQUFNQyxRQUFRLEdBQUdELElBQUksQ0FBQ0MsUUFBdEI7QUFDQSxVQUFNQyxVQUFVLEdBQUdGLElBQUksQ0FBQ0UsVUFBeEI7QUFDQSxVQUFNQyxXQUFXLEdBQUdGLFFBQVEsQ0FBQ0wsbUJBQW1CLENBQUNRLE1BQXBCLEdBQTZCakYsWUFBWSxDQUFDa0YsZUFBM0MsQ0FBNUI7QUFDQSxVQUFNQyxhQUFhLEdBQUdMLFFBQVEsQ0FBQ0wsbUJBQW1CLENBQUNRLE1BQXBCLEdBQTZCakYsWUFBWSxDQUFDb0YsaUJBQTNDLENBQTlCO0FBQ0EsVUFBSUMsWUFBWSxHQUFHUCxRQUFRLENBQUNMLG1CQUFtQixDQUFDUSxNQUFwQixHQUE2QmpGLFlBQVksQ0FBQ3NGLGVBQTNDLENBQTNCOztBQUVBLFVBQUlELFlBQVksR0FBRyxDQUFuQixFQUFzQjtBQUNsQkEsUUFBQUEsWUFBWSxJQUFJLEtBQWhCLENBRGtCLENBQ0s7QUFDMUI7O0FBRUQsVUFBTUUsUUFBUSxHQUFHRixZQUFZLEdBQUdMLFdBQVcsR0FBRyxDQUE5QztBQUNBLFVBQU1RLEtBQUssR0FBRyxLQUFLQyxTQUFMLENBQWVDLGFBQWYsQ0FBNkJGLEtBQTNDOztBQUVBLFdBQUssSUFBSWhELENBQUMsR0FBRyxDQUFSLEVBQVdDLENBQUMsR0FBR3VDLFdBQVcsR0FBRyxDQUFsQyxFQUFxQ3hDLENBQUMsR0FBR0MsQ0FBekMsRUFBNENELENBQUMsSUFBSSxDQUFqRCxFQUFvRDtBQUNoRG9CLFFBQUFBLGFBQWEsQ0FBQ0UsUUFBUSxFQUFULENBQWIsR0FBNEJpQixVQUFVLENBQUNNLFlBQVksR0FBRzdDLENBQWhCLENBQVYsR0FBK0JnRCxLQUEzRDtBQUNBNUIsUUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QixDQUFDaUIsVUFBVSxDQUFDTSxZQUFZLEdBQUc3QyxDQUFmLEdBQW1CLENBQXBCLENBQVgsR0FBb0NnRCxLQUFoRTs7QUFFQSxZQUFJZixtQkFBbUIsQ0FBQ2tCLE9BQXhCLEVBQWlDO0FBQzdCL0IsVUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QixDQUFDVSxNQUFNLENBQUNvQixDQUFQLEdBQVcsQ0FBQyxNQUFNYixVQUFVLENBQUNRLFFBQVEsR0FBRy9DLENBQVosQ0FBakIsSUFBbUNnQyxNQUFNLENBQUNILEtBQXRELElBQStERCxpQkFBM0Y7QUFDQVIsVUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QixDQUFDVSxNQUFNLENBQUNxQixDQUFQLEdBQVdkLFVBQVUsQ0FBQ1EsUUFBUSxHQUFHL0MsQ0FBWCxHQUFlLENBQWhCLENBQVYsR0FBK0JnQyxNQUFNLENBQUNELE1BQWxELElBQTRERCxrQkFBeEY7QUFDSCxTQUhELE1BR087QUFDSFYsVUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QixDQUFDVSxNQUFNLENBQUNvQixDQUFQLEdBQVdiLFVBQVUsQ0FBQ1EsUUFBUSxHQUFHL0MsQ0FBWixDQUFWLEdBQTJCZ0MsTUFBTSxDQUFDSCxLQUE5QyxJQUF1REQsaUJBQW5GO0FBQ0FSLFVBQUFBLGFBQWEsQ0FBQ0UsUUFBUSxFQUFULENBQWIsR0FBNEIsQ0FBQ1UsTUFBTSxDQUFDcUIsQ0FBUCxHQUFXZCxVQUFVLENBQUNRLFFBQVEsR0FBRy9DLENBQVgsR0FBZSxDQUFoQixDQUFWLEdBQStCZ0MsTUFBTSxDQUFDRCxNQUFsRCxJQUE0REQsa0JBQXhGO0FBQ0g7QUFDSjs7QUFFRCxXQUFLLElBQUk5QixFQUFDLEdBQUcsQ0FBYixFQUFnQkEsRUFBQyxHQUFHMkMsYUFBYSxHQUFHLENBQXBDLEVBQXVDLEVBQUUzQyxFQUF6QyxFQUE0QztBQUN4Q21CLFFBQUFBLE9BQU8sQ0FBQ0UsV0FBVyxFQUFaLENBQVAsR0FBeUJpQixRQUFRLENBQUNMLG1CQUFtQixDQUFDUSxNQUFwQixHQUE2QmpGLFlBQVksQ0FBQzhGLGlCQUExQyxHQUE4RHRELEVBQS9ELENBQWpDO0FBQ0g7O0FBRURvQixNQUFBQSxhQUFhLENBQUN4QyxNQUFkLEdBQXVCMEMsUUFBdkI7QUFDQUgsTUFBQUEsT0FBTyxDQUFDdkMsTUFBUixHQUFpQnlDLFdBQWpCO0FBRUEsVUFBSWtDLFNBQVMsR0FBRyxDQUFDLENBQUN0QixtQkFBbUIsQ0FBQ3VCLE1BQXRDOztBQUNBLFVBQUlELFNBQUosRUFBZTtBQUNYLGFBQUtFLGtCQUFMO0FBQ0g7QUFDSixLQXZDRCxNQXdDSztBQUNELFVBQUl4RCxFQUFDLEdBQUcrQixNQUFNLENBQUNvQixDQUFQLEdBQVd4QixpQkFBbkI7O0FBQ0EsVUFBSWpCLENBQUMsR0FBRyxDQUFDcUIsTUFBTSxDQUFDcUIsQ0FBUCxHQUFXckIsTUFBTSxDQUFDRCxNQUFuQixJQUE2QkQsa0JBQXJDO0FBQ0EsVUFBSXhCLENBQUMsR0FBRyxDQUFDMEIsTUFBTSxDQUFDb0IsQ0FBUCxHQUFXcEIsTUFBTSxDQUFDSCxLQUFuQixJQUE0QkQsaUJBQXBDO0FBQ0EsVUFBSThCLENBQUMsR0FBRzFCLE1BQU0sQ0FBQ3FCLENBQVAsR0FBV3ZCLGtCQUFuQjtBQUVBVixNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCLENBQTVCLENBTkMsQ0FNOEI7O0FBQy9CRixNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCLENBQTVCLENBUEMsQ0FPOEI7O0FBQy9CRixNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCckIsRUFBNUIsQ0FSQyxDQVE4Qjs7QUFDL0JtQixNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCWCxDQUE1QixDQVRDLENBUzhCOztBQUUvQlMsTUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QlUsTUFBTSxDQUFDSCxLQUFuQyxDQVhDLENBV3lDOztBQUMxQ1QsTUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QixDQUE1QixDQVpDLENBWThCOztBQUMvQkYsTUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QmhCLENBQTVCLENBYkMsQ0FhOEI7O0FBQy9CYyxNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCWCxDQUE1QixDQWRDLENBYzhCOztBQUUvQlMsTUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QixDQUE1QixDQWhCQyxDQWdCOEI7O0FBQy9CRixNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCVSxNQUFNLENBQUNELE1BQW5DO0FBQTBDLE9BakJ6QyxDQWlCMkM7O0FBQzVDWCxNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCckIsRUFBNUIsQ0FsQkMsQ0FrQjhCOztBQUMvQm1CLE1BQUFBLGFBQWEsQ0FBQ0UsUUFBUSxFQUFULENBQWIsR0FBNEJvQyxDQUE1QixDQW5CQyxDQW1COEI7O0FBRS9CdEMsTUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0QlUsTUFBTSxDQUFDSCxLQUFuQyxDQXJCQyxDQXFCeUM7O0FBQzFDVCxNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCVSxNQUFNLENBQUNELE1BQW5DO0FBQTBDLE9BdEJ6QyxDQXNCMkM7O0FBQzVDWCxNQUFBQSxhQUFhLENBQUNFLFFBQVEsRUFBVCxDQUFiLEdBQTRCaEIsQ0FBNUIsQ0F2QkMsQ0F1QjhCOztBQUMvQmMsTUFBQUEsYUFBYSxDQUFDRSxRQUFRLEVBQVQsQ0FBYixHQUE0Qm9DLENBQTVCLENBeEJDLENBd0I4Qjs7QUFFL0J2QyxNQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLEdBQWEsQ0FBYjtBQUNBQSxNQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLEdBQWEsQ0FBYjtBQUNBQSxNQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLEdBQWEsQ0FBYjtBQUNBQSxNQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLEdBQWEsQ0FBYjtBQUNBQSxNQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLEdBQWEsQ0FBYjtBQUNBQSxNQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLEdBQWEsQ0FBYjtBQUVBQyxNQUFBQSxhQUFhLENBQUN4QyxNQUFkLEdBQXVCMEMsUUFBdkI7QUFDQUgsTUFBQUEsT0FBTyxDQUFDdkMsTUFBUixHQUFpQixDQUFqQjtBQUNIOztBQUVELFNBQUs4QyxhQUFMLEdBQXFCLElBQXJCO0FBQ0EsU0FBS2lDLGVBQUwsR0FBdUIsSUFBdkI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CLElBQW5CO0FBQ0gsR0E5THlCO0FBZ00xQkMsRUFBQUEsV0FoTTBCLHlCQWdNWDtBQUNYLFFBQU1iLEtBQUssR0FBRyxLQUFLQyxTQUFMLENBQWVDLGFBQWYsQ0FBNkJGLEtBQTNDO0FBQ0EsUUFBTWMsY0FBYyxHQUFHLEtBQUs1QixlQUFMLENBQXFCNkIsUUFBNUM7QUFDQSxRQUFNQyxLQUFLLEdBQUcsS0FBSzlCLGVBQUwsQ0FBcUI4QixLQUFuQztBQUNBLFFBQU01QixZQUFZLEdBQUcsS0FBS0YsZUFBTCxDQUFxQkUsWUFBMUM7QUFDQSxRQUFNNkIsVUFBVSxHQUFHN0IsWUFBWSxDQUFDb0IsTUFBaEM7QUFDQSxRQUFNVSxTQUFTLEdBQUdKLGNBQWMsQ0FBQ2xGLE1BQWYsR0FBd0IsQ0FBeEIsSUFBNkJ3RCxZQUFZLENBQUMrQixhQUE1RDtBQUVBLFFBQUkvQyxhQUFhLEdBQUcsS0FBS25ELGNBQXpCOztBQUNBLFFBQUlnRyxVQUFKLEVBQWdCO0FBQ1osVUFBTTVCLElBQUksR0FBR0QsWUFBWSxDQUFDQyxJQUExQjtBQUNBLFVBQU1DLFFBQVEsR0FBR0QsSUFBSSxDQUFDQyxRQUF0QjtBQUNBLFVBQU1DLFVBQVUsR0FBR0YsSUFBSSxDQUFDRSxVQUF4QjtBQUNBLFVBQU1DLFdBQVcsR0FBR0YsUUFBUSxDQUFDRixZQUFZLENBQUNLLE1BQWIsR0FBc0JqRixZQUFZLENBQUNrRixlQUFwQyxDQUE1QjtBQUNBLFVBQUkwQixpQkFBaUIsR0FBRzlCLFFBQVEsQ0FBQzJCLFVBQVUsQ0FBQ3hCLE1BQVgsR0FBb0JqRixZQUFZLENBQUM2RyxpQkFBbEMsQ0FBaEM7O0FBRUEsVUFBSUQsaUJBQWlCLEdBQUcsQ0FBeEIsRUFBMkI7QUFDdkJBLFFBQUFBLGlCQUFpQixJQUFJLEtBQXJCLENBRHVCLENBQ0s7QUFDL0I7O0FBRUQsV0FDSSxJQUFJcEUsQ0FBQyxHQUFHLENBQVIsRUFBV3NFLEVBQUUsR0FBR0wsVUFBVSxDQUFDeEIsTUFBWCxHQUFvQmpGLFlBQVksQ0FBQytHLGlCQUFqQyxHQUFxRFAsS0FBSyxDQUFDcEYsTUFBM0UsRUFBbUY0RixFQUFFLEdBQUdKLGlCQUF4RixFQUEyR0ssRUFBRSxHQUFHLENBQWhILEVBQW1IQyxHQUFHLEdBQUcsQ0FEN0gsRUFFSTFFLENBQUMsR0FBR3dDLFdBRlIsRUFHSXhDLENBQUMsSUFBSTBFLEdBQUcsSUFBRSxDQUhkLEVBSUU7QUFDRSxZQUFNQyxTQUFTLEdBQUdyQyxRQUFRLENBQUNnQyxFQUFFLEVBQUgsQ0FBMUI7QUFDQSxZQUFJTSxFQUFFLEdBQUcsR0FBVDtBQUFBLFlBQWNDLEVBQUUsR0FBRyxHQUFuQjs7QUFFQSxhQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdILFNBQXBCLEVBQStCLEVBQUVHLENBQWpDLEVBQW9DO0FBQ2hDLGNBQU1DLFNBQVMsR0FBR3pDLFFBQVEsQ0FBQ2dDLEVBQUUsRUFBSCxDQUExQjtBQUNBLGNBQU1VLElBQUksR0FBR2hCLEtBQUssQ0FBQ2UsU0FBRCxDQUFsQjs7QUFFQSxjQUFJQyxJQUFJLEtBQUssSUFBYixFQUFtQjtBQUNmLGdCQUFNQyxNQUFNLEdBQUdELElBQUksQ0FBQ0UscUJBQXBCO0FBQ0EsZ0JBQU0xQixNQUFNLEdBQUdqQixVQUFVLENBQUNpQyxFQUFFLEVBQUgsQ0FBekI7QUFDQSxnQkFBSVcsRUFBRSxHQUFHNUMsVUFBVSxDQUFDaUMsRUFBRSxFQUFILENBQVYsR0FBbUJ4QixLQUE1QjtBQUNBLGdCQUFJb0MsRUFBRSxHQUFHN0MsVUFBVSxDQUFDaUMsRUFBRSxFQUFILENBQVYsR0FBbUJ4QixLQUE1Qjs7QUFFQSxnQkFBSWtCLFNBQUosRUFBZTtBQUNYaUIsY0FBQUEsRUFBRSxJQUFJckIsY0FBYyxDQUFDVyxFQUFFLEVBQUgsQ0FBcEI7QUFDQVcsY0FBQUEsRUFBRSxJQUFJdEIsY0FBYyxDQUFDVyxFQUFFLEVBQUgsQ0FBcEI7QUFDSDs7QUFFREcsWUFBQUEsRUFBRSxJQUFJLENBQUNLLE1BQU0sQ0FBQ3BFLENBQVAsR0FBV3NFLEVBQVgsR0FBZ0JGLE1BQU0sQ0FBQzVFLENBQVAsR0FBVytFLEVBQTNCLEdBQWdDSCxNQUFNLENBQUNJLEVBQXhDLElBQThDN0IsTUFBcEQ7QUFDQXFCLFlBQUFBLEVBQUUsSUFBSSxDQUFDSSxNQUFNLENBQUN0RSxDQUFQLEdBQVd3RSxFQUFYLEdBQWdCRixNQUFNLENBQUNLLENBQVAsR0FBV0YsRUFBM0IsR0FBZ0NILE1BQU0sQ0FBQ00sRUFBeEMsSUFBOEMvQixNQUFwRDtBQUNIO0FBQ0o7O0FBRURwQyxRQUFBQSxhQUFhLENBQUNzRCxHQUFELENBQWIsR0FBcUJFLEVBQXJCO0FBQ0F4RCxRQUFBQSxhQUFhLENBQUNzRCxHQUFHLEdBQUcsQ0FBUCxDQUFiLEdBQXlCLENBQUNHLEVBQTFCO0FBQ0g7QUFDSixLQTFDRCxNQTJDSyxJQUFJWCxTQUFKLEVBQWU7QUFDaEIsVUFBTXNCLFNBQVMsR0FBRyxLQUFLQyxPQUFMLENBQWFDLFNBQWIsQ0FBdUJDLElBQXZCLEtBQWdDakksUUFBUSxDQUFDa0ksSUFBM0Q7QUFDQSxVQUFNdkQsS0FBSSxHQUFHRCxZQUFZLENBQUNDLElBQTFCO0FBQ0EsVUFBTUMsU0FBUSxHQUFHRCxLQUFJLENBQUNDLFFBQXRCO0FBQ0EsVUFBTUMsV0FBVSxHQUFHRixLQUFJLENBQUNFLFVBQXhCO0FBQ0EsVUFBTUMsWUFBVyxHQUFHRixTQUFRLENBQUNGLFlBQVksQ0FBQ0ssTUFBYixHQUFzQmpGLFlBQVksQ0FBQ2tGLGVBQXBDLENBQTVCO0FBQ0EsVUFBSUcsWUFBWSxHQUFHUCxTQUFRLENBQUNGLFlBQVksQ0FBQ0ssTUFBYixHQUFzQmpGLFlBQVksQ0FBQ3NGLGVBQXBDLENBQTNCOztBQUVBLFVBQUlELFlBQVksR0FBRyxDQUFuQixFQUFzQjtBQUNsQkEsUUFBQUEsWUFBWSxJQUFJLEtBQWhCLENBRGtCLENBQ0s7QUFDMUI7O0FBRUQsV0FBSyxJQUFJN0MsR0FBQyxHQUFHLENBQVIsRUFBV0MsQ0FBQyxHQUFHdUMsWUFBZixFQUE0QmtDLElBQUcsR0FBRyxDQUF2QyxFQUEwQzFFLEdBQUMsR0FBR0MsQ0FBOUMsRUFBaURELEdBQUMsSUFBSzBFLElBQUcsSUFBSSxDQUE5RCxFQUFpRTtBQUM3RCxZQUFNdEIsQ0FBQyxHQUFHYixXQUFVLENBQUNNLFlBQVksR0FBRzdDLEdBQUMsR0FBQyxDQUFsQixDQUFWLEdBQWlDZ0QsS0FBakMsR0FBeUNjLGNBQWMsQ0FBQzlELEdBQUMsR0FBQyxDQUFILENBQWpFO0FBQ0EsWUFBTXFELENBQUMsR0FBR2QsV0FBVSxDQUFDTSxZQUFZLEdBQUc3QyxHQUFDLEdBQUMsQ0FBakIsR0FBcUIsQ0FBdEIsQ0FBVixHQUFxQ2dELEtBQXJDLEdBQTZDYyxjQUFjLENBQUM5RCxHQUFDLEdBQUMsQ0FBRixHQUFNLENBQVAsQ0FBckU7O0FBRUEsWUFBSXdGLFNBQUosRUFBZTtBQUNYLGNBQU1QLE9BQU0sR0FBRyxLQUFLUSxPQUFMLENBQWFJLHlCQUFiLENBQXVDekMsQ0FBdkMsRUFBMENDLENBQTFDLENBQWY7O0FBQ0FqQyxVQUFBQSxhQUFhLENBQUNzRCxJQUFELENBQWIsR0FBcUJPLE9BQU0sQ0FBQ3BFLENBQVAsR0FBV3VDLENBQVgsR0FBZTZCLE9BQU0sQ0FBQzVFLENBQVAsR0FBV2dELENBQTFCLEdBQThCNEIsT0FBTSxDQUFDSSxFQUExRDtBQUNBakUsVUFBQUEsYUFBYSxDQUFDc0QsSUFBRyxHQUFHLENBQVAsQ0FBYixHQUF5QixDQUFDTyxPQUFNLENBQUN0RSxDQUFSLEdBQVl5QyxDQUFaLEdBQWdCNkIsT0FBTSxDQUFDSyxDQUFQLEdBQVdqQyxDQUEzQixHQUErQjRCLE9BQU0sQ0FBQ00sRUFBL0Q7QUFDSCxTQUpELE1BS0s7QUFDRG5FLFVBQUFBLGFBQWEsQ0FBQ3NELElBQUQsQ0FBYixHQUFxQnRCLENBQXJCO0FBQ0FoQyxVQUFBQSxhQUFhLENBQUNzRCxJQUFHLEdBQUcsQ0FBUCxDQUFiLEdBQXlCLENBQUNyQixDQUExQjtBQUNIO0FBQ0o7QUFDSjs7QUFFRCxRQUFJWSxVQUFKLEVBQWdCO0FBQ1osV0FBS1Isa0JBQUw7QUFDSDtBQUNKLEdBblJ5QjtBQXFSMUJBLEVBQUFBLGtCQXJSMEIsZ0NBcVJMO0FBQ2pCLFFBQUlxQyxDQUFDLEdBQUcsS0FBSzNILE9BQUwsQ0FBYTJILENBQXJCO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxHQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxHQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFDLEdBQVI7QUFDQUEsSUFBQUEsQ0FBQyxDQUFDLENBQUQsQ0FBRCxHQUFPLENBQUMsR0FBUjtBQUNBQSxJQUFBQSxDQUFDLENBQUMsRUFBRCxDQUFELEdBQVEsR0FBUjtBQUNBQSxJQUFBQSxDQUFDLENBQUMsRUFBRCxDQUFELEdBQVEsR0FBUjtBQUNBLFNBQUt4SCxpQkFBTCxHQUF5QixJQUF6QjtBQUNILEdBOVJ5QjtBQWdTMUJ5SCxFQUFBQSxnQkFoUzBCLDhCQWdTTjtBQUNoQixRQUFJckMsQ0FBQyxHQUFHLEtBQUt2RixPQUFiO0FBQ0EsUUFBSTZILEVBQUUsR0FBR3RDLENBQUMsQ0FBQ29DLENBQVg7QUFDQUUsSUFBQUEsRUFBRSxDQUFDLENBQUQsQ0FBRixHQUFRLEtBQUtkLHFCQUFMLENBQTJCckUsQ0FBbkM7QUFDQW1GLElBQUFBLEVBQUUsQ0FBQyxDQUFELENBQUYsR0FBUSxLQUFLZCxxQkFBTCxDQUEyQnZFLENBQW5DO0FBQ0FxRixJQUFBQSxFQUFFLENBQUMsQ0FBRCxDQUFGLEdBQVEsQ0FBQyxLQUFLZCxxQkFBTCxDQUEyQjdFLENBQXBDO0FBQ0EyRixJQUFBQSxFQUFFLENBQUMsQ0FBRCxDQUFGLEdBQVEsQ0FBQyxLQUFLZCxxQkFBTCxDQUEyQkksQ0FBcEM7O0FBRUEsUUFBSSxLQUFLekYsY0FBVCxFQUF5QjtBQUNyQm1HLE1BQUFBLEVBQUUsQ0FBQyxFQUFELENBQUYsR0FBUyxLQUFLZCxxQkFBTCxDQUEyQkcsRUFBcEM7QUFDQVcsTUFBQUEsRUFBRSxDQUFDLEVBQUQsQ0FBRixHQUFTLEtBQUtkLHFCQUFMLENBQTJCSyxFQUFwQztBQUNILEtBSEQsTUFHTztBQUNIUyxNQUFBQSxFQUFFLENBQUMsRUFBRCxDQUFGLEdBQVMsS0FBS2QscUJBQUwsQ0FBMkJHLEVBQTNCLElBQWlDLEtBQUtILHFCQUFMLENBQTJCckUsQ0FBM0IsR0FBK0IsS0FBS29GLE9BQXBDLEdBQThDLEtBQUtmLHFCQUFMLENBQTJCN0UsQ0FBM0IsR0FBK0IsS0FBSzZGLE9BQW5ILENBQVQ7QUFDQUYsTUFBQUEsRUFBRSxDQUFDLEVBQUQsQ0FBRixHQUFTLEtBQUtkLHFCQUFMLENBQTJCSyxFQUEzQixJQUFpQyxLQUFLTCxxQkFBTCxDQUEyQnZFLENBQTNCLEdBQStCLEtBQUtzRixPQUFwQyxHQUE4QyxLQUFLZixxQkFBTCxDQUEyQkksQ0FBM0IsR0FBK0IsS0FBS1ksT0FBbkgsQ0FBVDtBQUNIOztBQUNELFNBQUs1SCxpQkFBTCxHQUF5QixJQUF6QjtBQUNILEdBaFR5QjtBQWtUMUI2SCxFQUFBQSxpQkFsVDBCLCtCQWtUTDtBQUNqQixRQUFJLENBQUMsS0FBS2xELFNBQVYsRUFBcUI7QUFFckIsUUFBSW1ELFVBQVUsR0FBRyxLQUFLbkQsU0FBTCxDQUFld0MsT0FBaEM7O0FBQ0EsUUFBSVcsVUFBSixFQUFnQjtBQUNaQSxNQUFBQSxVQUFVLENBQUNELGlCQUFYO0FBQ0g7O0FBRUQsUUFBSSxLQUFLN0gsaUJBQVQsRUFBNEI7QUFDeEIsV0FBSytILGlCQUFMO0FBQ0EsVUFBSUMsYUFBYSxHQUFHLEtBQUtBLGFBQXpCO0FBQ0EsVUFBSSxDQUFDQSxhQUFMLEVBQW9CO0FBQ3BCLFVBQUlDLEtBQUssR0FBR0QsYUFBYSxDQUFDdkcsUUFBZCxFQUFaOztBQUNBLFdBQUssSUFBSUMsQ0FBQyxHQUFHLENBQVIsRUFBVXdHLENBQUMsR0FBR0QsS0FBSyxDQUFDM0gsTUFBekIsRUFBaUNvQixDQUFDLEdBQUd3RyxDQUFyQyxFQUF3Q3hHLENBQUMsRUFBekMsRUFBNkM7QUFDekMsWUFBSUUsSUFBSSxHQUFHcUcsS0FBSyxDQUFDdkcsQ0FBRCxDQUFoQjs7QUFDQSxZQUFJRSxJQUFKLEVBQVU7QUFDTkEsVUFBQUEsSUFBSSxDQUFDNUIsaUJBQUwsR0FBeUIsSUFBekI7QUFDSDtBQUNKO0FBQ0o7QUFDSixHQXRVeUI7QUF3VTFCbUksRUFBQUEsT0F4VTBCLG1CQXdVakJDLEdBeFVpQixFQXdVWjdGLENBeFVZLEVBd1VURixDQXhVUyxFQXdVTjtBQUNoQixRQUFJZ0csRUFBRSxHQUFHOUYsQ0FBQyxDQUFDaUYsQ0FBWDtBQUFBLFFBQWNjLEVBQUUsR0FBR2pHLENBQUMsQ0FBQ21GLENBQXJCO0FBQUEsUUFBd0JlLElBQUksR0FBR0gsR0FBRyxDQUFDWixDQUFuQztBQUNBLFFBQUlnQixFQUFFLEdBQUNILEVBQUUsQ0FBQyxDQUFELENBQVQ7QUFBQSxRQUFjSSxFQUFFLEdBQUNKLEVBQUUsQ0FBQyxDQUFELENBQW5CO0FBQUEsUUFBd0JLLEVBQUUsR0FBQ0wsRUFBRSxDQUFDLENBQUQsQ0FBN0I7QUFBQSxRQUFrQ00sRUFBRSxHQUFDTixFQUFFLENBQUMsQ0FBRCxDQUF2QztBQUFBLFFBQTRDTyxHQUFHLEdBQUNQLEVBQUUsQ0FBQyxFQUFELENBQWxEO0FBQUEsUUFBd0RRLEdBQUcsR0FBQ1IsRUFBRSxDQUFDLEVBQUQsQ0FBOUQ7QUFDQSxRQUFJUyxFQUFFLEdBQUNSLEVBQUUsQ0FBQyxDQUFELENBQVQ7QUFBQSxRQUFjUyxFQUFFLEdBQUNULEVBQUUsQ0FBQyxDQUFELENBQW5CO0FBQUEsUUFBd0JVLEVBQUUsR0FBQ1YsRUFBRSxDQUFDLENBQUQsQ0FBN0I7QUFBQSxRQUFrQ1csRUFBRSxHQUFDWCxFQUFFLENBQUMsQ0FBRCxDQUF2QztBQUFBLFFBQTRDWSxHQUFHLEdBQUNaLEVBQUUsQ0FBQyxFQUFELENBQWxEO0FBQUEsUUFBd0RhLEdBQUcsR0FBQ2IsRUFBRSxDQUFDLEVBQUQsQ0FBOUQ7O0FBQ0EsUUFBSUcsRUFBRSxLQUFLLENBQVAsSUFBWUMsRUFBRSxLQUFLLENBQXZCLEVBQTBCO0FBQ3RCSCxNQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLEdBQVVPLEVBQUUsR0FBR04sRUFBTCxHQUFVTyxFQUFFLEdBQUdMLEVBQXpCO0FBQ0FILE1BQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVU8sRUFBRSxHQUFHTCxFQUFMLEdBQVVNLEVBQUUsR0FBR0osRUFBekI7QUFDQUosTUFBQUEsSUFBSSxDQUFDLENBQUQsQ0FBSixHQUFVUyxFQUFFLEdBQUdSLEVBQUwsR0FBVVMsRUFBRSxHQUFHUCxFQUF6QjtBQUNBSCxNQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLEdBQVVTLEVBQUUsR0FBR1AsRUFBTCxHQUFVUSxFQUFFLEdBQUdOLEVBQXpCO0FBQ0FKLE1BQUFBLElBQUksQ0FBQyxFQUFELENBQUosR0FBV0MsRUFBRSxHQUFHVSxHQUFMLEdBQVdSLEVBQUUsR0FBR1MsR0FBaEIsR0FBc0JQLEdBQWpDO0FBQ0FMLE1BQUFBLElBQUksQ0FBQyxFQUFELENBQUosR0FBV0UsRUFBRSxHQUFHUyxHQUFMLEdBQVdQLEVBQUUsR0FBR1EsR0FBaEIsR0FBc0JOLEdBQWpDO0FBQ0gsS0FQRCxNQVFLO0FBQ0ROLE1BQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVU8sRUFBRSxHQUFHTixFQUFmO0FBQ0FELE1BQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVVEsRUFBRSxHQUFHSixFQUFmO0FBQ0FKLE1BQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVVMsRUFBRSxHQUFHUixFQUFmO0FBQ0FELE1BQUFBLElBQUksQ0FBQyxDQUFELENBQUosR0FBVVUsRUFBRSxHQUFHTixFQUFmO0FBQ0FKLE1BQUFBLElBQUksQ0FBQyxFQUFELENBQUosR0FBV0MsRUFBRSxHQUFHVSxHQUFMLEdBQVdOLEdBQXRCO0FBQ0FMLE1BQUFBLElBQUksQ0FBQyxFQUFELENBQUosR0FBV0ksRUFBRSxHQUFHUSxHQUFMLEdBQVdOLEdBQXRCO0FBQ0g7QUFDSixHQTVWeUI7QUE4VjFCZCxFQUFBQSxpQkE5VjBCLCtCQThWTDtBQUNqQixRQUFJM0csTUFBTSxHQUFHLEtBQUt1RCxTQUFMLENBQWV3QyxPQUE1Qjs7QUFDQSxRQUFJL0YsTUFBSixFQUFZO0FBQ1IsV0FBSytHLE9BQUwsQ0FBYSxLQUFLcEksWUFBbEIsRUFBZ0NxQixNQUFNLENBQUNyQixZQUF2QyxFQUFxRCxLQUFLRixPQUExRDtBQUNILEtBRkQsTUFFTztBQUNIVSxzQkFBSzZJLElBQUwsQ0FBVSxLQUFLckosWUFBZixFQUE2QixLQUFLRixPQUFsQztBQUNIOztBQUNELFNBQUtHLGlCQUFMLEdBQXlCLEtBQXpCO0FBQ0g7QUF0V3lCLENBQVQsQ0FBckIiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwOi8vd3d3LmNvY29zMmQteC5vcmdcblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBNYXQ0IGZyb20gJy4uLy4uL2NvY29zMmQvY29yZS92YWx1ZS10eXBlcy9tYXQ0JztcblxuY29uc3QgQmluYXJ5T2Zmc2V0ID0gZHJhZ29uQm9uZXMuQmluYXJ5T2Zmc2V0O1xuY29uc3QgQm9uZVR5cGUgID0gZHJhZ29uQm9uZXMuQm9uZVR5cGU7XG5cbmRyYWdvbkJvbmVzLkNDU2xvdCA9IGNjLkNsYXNzKHtcbiAgICBuYW1lOiAnZHJhZ29uQm9uZXMuQ0NTbG90JyxcbiAgICBleHRlbmRzOiBkcmFnb25Cb25lcy5TbG90LFxuXG4gICAgY3RvciAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsVmVydGljZXMgPSBbXTtcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IFtdO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBjYy5tYXQ0KCk7XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4ID0gY2MubWF0NCgpO1xuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNjLmNvbG9yKCk7XG4gICAgfSxcblxuICAgIF9vbkNsZWFyICgpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbG9jYWxWZXJ0aWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIE1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcbiAgICAgICAgTWF0NC5pZGVudGl0eSh0aGlzLl93b3JsZE1hdHJpeCk7XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNjLmNvbG9yKCk7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgc3RhdGljcyA6IHtcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIltjbGFzcyBkcmFnb25Cb25lcy5DQ1Nsb3RdXCI7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXG4gICAgX29uVXBkYXRlRGlzcGxheSAoKSB7XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGFkYXB0IHRvIGRyYWdvbmJvbmVzIGFwaSxubyBuZWVkIHRvIGRvIGFueSB0aGluZ1xuICAgIF9pbml0RGlzcGxheSAodmFsdWUpIHtcbiAgICB9LFxuXG4gICAgX2FkZERpc3BsYXkgKCkge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXG4gICAgX3JlcGxhY2VEaXNwbGF5ICh2YWx1ZSkge1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlRGlzcGxheSAoKSB7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXG4gICAgX2Rpc3Bvc2VEaXNwbGF5IChvYmplY3QpIHtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZVZpc2libGUgKCkge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdGhpcy5wYXJlbnQuX3Zpc2libGUgJiYgdGhpcy5faW5kaWNlcy5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcbiAgICBfdXBkYXRlWk9yZGVyICgpIHtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUJsZW5kTW9kZSAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGlsZEFybWF0dXJlKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRTbG90cyA9IHRoaXMuX2NoaWxkQXJtYXR1cmUuZ2V0U2xvdHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRTbG90cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc2xvdCA9IGNoaWxkU2xvdHNbaV07XG4gICAgICAgICAgICAgICAgc2xvdC5fYmxlbmRNb2RlID0gdGhpcy5fYmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgIHNsb3QuX3VwZGF0ZUJsZW5kTW9kZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF91cGRhdGVDb2xvciAoKSB7XG4gICAgICAgIGxldCBjID0gdGhpcy5fY29sb3I7XG4gICAgICAgIGMuciA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLnJlZE11bHRpcGxpZXIgKiAyNTU7XG4gICAgICAgIGMuZyA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLmdyZWVuTXVsdGlwbGllciAqIDI1NTtcbiAgICAgICAgYy5iID0gdGhpcy5fY29sb3JUcmFuc2Zvcm0uYmx1ZU11bHRpcGxpZXIgKiAyNTU7XG4gICAgICAgIGMuYSA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLmFscGhhTXVsdGlwbGllciAqIDI1NTtcbiAgICB9LFxuXG4gICAgLy9yZXR1cm4gZHJhZ29uQm9uZXMuQ0NUZXh0dXJlMkRcbiAgICBnZXRUZXh0dXJlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVEYXRhICYmIHRoaXMuX3RleHR1cmVEYXRhLnNwcml0ZUZyYW1lICYmIHRoaXMuX3RleHR1cmVEYXRhLnNwcml0ZUZyYW1lLmdldFRleHR1cmUoKTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUZyYW1lICgpIHtcbiAgICAgICAgdGhpcy5faW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICBsZXQgaW5kaWNlcyA9IHRoaXMuX2luZGljZXMsXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzID0gdGhpcy5fbG9jYWxWZXJ0aWNlcztcbiAgICAgICAgbGV0IGluZGV4T2Zmc2V0ID0gMCwgdmZPZmZzZXQgPSAwO1xuXG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZURhdGEgPSB0aGlzLl90ZXh0dXJlRGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNwbGF5IHx8IHRoaXMuX2Rpc3BsYXlJbmRleCA8IDAgfHwgIWN1cnJlbnRUZXh0dXJlRGF0YSB8fCAhY3VycmVudFRleHR1cmVEYXRhLnNwcml0ZUZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXNwbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGVEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleHR1cmUgPSBjdXJyZW50VGV4dHVyZURhdGEuc3ByaXRlRnJhbWUuZ2V0VGV4dHVyZSgpO1xuICAgICAgICBsZXQgdGV4dHVyZUF0bGFzV2lkdGggPSB0ZXh0dXJlLndpZHRoO1xuICAgICAgICBsZXQgdGV4dHVyZUF0bGFzSGVpZ2h0ID0gdGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGxldCByZWdpb24gPSBjdXJyZW50VGV4dHVyZURhdGEucmVnaW9uO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWZXJ0aWNlc0RhdGEgPSAodGhpcy5fZGVmb3JtVmVydGljZXMgIT09IG51bGwgJiYgdGhpcy5fZGlzcGxheSA9PT0gdGhpcy5fbWVzaERpc3BsYXkpID8gdGhpcy5fZGVmb3JtVmVydGljZXMudmVydGljZXNEYXRhIDogbnVsbDtcblxuICAgICAgICBpZiAoY3VycmVudFZlcnRpY2VzRGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGN1cnJlbnRWZXJ0aWNlc0RhdGEuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGludEFycmF5ID0gZGF0YS5pbnRBcnJheTtcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0QXJyYXkgPSBkYXRhLmZsb2F0QXJyYXk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhDb3VudF07XG4gICAgICAgICAgICBjb25zdCB0cmlhbmdsZUNvdW50ID0gaW50QXJyYXlbY3VycmVudFZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFRyaWFuZ2xlQ291bnRdO1xuICAgICAgICAgICAgbGV0IHZlcnRleE9mZnNldCA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hGbG9hdE9mZnNldF07XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0ZXhPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IDY1NTM2OyAvLyBGaXhlZCBvdXQgb2YgYm91ZHMgYnVnLlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1dk9mZnNldCA9IHZlcnRleE9mZnNldCArIHZlcnRleENvdW50ICogMjtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fYXJtYXR1cmUuX2FybWF0dXJlRGF0YS5zY2FsZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB2ZXJ0ZXhDb3VudCAqIDI7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAtZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpICsgMV0gKiBzY2FsZTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmVydGljZXNEYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IChyZWdpb24ueCArICgxLjAgLSBmbG9hdEFycmF5W3V2T2Zmc2V0ICsgaV0pICogcmVnaW9uLndpZHRoKSAvIHRleHR1cmVBdGxhc1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gKHJlZ2lvbi55ICsgZmxvYXRBcnJheVt1dk9mZnNldCArIGkgKyAxXSAqIHJlZ2lvbi5oZWlnaHQpIC8gdGV4dHVyZUF0bGFzSGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAocmVnaW9uLnggKyBmbG9hdEFycmF5W3V2T2Zmc2V0ICsgaV0gKiByZWdpb24ud2lkdGgpIC8gdGV4dHVyZUF0bGFzV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAocmVnaW9uLnkgKyBmbG9hdEFycmF5W3V2T2Zmc2V0ICsgaSArIDFdICogcmVnaW9uLmhlaWdodCkgLyB0ZXh0dXJlQXRsYXNIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlQ291bnQgKiAzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzW2luZGV4T2Zmc2V0KytdID0gaW50QXJyYXlbY3VycmVudFZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFZlcnRleEluZGljZXMgKyBpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlcy5sZW5ndGggPSB2Zk9mZnNldDtcbiAgICAgICAgICAgIGluZGljZXMubGVuZ3RoID0gaW5kZXhPZmZzZXQ7XG5cbiAgICAgICAgICAgIGxldCBpc1NraW5uZWQgPSAhIWN1cnJlbnRWZXJ0aWNlc0RhdGEud2VpZ2h0O1xuICAgICAgICAgICAgaWYgKGlzU2tpbm5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5VHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbCA9IHJlZ2lvbi54IC8gdGV4dHVyZUF0bGFzV2lkdGg7XG4gICAgICAgICAgICBsZXQgYiA9IChyZWdpb24ueSArIHJlZ2lvbi5oZWlnaHQpIC8gdGV4dHVyZUF0bGFzSGVpZ2h0O1xuICAgICAgICAgICAgbGV0IHIgPSAocmVnaW9uLnggKyByZWdpb24ud2lkdGgpIC8gdGV4dHVyZUF0bGFzV2lkdGg7XG4gICAgICAgICAgICBsZXQgdCA9IHJlZ2lvbi55IC8gdGV4dHVyZUF0bGFzSGVpZ2h0O1xuXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gMDsgLy8gMHhcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAwOyAvLyAweVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IGw7IC8vIDB1XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gYjsgLy8gMHZcblxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHJlZ2lvbi53aWR0aDsgLy8gMXhcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAwOyAvLyAxeVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHI7IC8vIDF1XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gYjsgLy8gMXZcblxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IDA7IC8vIDJ4XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcmVnaW9uLmhlaWdodDs7IC8vIDJ5XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gbDsgLy8gMnVcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSB0OyAvLyAydlxuXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcmVnaW9uLndpZHRoOyAvLyAzeFxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHJlZ2lvbi5oZWlnaHQ7OyAvLyAzeVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHI7IC8vIDN1XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gdDsgLy8gM3ZcblxuICAgICAgICAgICAgaW5kaWNlc1swXSA9IDA7XG4gICAgICAgICAgICBpbmRpY2VzWzFdID0gMTtcbiAgICAgICAgICAgIGluZGljZXNbMl0gPSAyO1xuICAgICAgICAgICAgaW5kaWNlc1szXSA9IDE7XG4gICAgICAgICAgICBpbmRpY2VzWzRdID0gMztcbiAgICAgICAgICAgIGluZGljZXNbNV0gPSAyO1xuXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzLmxlbmd0aCA9IHZmT2Zmc2V0O1xuICAgICAgICAgICAgaW5kaWNlcy5sZW5ndGggPSA2O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmlzaWJsZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYmxlbmRNb2RlRGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZU1lc2ggKCkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2FybWF0dXJlLl9hcm1hdHVyZURhdGEuc2NhbGU7XG4gICAgICAgIGNvbnN0IGRlZm9ybVZlcnRpY2VzID0gdGhpcy5fZGVmb3JtVmVydGljZXMudmVydGljZXM7XG4gICAgICAgIGNvbnN0IGJvbmVzID0gdGhpcy5fZGVmb3JtVmVydGljZXMuYm9uZXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzRGF0YSA9IHRoaXMuX2RlZm9ybVZlcnRpY2VzLnZlcnRpY2VzRGF0YTtcbiAgICAgICAgY29uc3Qgd2VpZ2h0RGF0YSA9IHZlcnRpY2VzRGF0YS53ZWlnaHQ7XG4gICAgICAgIGNvbnN0IGhhc0RlZm9ybSA9IGRlZm9ybVZlcnRpY2VzLmxlbmd0aCA+IDAgJiYgdmVydGljZXNEYXRhLmluaGVyaXREZWZvcm07XG5cbiAgICAgICAgbGV0IGxvY2FsVmVydGljZXMgPSB0aGlzLl9sb2NhbFZlcnRpY2VzO1xuICAgICAgICBpZiAod2VpZ2h0RGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHZlcnRpY2VzRGF0YS5kYXRhO1xuICAgICAgICAgICAgY29uc3QgaW50QXJyYXkgPSBkYXRhLmludEFycmF5O1xuICAgICAgICAgICAgY29uc3QgZmxvYXRBcnJheSA9IGRhdGEuZmxvYXRBcnJheTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gaW50QXJyYXlbdmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoVmVydGV4Q291bnRdO1xuICAgICAgICAgICAgbGV0IHdlaWdodEZsb2F0T2Zmc2V0ID0gaW50QXJyYXlbd2VpZ2h0RGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuV2VpZ3RoRmxvYXRPZmZzZXRdO1xuXG4gICAgICAgICAgICBpZiAod2VpZ2h0RmxvYXRPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgd2VpZ2h0RmxvYXRPZmZzZXQgKz0gNjU1MzY7IC8vIEZpeGVkIG91dCBvZiBib3VkcyBidWcuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwLCBpQiA9IHdlaWdodERhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0LldlaWd0aEJvbmVJbmRpY2VzICsgYm9uZXMubGVuZ3RoLCBpViA9IHdlaWdodEZsb2F0T2Zmc2V0LCBpRiA9IDAsIGx2aSA9IDA7XG4gICAgICAgICAgICAgICAgaSA8IHZlcnRleENvdW50O1xuICAgICAgICAgICAgICAgIGkrKywgbHZpKz00XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lQ291bnQgPSBpbnRBcnJheVtpQisrXTtcbiAgICAgICAgICAgICAgICBsZXQgeEcgPSAwLjAsIHlHID0gMC4wO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBib25lQ291bnQ7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib25lSW5kZXggPSBpbnRBcnJheVtpQisrXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9uZSA9IGJvbmVzW2JvbmVJbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvbmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IGJvbmUuZ2xvYmFsVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ID0gZmxvYXRBcnJheVtpVisrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4TCA9IGZsb2F0QXJyYXlbaVYrK10gKiBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5TCA9IGZsb2F0QXJyYXlbaVYrK10gKiBzY2FsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0RlZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhMICs9IGRlZm9ybVZlcnRpY2VzW2lGKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlMICs9IGRlZm9ybVZlcnRpY2VzW2lGKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB4RyArPSAobWF0cml4LmEgKiB4TCArIG1hdHJpeC5jICogeUwgKyBtYXRyaXgudHgpICogd2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgeUcgKz0gKG1hdHJpeC5iICogeEwgKyBtYXRyaXguZCAqIHlMICsgbWF0cml4LnR5KSAqIHdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpXSA9IHhHO1xuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpICsgMV0gPSAteUc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzRGVmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCBpc1N1cmZhY2UgPSB0aGlzLl9wYXJlbnQuX2JvbmVEYXRhLnR5cGUgIT09IEJvbmVUeXBlLkJvbmU7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdmVydGljZXNEYXRhLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBpbnRBcnJheSA9IGRhdGEuaW50QXJyYXk7XG4gICAgICAgICAgICBjb25zdCBmbG9hdEFycmF5ID0gZGF0YS5mbG9hdEFycmF5O1xuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSBpbnRBcnJheVt2ZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhDb3VudF07XG4gICAgICAgICAgICBsZXQgdmVydGV4T2Zmc2V0ID0gaW50QXJyYXlbdmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoRmxvYXRPZmZzZXRdO1xuXG4gICAgICAgICAgICBpZiAodmVydGV4T2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIHZlcnRleE9mZnNldCArPSA2NTUzNjsgLy8gRml4ZWQgb3V0IG9mIGJvdWRzIGJ1Zy5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB2ZXJ0ZXhDb3VudCwgbHZpID0gMDsgaSA8IGw7IGkgKyssIGx2aSArPSA0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGZsb2F0QXJyYXlbdmVydGV4T2Zmc2V0ICsgaSoyXSAqIHNjYWxlICsgZGVmb3JtVmVydGljZXNbaSoyXTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpKjIgKyAxXSAqIHNjYWxlICsgZGVmb3JtVmVydGljZXNbaSoyICsgMV07XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNTdXJmYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuX3BhcmVudC5fZ2V0R2xvYmFsVHJhbnNmb3JtTWF0cml4KHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW2x2aV0gPSBtYXRyaXguYSAqIHggKyBtYXRyaXguYyAqIHkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpICsgMV0gPSAtbWF0cml4LmIgKiB4ICsgbWF0cml4LmQgKiB5ICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmldID0geDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmkgKyAxXSA9IC15O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWlnaHREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eVRyYW5zZm9ybSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9pZGVudGl0eVRyYW5zZm9ybSgpIHtcbiAgICAgICAgbGV0IG0gPSB0aGlzLl9tYXRyaXgubTtcbiAgICAgICAgbVswXSA9IDEuMDtcbiAgICAgICAgbVsxXSA9IDAuMDtcbiAgICAgICAgbVs0XSA9IC0wLjA7XG4gICAgICAgIG1bNV0gPSAtMS4wO1xuICAgICAgICBtWzEyXSA9IDAuMDtcbiAgICAgICAgbVsxM10gPSAwLjA7XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlVHJhbnNmb3JtICgpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGxldCB0bSA9IHQubTtcbiAgICAgICAgdG1bMF0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5hO1xuICAgICAgICB0bVsxXSA9IHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmI7XG4gICAgICAgIHRtWzRdID0gLXRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmM7XG4gICAgICAgIHRtWzVdID0gLXRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NoaWxkQXJtYXR1cmUpIHtcbiAgICAgICAgICAgIHRtWzEyXSA9IHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LnR4O1xuICAgICAgICAgICAgdG1bMTNdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXgudHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0bVsxMl0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eCAtICh0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5hICogdGhpcy5fcGl2b3RYIC0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYyAqIHRoaXMuX3Bpdm90WSk7XG4gICAgICAgICAgICB0bVsxM10gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eSAtICh0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5iICogdGhpcy5fcGl2b3RYIC0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguZCAqIHRoaXMuX3Bpdm90WSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd29ybGRNYXRyaXhEaXJ0eSA9IHRydWU7XG4gICAgfSxcblxuICAgIHVwZGF0ZVdvcmxkTWF0cml4ICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hcm1hdHVyZSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwYXJlbnRTbG90ID0gdGhpcy5fYXJtYXR1cmUuX3BhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudFNsb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFNsb3QudXBkYXRlV29ybGRNYXRyaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl93b3JsZE1hdHJpeERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bFdvcmxkTWF0cml4KCk7XG4gICAgICAgICAgICB2YXIgY2hpbGRBcm1hdHVyZSA9IHRoaXMuY2hpbGRBcm1hdHVyZTtcbiAgICAgICAgICAgIGlmICghY2hpbGRBcm1hdHVyZSkgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIHNsb3RzID0gY2hpbGRBcm1hdHVyZS5nZXRTbG90cygpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsbiA9IHNsb3RzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzbG90ID0gc2xvdHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xvdC5fd29ybGRNYXRyaXhEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9tdWxNYXQgKG91dCwgYSwgYikge1xuICAgICAgICBsZXQgYW0gPSBhLm0sIGJtID0gYi5tLCBvdXRtID0gb3V0Lm07XG4gICAgICAgIGxldCBhYT1hbVswXSwgYWI9YW1bMV0sIGFjPWFtWzRdLCBhZD1hbVs1XSwgYXR4PWFtWzEyXSwgYXR5PWFtWzEzXTtcbiAgICAgICAgbGV0IGJhPWJtWzBdLCBiYj1ibVsxXSwgYmM9Ym1bNF0sIGJkPWJtWzVdLCBidHg9Ym1bMTJdLCBidHk9Ym1bMTNdO1xuICAgICAgICBpZiAoYWIgIT09IDAgfHwgYWMgIT09IDApIHtcbiAgICAgICAgICAgIG91dG1bMF0gPSBiYSAqIGFhICsgYmIgKiBhYztcbiAgICAgICAgICAgIG91dG1bMV0gPSBiYSAqIGFiICsgYmIgKiBhZDtcbiAgICAgICAgICAgIG91dG1bNF0gPSBiYyAqIGFhICsgYmQgKiBhYztcbiAgICAgICAgICAgIG91dG1bNV0gPSBiYyAqIGFiICsgYmQgKiBhZDtcbiAgICAgICAgICAgIG91dG1bMTJdID0gYWEgKiBidHggKyBhYyAqIGJ0eSArIGF0eDtcbiAgICAgICAgICAgIG91dG1bMTNdID0gYWIgKiBidHggKyBhZCAqIGJ0eSArIGF0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dG1bMF0gPSBiYSAqIGFhO1xuICAgICAgICAgICAgb3V0bVsxXSA9IGJiICogYWQ7XG4gICAgICAgICAgICBvdXRtWzRdID0gYmMgKiBhYTtcbiAgICAgICAgICAgIG91dG1bNV0gPSBiZCAqIGFkO1xuICAgICAgICAgICAgb3V0bVsxMl0gPSBhYSAqIGJ0eCArIGF0eDtcbiAgICAgICAgICAgIG91dG1bMTNdID0gYWQgKiBidHkgKyBhdHk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2FsY3VsV29ybGRNYXRyaXggKCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fYXJtYXR1cmUuX3BhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fbXVsTWF0KHRoaXMuX3dvcmxkTWF0cml4ICxwYXJlbnQuX3dvcmxkTWF0cml4LCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTWF0NC5jb3B5KHRoaXMuX3dvcmxkTWF0cml4LCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSBmYWxzZTtcbiAgICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiLyJ9