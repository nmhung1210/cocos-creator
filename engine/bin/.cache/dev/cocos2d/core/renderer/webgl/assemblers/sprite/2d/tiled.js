
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/core/renderer/webgl/assemblers/sprite/2d/tiled.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _assembler2d = _interopRequireDefault(require("../../../../assembler-2d"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var TiledAssembler = /*#__PURE__*/function (_Assembler2D) {
  _inheritsLoose(TiledAssembler, _Assembler2D);

  function TiledAssembler() {
    return _Assembler2D.apply(this, arguments) || this;
  }

  var _proto = TiledAssembler.prototype;

  _proto.initData = function initData(sprite) {
    this.verticesCount = 0;
    this.contentWidth = 0;
    this.contentHeight = 0;
    this.rectWidth = 0;
    this.rectHeight = 0;
    this.hRepeat = 0;
    this.vRepeat = 0;
    this.row = 0;
    this.col = 0;

    this._renderData.createFlexData(0, 4, 6, this.getVfmt());

    this._updateIndices();
  };

  _proto.initLocal = function initLocal() {
    this._local = {
      x: [],
      y: []
    };
  };

  _proto._updateIndices = function _updateIndices() {
    var iData = this._renderData.iDatas[0];

    for (var i = 0, vid = 0, l = iData.length; i < l; i += 6, vid += 4) {
      iData[i] = vid;
      iData[i + 1] = vid + 1;
      iData[i + 2] = vid + 2;
      iData[i + 3] = vid + 1;
      iData[i + 4] = vid + 3;
      iData[i + 5] = vid + 2;
    }
  };

  _proto.updateRenderData = function updateRenderData(sprite) {
    var frame = sprite._spriteFrame;
    this.packToDynamicAtlas(sprite, frame);
    var node = sprite.node;
    var contentWidth = this.contentWidth = Math.abs(node.width);
    var contentHeight = this.contentHeight = Math.abs(node.height);
    var rect = frame._rect;
    var leftWidth = frame.insetLeft,
        rightWidth = frame.insetRight,
        centerWidth = rect.width - leftWidth - rightWidth,
        topHeight = frame.insetTop,
        bottomHeight = frame.insetBottom,
        centerHeight = rect.height - topHeight - bottomHeight;
    this.sizableWidth = contentWidth - leftWidth - rightWidth;
    this.sizableHeight = contentHeight - topHeight - bottomHeight;
    this.sizableWidth = this.sizableWidth > 0 ? this.sizableWidth : 0;
    this.sizableHeight = this.sizableHeight > 0 ? this.sizableHeight : 0;
    var hRepeat = this.hRepeat = centerWidth === 0 ? this.sizableWidth : this.sizableWidth / centerWidth;
    var vRepeat = this.vRepeat = centerHeight === 0 ? this.sizableHeight : this.sizableHeight / centerHeight;
    var row = this.row = Math.ceil(vRepeat + 2);
    var col = this.col = Math.ceil(hRepeat + 2); // update data property

    var count = row * col;
    this.verticesCount = count * 4;
    this.indicesCount = count * 6;
    var renderData = this._renderData;
    var flexBuffer = renderData._flexBuffer;

    if (flexBuffer.reserve(this.verticesCount, this.indicesCount)) {
      this._updateIndices();

      this.updateColor(sprite);
    }

    flexBuffer.used(this.verticesCount, this.indicesCount);

    if (sprite._vertsDirty) {
      this.updateUVs(sprite);
      this.updateVerts(sprite);
      sprite._vertsDirty = false;
    }
  };

  _proto.updateVerts = function updateVerts(sprite) {
    var frame = sprite._spriteFrame;
    var rect = frame._rect;
    var node = sprite.node,
        appx = node.anchorX * node.width,
        appy = node.anchorY * node.height;
    var row = this.row,
        col = this.col,
        contentWidth = this.contentWidth,
        contentHeight = this.contentHeight;
    var _this$_local = this._local,
        x = _this$_local.x,
        y = _this$_local.y;
    x.length = y.length = 0;
    var leftWidth = frame.insetLeft,
        rightWidth = frame.insetRight,
        centerWidth = rect.width - leftWidth - rightWidth,
        topHeight = frame.insetTop,
        bottomHeight = frame.insetBottom,
        centerHeight = rect.height - topHeight - bottomHeight;
    var xScale = node.width / (leftWidth + rightWidth) > 1 ? 1 : node.width / (leftWidth + rightWidth);
    var yScale = node.height / (topHeight + bottomHeight) > 1 ? 1 : node.height / (topHeight + bottomHeight);
    var offsetWidth = 0,
        offsetHeight = 0;

    if (centerWidth > 0) {
      /*
       * Because the float numerical calculation in javascript is not accurate enough, 
       * there is an expected result of 1.0, but the actual result is 1.000001.
       */
      offsetWidth = Math.floor(this.sizableWidth * 1000) / 1000 % centerWidth === 0 ? centerWidth : this.sizableWidth % centerWidth;
    } else {
      offsetWidth = this.sizableWidth;
    }

    if (centerHeight > 0) {
      offsetHeight = Math.floor(this.sizableHeight * 1000) / 1000 % centerHeight === 0 ? centerHeight : this.sizableHeight % centerHeight;
    } else {
      offsetHeight = this.sizableHeight;
    }

    for (var i = 0; i <= col; i++) {
      if (i === 0) {
        x[i] = -appx;
      } else if (i > 0 && i < col) {
        if (i === 1) {
          x[i] = leftWidth * xScale + Math.min(centerWidth, this.sizableWidth) - appx;
        } else {
          if (centerWidth > 0) {
            if (i === col - 1) {
              x[i] = leftWidth + offsetWidth + centerWidth * (i - 2) - appx;
            } else {
              x[i] = leftWidth + Math.min(centerWidth, this.sizableWidth) + centerWidth * (i - 2) - appx;
            }
          } else {
            x[i] = leftWidth + this.sizableWidth - appx;
          }
        }
      } else if (i === col) {
        x[i] = Math.min(leftWidth + this.sizableWidth + rightWidth, contentWidth) - appx;
      }
    }

    for (var _i = 0; _i <= row; _i++) {
      if (_i === 0) {
        y[_i] = -appy;
      } else if (_i > 0 && _i < row) {
        if (_i === 1) {
          y[_i] = bottomHeight * yScale + Math.min(centerHeight, this.sizableHeight) - appy;
        } else {
          if (centerHeight > 0) {
            if (_i === row - 1) {
              y[_i] = bottomHeight + offsetHeight + (_i - 2) * centerHeight - appy;
            } else {
              y[_i] = bottomHeight + Math.min(centerHeight, this.sizableHeight) + (_i - 2) * centerHeight - appy;
            }
          } else {
            y[_i] = bottomHeight + this.sizableHeight - appy;
          }
        }
      } else if (_i === row) {
        y[_i] = Math.min(bottomHeight + this.sizableHeight + topHeight, contentHeight) - appy;
      }
    }

    this.updateWorldVerts(sprite);
  };

  _proto.updateWorldVerts = function updateWorldVerts(sprite) {
    var renderData = this._renderData;
    var local = this._local;
    var localX = local.x,
        localY = local.y;
    var world = renderData.vDatas[0];
    var row = this.row,
        col = this.col;
    var matrix = sprite.node._worldMatrix;
    var matrixm = matrix.m;
    var a = matrixm[0],
        b = matrixm[1],
        c = matrixm[4],
        d = matrixm[5],
        tx = matrixm[12],
        ty = matrixm[13];
    var x, x1, y, y1;
    var floatsPerVert = this.floatsPerVert;
    var vertexOffset = 0;

    for (var yindex = 0, ylength = row; yindex < ylength; ++yindex) {
      y = localY[yindex];
      y1 = localY[yindex + 1];

      for (var xindex = 0, xlength = col; xindex < xlength; ++xindex) {
        x = localX[xindex];
        x1 = localX[xindex + 1]; // lb

        world[vertexOffset] = x * a + y * c + tx;
        world[vertexOffset + 1] = x * b + y * d + ty;
        vertexOffset += floatsPerVert; // rb

        world[vertexOffset] = x1 * a + y * c + tx;
        world[vertexOffset + 1] = x1 * b + y * d + ty;
        vertexOffset += floatsPerVert; // lt

        world[vertexOffset] = x * a + y1 * c + tx;
        world[vertexOffset + 1] = x * b + y1 * d + ty;
        vertexOffset += floatsPerVert; // rt

        world[vertexOffset] = x1 * a + y1 * c + tx;
        world[vertexOffset + 1] = x1 * b + y1 * d + ty;
        vertexOffset += floatsPerVert;
      }
    }
  };

  _proto.updateUVs = function updateUVs(sprite) {
    var verts = this._renderData.vDatas[0];
    if (!verts) return;
    var frame = sprite._spriteFrame;
    var rect = frame._rect;
    var leftWidth = frame.insetLeft,
        rightWidth = frame.insetRight,
        centerWidth = rect.width - leftWidth - rightWidth,
        topHeight = frame.insetTop,
        bottomHeight = frame.insetBottom,
        centerHeight = rect.height - topHeight - bottomHeight;
    var row = this.row,
        col = this.col,
        hRepeat = this.hRepeat,
        vRepeat = this.vRepeat;
    var coefu = 0,
        coefv = 0;
    var uv = sprite.spriteFrame.uv;
    var uvSliced = sprite.spriteFrame.uvSliced;
    var rotated = sprite.spriteFrame._rotated;
    var floatsPerVert = this.floatsPerVert,
        uvOffset = this.uvOffset;

    for (var yindex = 0, ylength = row; yindex < ylength; ++yindex) {
      if (this.sizableHeight > centerHeight) {
        if (this.sizableHeight >= yindex * centerHeight) {
          coefv = 1;
        } else {
          coefv = vRepeat % 1;
        }
      } else {
        coefv = vRepeat;
      }

      for (var xindex = 0, xlength = col; xindex < xlength; ++xindex) {
        if (this.sizableWidth > centerWidth) {
          if (this.sizableWidth >= xindex * centerWidth) {
            coefu = 1;
          } else {
            coefu = hRepeat % 1;
          }
        } else {
          coefu = hRepeat;
        } // UV


        if (rotated) {
          // lb
          verts[uvOffset] = uv[0];
          verts[uvOffset + 1] = uv[1];
          uvOffset += floatsPerVert; // rb

          verts[uvOffset] = uv[0];
          verts[uvOffset + 1] = uv[1] + (uv[7] - uv[1]) * coefu;
          uvOffset += floatsPerVert; // lt

          verts[uvOffset] = uv[0] + (uv[6] - uv[0]) * coefv;
          verts[uvOffset + 1] = uv[1];
          uvOffset += floatsPerVert; // rt

          verts[uvOffset] = verts[uvOffset - floatsPerVert];
          verts[uvOffset + 1] = verts[uvOffset + 1 - floatsPerVert * 2];
          uvOffset += floatsPerVert;
        } else {
          // lb
          if (xindex === 0) {
            verts[uvOffset] = uv[0];
          } else if (xindex > 0 && xindex < col - 1) {
            verts[uvOffset] = uvSliced[1].u;
          } else if (xindex === col - 1) {
            verts[uvOffset] = uvSliced[2].u;
          }

          if (yindex === 0) {
            verts[uvOffset + 1] = uvSliced[0].v;
          } else if (yindex > 0 && yindex < row - 1) {
            verts[uvOffset + 1] = uvSliced[4].v;
          } else if (yindex === row - 1) {
            verts[uvOffset + 1] = uvSliced[8].v;
          }

          uvOffset += floatsPerVert; // rb

          if (xindex === 0) {
            verts[uvOffset] = uvSliced[1].u + (uvSliced[2].u - uvSliced[1].u) * coefu;
          } else if (xindex > 0 && xindex < col - 1) {
            verts[uvOffset] = uvSliced[1].u + (uvSliced[2].u - uvSliced[1].u) * coefu;
          } else if (xindex === col - 1) {
            verts[uvOffset] = uvSliced[3].u;
          }

          if (yindex === 0) {
            verts[uvOffset + 1] = uvSliced[0].v;
          } else if (yindex > 0 && yindex < row - 1) {
            verts[uvOffset + 1] = uvSliced[4].v;
          } else if (yindex === row - 1) {
            verts[uvOffset + 1] = uvSliced[8].v;
          }

          uvOffset += floatsPerVert; // lt

          if (xindex === 0) {
            verts[uvOffset] = uv[0];
          } else if (xindex > 0 && xindex < col - 1) {
            verts[uvOffset] = uvSliced[1].u;
          } else if (xindex === col - 1) {
            verts[uvOffset] = uvSliced[2].u;
          }

          if (yindex === 0) {
            verts[uvOffset + 1] = uvSliced[4].v + (uvSliced[8].v - uvSliced[4].v) * coefv;
          } else if (yindex > 0 && yindex < row - 1) {
            verts[uvOffset + 1] = uvSliced[4].v + (uvSliced[8].v - uvSliced[4].v) * coefv;
          } else if (yindex === row - 1) {
            verts[uvOffset + 1] = uvSliced[12].v;
          }

          uvOffset += floatsPerVert; // rt

          verts[uvOffset] = verts[uvOffset - floatsPerVert * 2];
          verts[uvOffset + 1] = verts[uvOffset + 1 - floatsPerVert];
          uvOffset += floatsPerVert;
        }
      }
    }
  };

  return TiledAssembler;
}(_assembler2d["default"]);

exports["default"] = TiledAssembler;
module.exports = exports["default"];
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvY29jb3MyZC9jb3JlL3JlbmRlcmVyL3dlYmdsL2Fzc2VtYmxlcnMvc3ByaXRlLzJkL3RpbGVkLmpzIl0sIm5hbWVzIjpbIlRpbGVkQXNzZW1ibGVyIiwiaW5pdERhdGEiLCJzcHJpdGUiLCJ2ZXJ0aWNlc0NvdW50IiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsInJlY3RXaWR0aCIsInJlY3RIZWlnaHQiLCJoUmVwZWF0IiwidlJlcGVhdCIsInJvdyIsImNvbCIsIl9yZW5kZXJEYXRhIiwiY3JlYXRlRmxleERhdGEiLCJnZXRWZm10IiwiX3VwZGF0ZUluZGljZXMiLCJpbml0TG9jYWwiLCJfbG9jYWwiLCJ4IiwieSIsImlEYXRhIiwiaURhdGFzIiwiaSIsInZpZCIsImwiLCJsZW5ndGgiLCJ1cGRhdGVSZW5kZXJEYXRhIiwiZnJhbWUiLCJfc3ByaXRlRnJhbWUiLCJwYWNrVG9EeW5hbWljQXRsYXMiLCJub2RlIiwiTWF0aCIsImFicyIsIndpZHRoIiwiaGVpZ2h0IiwicmVjdCIsIl9yZWN0IiwibGVmdFdpZHRoIiwiaW5zZXRMZWZ0IiwicmlnaHRXaWR0aCIsImluc2V0UmlnaHQiLCJjZW50ZXJXaWR0aCIsInRvcEhlaWdodCIsImluc2V0VG9wIiwiYm90dG9tSGVpZ2h0IiwiaW5zZXRCb3R0b20iLCJjZW50ZXJIZWlnaHQiLCJzaXphYmxlV2lkdGgiLCJzaXphYmxlSGVpZ2h0IiwiY2VpbCIsImNvdW50IiwiaW5kaWNlc0NvdW50IiwicmVuZGVyRGF0YSIsImZsZXhCdWZmZXIiLCJfZmxleEJ1ZmZlciIsInJlc2VydmUiLCJ1cGRhdGVDb2xvciIsInVzZWQiLCJfdmVydHNEaXJ0eSIsInVwZGF0ZVVWcyIsInVwZGF0ZVZlcnRzIiwiYXBweCIsImFuY2hvclgiLCJhcHB5IiwiYW5jaG9yWSIsInhTY2FsZSIsInlTY2FsZSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiZmxvb3IiLCJtaW4iLCJ1cGRhdGVXb3JsZFZlcnRzIiwibG9jYWwiLCJsb2NhbFgiLCJsb2NhbFkiLCJ3b3JsZCIsInZEYXRhcyIsIm1hdHJpeCIsIl93b3JsZE1hdHJpeCIsIm1hdHJpeG0iLCJtIiwiYSIsImIiLCJjIiwiZCIsInR4IiwidHkiLCJ4MSIsInkxIiwiZmxvYXRzUGVyVmVydCIsInZlcnRleE9mZnNldCIsInlpbmRleCIsInlsZW5ndGgiLCJ4aW5kZXgiLCJ4bGVuZ3RoIiwidmVydHMiLCJjb2VmdSIsImNvZWZ2IiwidXYiLCJzcHJpdGVGcmFtZSIsInV2U2xpY2VkIiwicm90YXRlZCIsIl9yb3RhdGVkIiwidXZPZmZzZXQiLCJ1IiwidiIsIkFzc2VtYmxlcjJEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBeUJBOzs7Ozs7SUFFcUJBOzs7Ozs7Ozs7U0FDakJDLFdBQUEsa0JBQVVDLE1BQVYsRUFBa0I7QUFDZCxTQUFLQyxhQUFMLEdBQXFCLENBQXJCO0FBQ0EsU0FBS0MsWUFBTCxHQUFvQixDQUFwQjtBQUNBLFNBQUtDLGFBQUwsR0FBcUIsQ0FBckI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLENBQWpCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQixDQUFsQjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxDQUFmO0FBQ0EsU0FBS0MsT0FBTCxHQUFlLENBQWY7QUFDQSxTQUFLQyxHQUFMLEdBQVcsQ0FBWDtBQUNBLFNBQUtDLEdBQUwsR0FBVyxDQUFYOztBQUVBLFNBQUtDLFdBQUwsQ0FBaUJDLGNBQWpCLENBQWdDLENBQWhDLEVBQW1DLENBQW5DLEVBQXNDLENBQXRDLEVBQXlDLEtBQUtDLE9BQUwsRUFBekM7O0FBQ0EsU0FBS0MsY0FBTDtBQUNIOztTQUVEQyxZQUFBLHFCQUFhO0FBQ1QsU0FBS0MsTUFBTCxHQUFjO0FBQUVDLE1BQUFBLENBQUMsRUFBRSxFQUFMO0FBQVNDLE1BQUFBLENBQUMsRUFBRTtBQUFaLEtBQWQ7QUFDSDs7U0FFREosaUJBQUEsMEJBQWtCO0FBQ2QsUUFBSUssS0FBSyxHQUFHLEtBQUtSLFdBQUwsQ0FBaUJT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QUFjQSxNQUFNLEdBQUlqRixHQUFHLEdBQUcsQ0FBbEMsRUFBc0M7QUFDdkNxRixZQUFBQSxLQUFLLENBQUNRLFFBQVEsR0FBRyxDQUFaLENBQUwsR0FBc0JILFFBQVEsQ0FBQyxDQUFELENBQVIsQ0FBWUssQ0FBWixHQUFnQixDQUFDTCxRQUFRLENBQUMsQ0FBRCxDQUFSLENBQVlLLENBQVosR0FBZ0JMLFFBQVEsQ0FBQyxDQUFELENBQVIsQ0FBWUssQ0FBN0IsSUFBa0NSLEtBQXhFO0FBQ0gsV0FGSSxNQUdBLElBQUlOLE1BQU0sS0FBTWpGLEdBQUcsR0FBRyxDQUF0QixFQUEwQjtBQUMzQnFGLFlBQUFBLEtBQUssQ0FBQ1EsUUFBUSxHQUFHLENBQVosQ0FBTCxHQUFzQkgsUUFBUSxDQUFDLEVBQUQsQ0FBUixDQUFhSyxDQUFuQztBQUNIOztBQUNERixVQUFBQSxRQUFRLElBQUlkLGFBQVosQ0E1REMsQ0E2REQ7O0FBQ0FNLFVBQUFBLEtBQUssQ0FBQ1EsUUFBRCxDQUFMLEdBQWtCUixLQUFLLENBQUNRLFFBQVEsR0FBR2QsYUFBYSxHQUFHLENBQTVCLENBQXZCO0FBQ0FNLFVBQUFBLEtBQUssQ0FBQ1EsUUFBUSxHQUFHLENBQVosQ0FBTCxHQUFzQlIsS0FBSyxDQUFDUSxRQUFRLEdBQUcsQ0FBWCxHQUFlZCxhQUFoQixDQUEzQjtBQUNBYyxVQUFBQSxRQUFRLElBQUlkLGFBQVo7QUFDSDtBQUNKO0FBQ0o7QUFDSjs7O0VBdlV1Q2lCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcbiB3b3JsZHdpZGUsIHJveWFsdHktZnJlZSwgbm9uLWFzc2lnbmFibGUsIHJldm9jYWJsZSBhbmQgbm9uLWV4Y2x1c2l2ZSBsaWNlbnNlXG4gdG8gdXNlIENvY29zIENyZWF0b3Igc29sZWx5IHRvIGRldmVsb3AgZ2FtZXMgb24geW91ciB0YXJnZXQgcGxhdGZvcm1zLiBZb3Ugc2hhbGxcbiBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXG4gdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxuIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiBDb2NvcyBDcmVhdG9yLlxuXG4gVGhlIHNvZnR3YXJlIG9yIHRvb2xzIGluIHRoaXMgTGljZW5zZSBBZ3JlZW1lbnQgYXJlIGxpY2Vuc2VkLCBub3Qgc29sZC5cbiBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC4gcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG8geW91LlxuXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiBUSEUgU09GVFdBUkUuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IEFzc2VtYmxlcjJEIGZyb20gJy4uLy4uLy4uLy4uL2Fzc2VtYmxlci0yZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVkQXNzZW1ibGVyIGV4dGVuZHMgQXNzZW1ibGVyMkQge1xuICAgIGluaXREYXRhIChzcHJpdGUpIHtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jb250ZW50V2lkdGggPSAwO1xuICAgICAgICB0aGlzLmNvbnRlbnRIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnJlY3RXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMucmVjdEhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuaFJlcGVhdCA9IDA7XG4gICAgICAgIHRoaXMudlJlcGVhdCA9IDA7XG4gICAgICAgIHRoaXMucm93ID0gMDtcbiAgICAgICAgdGhpcy5jb2wgPSAwO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGEuY3JlYXRlRmxleERhdGEoMCwgNCwgNiwgdGhpcy5nZXRWZm10KCkpO1xuICAgICAgICB0aGlzLl91cGRhdGVJbmRpY2VzKCk7XG4gICAgfVxuXG4gICAgaW5pdExvY2FsICgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWwgPSB7IHg6IFtdLCB5OiBbXX07XG4gICAgfVxuXG4gICAgX3VwZGF0ZUluZGljZXMgKCkge1xuICAgICAgICBsZXQgaURhdGEgPSB0aGlzLl9yZW5kZXJEYXRhLmlEYXRhc1swXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHZpZCA9IDAsIGwgPSBpRGF0YS5sZW5ndGg7IGkgPCBsOyBpICs9IDYsIHZpZCArPSA0KSB7XG4gICAgICAgICAgICBpRGF0YVtpXSA9IHZpZDtcbiAgICAgICAgICAgIGlEYXRhW2kgKyAxXSA9IHZpZCArIDE7XG4gICAgICAgICAgICBpRGF0YVtpICsgMl0gPSB2aWQgKyAyO1xuICAgICAgICAgICAgaURhdGFbaSArIDNdID0gdmlkICsgMTtcbiAgICAgICAgICAgIGlEYXRhW2kgKyA0XSA9IHZpZCArIDM7XG4gICAgICAgICAgICBpRGF0YVtpICsgNV0gPSB2aWQgKyAyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUmVuZGVyRGF0YSAoc3ByaXRlKSB7XG4gICAgICAgIGxldCBmcmFtZSA9IHNwcml0ZS5fc3ByaXRlRnJhbWU7XG4gICAgICAgIHRoaXMucGFja1RvRHluYW1pY0F0bGFzKHNwcml0ZSwgZnJhbWUpO1xuXG4gICAgICAgIGxldCBub2RlID0gc3ByaXRlLm5vZGU7XG5cbiAgICAgICAgbGV0IGNvbnRlbnRXaWR0aCA9IHRoaXMuY29udGVudFdpZHRoID0gTWF0aC5hYnMobm9kZS53aWR0aCk7XG4gICAgICAgIGxldCBjb250ZW50SGVpZ2h0ID0gdGhpcy5jb250ZW50SGVpZ2h0ID0gTWF0aC5hYnMobm9kZS5oZWlnaHQpO1xuICAgICAgICBsZXQgcmVjdCA9IGZyYW1lLl9yZWN0O1xuICAgICAgICBsZXQgbGVmdFdpZHRoID0gZnJhbWUuaW5zZXRMZWZ0LCByaWdodFdpZHRoID0gZnJhbWUuaW5zZXRSaWdodCwgY2VudGVyV2lkdGggPSByZWN0LndpZHRoIC0gbGVmdFdpZHRoIC0gcmlnaHRXaWR0aCxcbiAgICAgICAgICAgIHRvcEhlaWdodCA9IGZyYW1lLmluc2V0VG9wLCBib3R0b21IZWlnaHQgPSBmcmFtZS5pbnNldEJvdHRvbSwgY2VudGVySGVpZ2h0ID0gcmVjdC5oZWlnaHQgLSB0b3BIZWlnaHQgLSBib3R0b21IZWlnaHQ7XG4gICAgICAgIHRoaXMuc2l6YWJsZVdpZHRoID0gY29udGVudFdpZHRoIC0gbGVmdFdpZHRoIC0gcmlnaHRXaWR0aDtcbiAgICAgICAgdGhpcy5zaXphYmxlSGVpZ2h0ID0gY29udGVudEhlaWdodCAtIHRvcEhlaWdodCAtIGJvdHRvbUhlaWdodDtcbiAgICAgICAgdGhpcy5zaXphYmxlV2lkdGggPSB0aGlzLnNpemFibGVXaWR0aCA+IDAgPyB0aGlzLnNpemFibGVXaWR0aCA6IDA7XG4gICAgICAgIHRoaXMuc2l6YWJsZUhlaWdodCA9IHRoaXMuc2l6YWJsZUhlaWdodCA+IDAgPyB0aGlzLnNpemFibGVIZWlnaHQgOiAwO1xuICAgICAgICBsZXQgaFJlcGVhdCA9IHRoaXMuaFJlcGVhdCA9IGNlbnRlcldpZHRoID09PSAwID8gdGhpcy5zaXphYmxlV2lkdGggOiB0aGlzLnNpemFibGVXaWR0aCAvIGNlbnRlcldpZHRoO1xuICAgICAgICBsZXQgdlJlcGVhdCA9IHRoaXMudlJlcGVhdCA9IGNlbnRlckhlaWdodCA9PT0gMCA/IHRoaXMuc2l6YWJsZUhlaWdodCA6IHRoaXMuc2l6YWJsZUhlaWdodCAvIGNlbnRlckhlaWdodDtcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMucm93ID0gTWF0aC5jZWlsKHZSZXBlYXQgKyAyKTtcbiAgICAgICAgbGV0IGNvbCA9IHRoaXMuY29sID0gTWF0aC5jZWlsKGhSZXBlYXQgKyAyKTtcblxuICAgICAgICAvLyB1cGRhdGUgZGF0YSBwcm9wZXJ0eVxuICAgICAgICBsZXQgY291bnQgPSByb3cgKiBjb2w7XG4gICAgICAgIHRoaXMudmVydGljZXNDb3VudCA9IGNvdW50ICogNDtcbiAgICAgICAgdGhpcy5pbmRpY2VzQ291bnQgPSBjb3VudCAqIDY7XG5cbiAgICAgICAgbGV0IHJlbmRlckRhdGEgPSB0aGlzLl9yZW5kZXJEYXRhO1xuICAgICAgICBsZXQgZmxleEJ1ZmZlciA9IHJlbmRlckRhdGEuX2ZsZXhCdWZmZXI7XG4gICAgICAgIGlmIChmbGV4QnVmZmVyLnJlc2VydmUodGhpcy52ZXJ0aWNlc0NvdW50LCB0aGlzLmluZGljZXNDb3VudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUluZGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29sb3Ioc3ByaXRlKTtcbiAgICAgICAgfVxuICAgICAgICBmbGV4QnVmZmVyLnVzZWQodGhpcy52ZXJ0aWNlc0NvdW50LCB0aGlzLmluZGljZXNDb3VudCk7XG5cbiAgICAgICAgaWYgKHNwcml0ZS5fdmVydHNEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVVnMoc3ByaXRlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVydHMoc3ByaXRlKTtcbiAgICAgICAgICAgIHNwcml0ZS5fdmVydHNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVmVydHMgKHNwcml0ZSkge1xuICAgICAgICBsZXQgZnJhbWUgPSBzcHJpdGUuX3Nwcml0ZUZyYW1lO1xuICAgICAgICBsZXQgcmVjdCA9IGZyYW1lLl9yZWN0O1xuICAgICAgICBsZXQgbm9kZSA9IHNwcml0ZS5ub2RlLFxuICAgICAgICAgICAgYXBweCA9IG5vZGUuYW5jaG9yWCAqIG5vZGUud2lkdGgsIGFwcHkgPSBub2RlLmFuY2hvclkgKiBub2RlLmhlaWdodDtcblxuICAgICAgICBsZXQgeyByb3csIGNvbCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0IH0gPSB0aGlzO1xuICAgICAgICBsZXQgeyB4LCB5IH0gPSB0aGlzLl9sb2NhbDtcbiAgICAgICAgeC5sZW5ndGggPSB5Lmxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBsZWZ0V2lkdGggPSBmcmFtZS5pbnNldExlZnQsIHJpZ2h0V2lkdGggPSBmcmFtZS5pbnNldFJpZ2h0LCBjZW50ZXJXaWR0aCA9IHJlY3Qud2lkdGggLSBsZWZ0V2lkdGggLSByaWdodFdpZHRoLFxuICAgICAgICAgICAgdG9wSGVpZ2h0ID0gZnJhbWUuaW5zZXRUb3AsIGJvdHRvbUhlaWdodCA9IGZyYW1lLmluc2V0Qm90dG9tLCBjZW50ZXJIZWlnaHQgPSByZWN0LmhlaWdodCAtIHRvcEhlaWdodCAtIGJvdHRvbUhlaWdodDtcbiAgICAgICAgbGV0IHhTY2FsZSA9IChub2RlLndpZHRoIC8gKGxlZnRXaWR0aCArIHJpZ2h0V2lkdGgpKSA+IDEgPyAxIDogKG5vZGUud2lkdGggLyAobGVmdFdpZHRoICsgcmlnaHRXaWR0aCkpO1xuICAgICAgICBsZXQgeVNjYWxlID0gKG5vZGUuaGVpZ2h0IC8gKHRvcEhlaWdodCArIGJvdHRvbUhlaWdodCkpID4gMSA/IDEgOiAobm9kZS5oZWlnaHQgLyAodG9wSGVpZ2h0ICsgYm90dG9tSGVpZ2h0KSk7XG4gICAgICAgIGxldCBvZmZzZXRXaWR0aCA9IDAsIG9mZnNldEhlaWdodCA9IDA7XG4gICAgICAgIGlmIChjZW50ZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBmbG9hdCBudW1lcmljYWwgY2FsY3VsYXRpb24gaW4gamF2YXNjcmlwdCBpcyBub3QgYWNjdXJhdGUgZW5vdWdoLCBcbiAgICAgICAgICAgICAqIHRoZXJlIGlzIGFuIGV4cGVjdGVkIHJlc3VsdCBvZiAxLjAsIGJ1dCB0aGUgYWN0dWFsIHJlc3VsdCBpcyAxLjAwMDAwMS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb2Zmc2V0V2lkdGggPSBNYXRoLmZsb29yKHRoaXMuc2l6YWJsZVdpZHRoICogMTAwMCkgLyAxMDAwICUgY2VudGVyV2lkdGggPT09IDAgPyBjZW50ZXJXaWR0aCA6IHRoaXMuc2l6YWJsZVdpZHRoICUgY2VudGVyV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXRXaWR0aCA9IHRoaXMuc2l6YWJsZVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZW50ZXJIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICBvZmZzZXRIZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuc2l6YWJsZUhlaWdodCAqIDEwMDApIC8gMTAwMCAlIGNlbnRlckhlaWdodCA9PT0gMCA/IGNlbnRlckhlaWdodCA6IHRoaXMuc2l6YWJsZUhlaWdodCAlIGNlbnRlckhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldEhlaWdodCA9IHRoaXMuc2l6YWJsZUhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGNvbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHhbaV0gPSAtIGFwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpID4gMCAmJiBpIDwgY29sKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgeFtpXSA9IGxlZnRXaWR0aCAqIHhTY2FsZSArIE1hdGgubWluKGNlbnRlcldpZHRoLCB0aGlzLnNpemFibGVXaWR0aCkgLSBhcHB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlcldpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IChjb2wgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhbaV0gPSBsZWZ0V2lkdGggKyBvZmZzZXRXaWR0aCArIGNlbnRlcldpZHRoICogKGkgLSAyKSAtIGFwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4W2ldID0gbGVmdFdpZHRoICsgTWF0aC5taW4oY2VudGVyV2lkdGgsIHRoaXMuc2l6YWJsZVdpZHRoKSArIGNlbnRlcldpZHRoICogKGkgLSAyKSAtIGFwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4W2ldID0gbGVmdFdpZHRoICsgdGhpcy5zaXphYmxlV2lkdGggLSBhcHB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaSA9PT0gY29sKSB7XG4gICAgICAgICAgICAgICAgeFtpXSA9IE1hdGgubWluKGxlZnRXaWR0aCArIHRoaXMuc2l6YWJsZVdpZHRoICsgcmlnaHRXaWR0aCwgY29udGVudFdpZHRoKSAtIGFwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcm93OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgeVtpXSA9IC0gYXBweTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGkgPiAwICYmIGkgPCByb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB5W2ldID0gYm90dG9tSGVpZ2h0ICogeVNjYWxlICsgTWF0aC5taW4oY2VudGVySGVpZ2h0LCB0aGlzLnNpemFibGVIZWlnaHQpIC0gYXBweTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXJIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gKHJvdyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeVtpXSA9IGJvdHRvbUhlaWdodCArIG9mZnNldEhlaWdodCArIChpIC0gMikgKiBjZW50ZXJIZWlnaHQgLSBhcHB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeVtpXSA9IGJvdHRvbUhlaWdodCArIE1hdGgubWluKGNlbnRlckhlaWdodCwgdGhpcy5zaXphYmxlSGVpZ2h0KSArIChpIC0gMikgKiBjZW50ZXJIZWlnaHQgLSBhcHB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgeVtpXSA9IGJvdHRvbUhlaWdodCArIHRoaXMuc2l6YWJsZUhlaWdodCAtIGFwcHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpID09PSByb3cpIHtcbiAgICAgICAgICAgICAgICB5W2ldID0gTWF0aC5taW4oYm90dG9tSGVpZ2h0ICsgdGhpcy5zaXphYmxlSGVpZ2h0ICsgdG9wSGVpZ2h0LCBjb250ZW50SGVpZ2h0KSAtIGFwcHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVdvcmxkVmVydHMoc3ByaXRlKTtcbiAgICB9XG4gICAgXG4gICAgdXBkYXRlV29ybGRWZXJ0cyAoc3ByaXRlKSB7XG4gICAgICAgIGxldCByZW5kZXJEYXRhID0gdGhpcy5fcmVuZGVyRGF0YTtcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fbG9jYWw7XG4gICAgICAgIGxldCBsb2NhbFggPSBsb2NhbC54LCBsb2NhbFkgPSBsb2NhbC55O1xuICAgICAgICBsZXQgd29ybGQgPSByZW5kZXJEYXRhLnZEYXRhc1swXTtcbiAgICAgICAgbGV0IHsgcm93LCBjb2wgfSA9IHRoaXM7XG4gICAgICAgIGxldCBtYXRyaXggPSBzcHJpdGUubm9kZS5fd29ybGRNYXRyaXg7XG4gICAgICAgIGxldCBtYXRyaXhtID0gbWF0cml4Lm07XG4gICAgICAgIGxldCBhID0gbWF0cml4bVswXSwgYiA9IG1hdHJpeG1bMV0sIGMgPSBtYXRyaXhtWzRdLCBkID0gbWF0cml4bVs1XSxcbiAgICAgICAgICAgIHR4ID0gbWF0cml4bVsxMl0sIHR5ID0gbWF0cml4bVsxM107XG5cbiAgICAgICAgbGV0IHgsIHgxLCB5LCB5MTtcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCB5aW5kZXggPSAwLCB5bGVuZ3RoID0gcm93OyB5aW5kZXggPCB5bGVuZ3RoOyArK3lpbmRleCkge1xuICAgICAgICAgICAgeSA9IGxvY2FsWVt5aW5kZXhdO1xuICAgICAgICAgICAgeTEgPSBsb2NhbFlbeWluZGV4ICsgMV07XG4gICAgICAgICAgICBmb3IgKGxldCB4aW5kZXggPSAwLCB4bGVuZ3RoID0gY29sOyB4aW5kZXggPCB4bGVuZ3RoOyArK3hpbmRleCkge1xuICAgICAgICAgICAgICAgIHggPSBsb2NhbFhbeGluZGV4XTtcbiAgICAgICAgICAgICAgICB4MSA9IGxvY2FsWFt4aW5kZXggKyAxXTtcblxuICAgICAgICAgICAgICAgIC8vIGxiXG4gICAgICAgICAgICAgICAgd29ybGRbdmVydGV4T2Zmc2V0XSA9IHggKiBhICsgeSAqIGMgKyB0eDtcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXQgKyAxXSA9IHggKiBiICsgeSAqIGQgKyB0eTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAvLyByYlxuICAgICAgICAgICAgICAgIHdvcmxkW3ZlcnRleE9mZnNldF0gPSB4MSAqIGEgKyB5ICogYyArIHR4O1xuICAgICAgICAgICAgICAgIHdvcmxkW3ZlcnRleE9mZnNldCArIDFdID0geDEgKiBiICsgeSAqIGQgKyB0eTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAvLyBsdFxuICAgICAgICAgICAgICAgIHdvcmxkW3ZlcnRleE9mZnNldF0gPSB4ICogYSArIHkxICogYyArIHR4O1xuICAgICAgICAgICAgICAgIHdvcmxkW3ZlcnRleE9mZnNldCArIDFdID0geCAqIGIgKyB5MSAqIGQgKyB0eTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAvLyBydFxuICAgICAgICAgICAgICAgIHdvcmxkW3ZlcnRleE9mZnNldF0gPSB4MSAqIGEgKyB5MSAqIGMgKyB0eDtcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXQgKyAxXSA9IHgxICogYiArIHkxICogZCArIHR5O1xuICAgICAgICAgICAgICAgIHZlcnRleE9mZnNldCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVVZzIChzcHJpdGUpIHtcbiAgICAgICAgbGV0IHZlcnRzID0gdGhpcy5fcmVuZGVyRGF0YS52RGF0YXNbMF07XG4gICAgICAgIGlmICghdmVydHMpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGxldCBmcmFtZSA9IHNwcml0ZS5fc3ByaXRlRnJhbWU7XG4gICAgICAgIGxldCByZWN0ID0gZnJhbWUuX3JlY3Q7XG4gICAgICAgIGxldCBsZWZ0V2lkdGggPSBmcmFtZS5pbnNldExlZnQsIHJpZ2h0V2lkdGggPSBmcmFtZS5pbnNldFJpZ2h0LCBjZW50ZXJXaWR0aCA9IHJlY3Qud2lkdGggLSBsZWZ0V2lkdGggLSByaWdodFdpZHRoLFxuICAgICAgICAgICAgdG9wSGVpZ2h0ID0gZnJhbWUuaW5zZXRUb3AsIGJvdHRvbUhlaWdodCA9IGZyYW1lLmluc2V0Qm90dG9tLCBjZW50ZXJIZWlnaHQgPSByZWN0LmhlaWdodCAtIHRvcEhlaWdodCAtIGJvdHRvbUhlaWdodDtcblxuICAgICAgICBsZXQgeyByb3csIGNvbCwgaFJlcGVhdCwgdlJlcGVhdCB9ID0gdGhpcztcbiAgICAgICAgbGV0IGNvZWZ1ID0gMCwgY29lZnYgPSAwO1xuICAgICAgICBsZXQgdXYgPSBzcHJpdGUuc3ByaXRlRnJhbWUudXY7XG4gICAgICAgIGxldCB1dlNsaWNlZCA9IHNwcml0ZS5zcHJpdGVGcmFtZS51dlNsaWNlZDtcbiAgICAgICAgbGV0IHJvdGF0ZWQgPSBzcHJpdGUuc3ByaXRlRnJhbWUuX3JvdGF0ZWQ7XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0LCB1dk9mZnNldCA9IHRoaXMudXZPZmZzZXQ7XG4gICAgICAgIGZvciAobGV0IHlpbmRleCA9IDAsIHlsZW5ndGggPSByb3c7IHlpbmRleCA8IHlsZW5ndGg7ICsreWluZGV4KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaXphYmxlSGVpZ2h0ID4gY2VudGVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2l6YWJsZUhlaWdodCA+PSB5aW5kZXggKiBjZW50ZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29lZnYgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29lZnYgPSB2UmVwZWF0ICUgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2VmdiA9IHZSZXBlYXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCB4aW5kZXggPSAwLCB4bGVuZ3RoID0gY29sOyB4aW5kZXggPCB4bGVuZ3RoOyArK3hpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpemFibGVXaWR0aCA+IGNlbnRlcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpemFibGVXaWR0aCA+PSB4aW5kZXggKiBjZW50ZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29lZnUgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29lZnUgPSBoUmVwZWF0ICUgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29lZnUgPSBoUmVwZWF0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVWXG4gICAgICAgICAgICAgICAgaWYgKHJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGJcbiAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdXZbMF07XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB1dlsxXTtcbiAgICAgICAgICAgICAgICAgICAgdXZPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmJcbiAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdXZbMF07XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB1dlsxXSArICh1dls3XSAtIHV2WzFdKSAqIGNvZWZ1O1xuICAgICAgICAgICAgICAgICAgICB1dk9mZnNldCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAgICAgICAgICAgICAvLyBsdFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB1dlswXSArICh1dls2XSAtIHV2WzBdKSAqIGNvZWZ2O1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldCArIDFdID0gdXZbMV07XG4gICAgICAgICAgICAgICAgICAgIHV2T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJ0XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0XSA9IHZlcnRzW3V2T2Zmc2V0IC0gZmxvYXRzUGVyVmVydF07XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB2ZXJ0c1t1dk9mZnNldCArIDEgLSBmbG9hdHNQZXJWZXJ0ICogMl07XG4gICAgICAgICAgICAgICAgICAgIHV2T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBsYlxuICAgICAgICAgICAgICAgICAgICBpZiAoeGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB1dlswXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh4aW5kZXggPiAwICYmIHhpbmRleCA8IChjb2wgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdXZTbGljZWRbMV0udTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHhpbmRleCA9PT0gKGNvbCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB1dlNsaWNlZFsyXS51O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh5aW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB1dlNsaWNlZFswXS52O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHlpbmRleCA+IDAgJiYgeWluZGV4IDwgKHJvdyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldCArIDFdID0gdXZTbGljZWRbNF0udjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh5aW5kZXggPT09IChyb3cgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXQgKyAxXSA9IHV2U2xpY2VkWzhdLnY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXZPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdXZTbGljZWRbMV0udSArICh1dlNsaWNlZFsyXS51IC0gdXZTbGljZWRbMV0udSkgKiBjb2VmdTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh4aW5kZXggPiAwICYmIHhpbmRleCA8IChjb2wgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdXZTbGljZWRbMV0udSArICh1dlNsaWNlZFsyXS51IC0gdXZTbGljZWRbMV0udSkgKiBjb2VmdTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh4aW5kZXggPT09IChjb2wgLSAxKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB1dlNsaWNlZFszXS51O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh5aW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB1dlNsaWNlZFswXS52O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHlpbmRleCA+IDAgJiYgeWluZGV4IDwgKHJvdyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldCArIDFdID0gdXZTbGljZWRbNF0udjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh5aW5kZXggPT09IChyb3cgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXQgKyAxXSA9IHV2U2xpY2VkWzhdLnY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXZPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAgICAgLy8gbHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdXZbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoeGluZGV4ID4gMCAmJiB4aW5kZXggPCAoY29sIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0XSA9IHV2U2xpY2VkWzFdLnU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoeGluZGV4ID09PSAoY29sIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0XSA9IHV2U2xpY2VkWzJdLnU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHlpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXQgKyAxXSA9IHV2U2xpY2VkWzRdLnYgKyAodXZTbGljZWRbOF0udiAtIHV2U2xpY2VkWzRdLnYpICogY29lZnY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoeWluZGV4ID4gMCAmJiB5aW5kZXggPCAocm93IC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB1dlNsaWNlZFs0XS52ICsgKHV2U2xpY2VkWzhdLnYgLSB1dlNsaWNlZFs0XS52KSAqIGNvZWZ2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHlpbmRleCA9PT0gKHJvdyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldCArIDFdID0gdXZTbGljZWRbMTJdLnY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXZPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHNbdXZPZmZzZXRdID0gdmVydHNbdXZPZmZzZXQgLSBmbG9hdHNQZXJWZXJ0ICogMl07XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB2ZXJ0c1t1dk9mZnNldCArIDEgLSBmbG9hdHNQZXJWZXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgdXZPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiJdLCJzb3VyY2VSb290IjoiLyJ9