
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/tilemap/tmx-layer-assembler.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _assembler = _interopRequireDefault(require("../core/renderer/assembler"));

var _valueTypes = require("../core/value-types");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var TiledLayer = require('./CCTiledLayer');

var TiledMap = require('./CCTiledMap');

var TileFlag = TiledMap.TileFlag;
var FLIPPED_MASK = TileFlag.FLIPPED_MASK;

var renderer = require('../core/renderer/');

var vfmtPosUvColor = require('../core/renderer/webgl/vertex-format').vfmtPosUvColor;

var MaxGridsLimit = parseInt(65535 / 6);
var RenderOrder = TiledMap.RenderOrder;

var RenderFlow = require('../core/renderer/render-flow');

var _mat4_temp = cc.mat4();

var _vec3_temp = cc.v3();

var _leftDown = {
  row: 0,
  col: 0
};
var _uva = {
  x: 0,
  y: 0
};
var _uvb = {
  x: 0,
  y: 0
};
var _uvc = {
  x: 0,
  y: 0
};
var _uvd = {
  x: 0,
  y: 0
};
var _renderData = null,
    _ia = null,
    _fillGrids = 0,
    _vfOffset = 0,
    _moveX = 0,
    _moveY = 0,
    _layerMat = null,
    _renderer = null,
    _renderDataList = null,
    _buffer = null,
    _curMaterial = null,
    _comp = null,
    _vbuf = null,
    _uintbuf = null;

function _visitUserNode(userNode) {
  if (CC_NATIVERENDERER) return;

  userNode._updateLocalMatrix();

  _valueTypes.Mat4.mul(userNode._worldMatrix, _layerMat, userNode._matrix);

  userNode._renderFlag &= ~(RenderFlow.FLAG_TRANSFORM | RenderFlow.FLAG_BREAK_FLOW);
  RenderFlow.visitRootNode(userNode);
  userNode._renderFlag |= RenderFlow.FLAG_BREAK_FLOW;
}

function _flush() {
  if (_ia._count === 0) {
    return;
  }

  _renderer.material = _renderData.material;
  _renderer.node = _comp.node;

  _renderer._flushIA(_renderData.ia);

  var needSwitchBuffer = _fillGrids >= MaxGridsLimit;

  if (needSwitchBuffer) {
    _buffer.uploadData();

    _buffer.switchBuffer();

    _vbuf = _buffer._vData;
    _uintbuf = _buffer._uintVData;
    _renderData = _renderDataList.popRenderData(_buffer);
    _ia = _renderData.ia;
    _vfOffset = 0;
    _fillGrids = 0;
  } else {
    _renderData = _renderDataList.popRenderData(_buffer);
    _ia = _renderData.ia;
  }

  _renderData.material = _curMaterial;
}

function _renderNodes(nodeRow, nodeCol) {
  var nodesInfo = _comp._getNodesByRowCol(nodeRow, nodeCol);

  if (!nodesInfo || nodesInfo.count == 0) return;
  var nodesList = nodesInfo.list;
  var newIdx = 0,
      oldIdx = 0; // flush map render data

  _flush();

  _renderer.worldMatDirty++; // begin to render nodes

  for (; newIdx < nodesInfo.count;) {
    var dataComp = nodesList[oldIdx];
    oldIdx++;
    if (!dataComp) continue;

    _visitUserNode(dataComp.node);

    if (newIdx !== oldIdx) {
      nodesList[newIdx] = dataComp;
      dataComp._index = newIdx;
    }

    newIdx++;
  }

  nodesList.length = newIdx;
  _renderer.worldMatDirty--;

  _renderDataList.pushNodesList(_renderData, nodesList); // flush user nodes render data


  _renderer._flush();

  _renderer.node = _comp.node;
}
/*
texture coordinate
a b 
c d
*/


function _flipTexture(inGrid, gid) {
  _uva.x = inGrid.l;
  _uva.y = inGrid.t;
  _uvb.x = inGrid.r;
  _uvb.y = inGrid.t;
  _uvc.x = inGrid.l;
  _uvc.y = inGrid.b;
  _uvd.x = inGrid.r;
  _uvd.y = inGrid.b;
  var tempVal = null; // vice

  if ((gid & TileFlag.DIAGONAL) >>> 0) {
    tempVal = _uvb;
    _uvb = _uvc;
    _uvc = tempVal;
  } // flip x


  if ((gid & TileFlag.HORIZONTAL) >>> 0) {
    tempVal = _uva;
    _uva = _uvb;
    _uvb = tempVal;
    tempVal = _uvc;
    _uvc = _uvd;
    _uvd = tempVal;
  } // flip y


  if ((gid & TileFlag.VERTICAL) >>> 0) {
    tempVal = _uva;
    _uva = _uvc;
    _uvc = tempVal;
    tempVal = _uvb;
    _uvb = _uvd;
    _uvd = tempVal;
  }
}

;

var TmxAssembler = /*#__PURE__*/function (_Assembler) {
  _inheritsLoose(TmxAssembler, _Assembler);

  function TmxAssembler() {
    return _Assembler.apply(this, arguments) || this;
  }

  var _proto = TmxAssembler.prototype;

  _proto.updateRenderData = function updateRenderData(comp) {
    if (!comp._renderDataList) {
      comp._buffer = new cc.TiledMapBuffer(renderer._handle, vfmtPosUvColor);
      comp._renderDataList = new cc.TiledMapRenderDataList();
    }
  };

  _proto.fillBuffers = function fillBuffers(comp, renderer) {
    var vertices = comp._vertices;
    if (vertices.length === 0) return;

    comp._updateCulling();

    var layerNode = comp.node;
    _moveX = comp._leftDownToCenterX;
    _moveY = comp._leftDownToCenterY;
    _layerMat = layerNode._worldMatrix;
    _renderer = renderer;
    _comp = comp;
    _renderDataList = comp._renderDataList;
    _buffer = comp._buffer;

    if (comp._isCullingDirty() || comp._isUserNodeDirty() || comp._hasAnimation() || comp._hasTiledNode()) {
      _buffer.reset();

      var leftDown, rightTop;

      if (comp._enableCulling) {
        var cullingRect = comp._cullingRect;
        leftDown = cullingRect.leftDown;
        rightTop = cullingRect.rightTop;
      } else {
        leftDown = _leftDown;
        rightTop = comp._rightTop;
      }

      var maxRows = rightTop.row - leftDown.row + 1;
      var maxCols = rightTop.col - leftDown.col + 1;
      var maxGrids = maxRows * maxCols;

      if (maxGrids > MaxGridsLimit) {
        maxGrids = MaxGridsLimit;
      }

      _buffer.request(maxGrids * 4, maxGrids * 6);

      switch (comp._renderOrder) {
        // left top to right down, col add, row sub, 
        case RenderOrder.RightDown:
          this.traverseGrids(leftDown, rightTop, -1, 1);
          break;
        // right top to left down, col sub, row sub

        case RenderOrder.LeftDown:
          this.traverseGrids(leftDown, rightTop, -1, -1);
          break;
        // left down to right up, col add, row add

        case RenderOrder.RightUp:
          this.traverseGrids(leftDown, rightTop, 1, 1);
          break;
        // right down to left up, col sub, row add

        case RenderOrder.LeftUp:
          this.traverseGrids(leftDown, rightTop, 1, -1);
          break;
      }

      comp._setCullingDirty(false);

      comp._setUserNodeDirty(false);
    } else if (!CC_NATIVERENDERER) {
      var renderData = null;
      var nodesRenderList = null;
      var nodesList = null;

      for (var i = 0; i < _renderDataList._offset; i++) {
        renderData = _renderDataList._dataList[i];
        nodesRenderList = renderData.nodesRenderList;

        if (nodesRenderList.length > 0) {
          renderer.worldMatDirty++;

          for (var j = 0; j < nodesRenderList.length; j++) {
            nodesList = nodesRenderList[j];
            if (!nodesList) continue;

            for (var idx = 0; idx < nodesList.length; idx++) {
              var dataComp = nodesList[idx];
              if (!dataComp) continue;

              _visitUserNode(dataComp.node);
            }
          }

          renderer.worldMatDirty--;

          renderer._flush();
        }

        if (renderData.ia._count > 0) {
          renderer.material = renderData.material;
          renderer.node = layerNode;

          renderer._flushIA(renderData.ia);
        }
      }
    }

    _renderData = null;
    _ia = null;
    _layerMat = null;
    _renderer = null;
    _renderDataList = null;
    _buffer = null;
    _curMaterial = null;
    _comp = null;
    _vbuf = null;
    _uintbuf = null;
  } // rowMoveDir is -1 or 1, -1 means decrease, 1 means increase
  // colMoveDir is -1 or 1, -1 means decrease, 1 means increase
  ;

  _proto.traverseGrids = function traverseGrids(leftDown, rightTop, rowMoveDir, colMoveDir) {
    _renderDataList.reset(); // show nothing


    if (rightTop.row < 0 || rightTop.col < 0) return;
    _renderData = _renderDataList.popRenderData(_buffer);
    _ia = _renderData.ia;
    _vbuf = _buffer._vData;
    _uintbuf = _buffer._uintVData;
    _fillGrids = 0;
    _vfOffset = 0;
    _curMaterial = null;
    var layerNode = _comp.node;
    var color = layerNode._color._val;
    var tiledTiles = _comp._tiledTiles;
    var texGrids = _comp._texGrids;
    var tiles = _comp._tiles;
    var texIdToMatIdx = _comp._texIdToMatIndex;
    var mats = _comp._materials;
    var vertices = _comp._vertices;
    var rowData,
        col,
        cols,
        row,
        rows,
        colData,
        tileSize,
        grid = null,
        gid = 0;
    var left = 0,
        bottom = 0,
        right = 0,
        top = 0; // x, y

    var tiledNode = null,
        curTexIdx = -1,
        matIdx;
    var colNodesCount = 0,
        checkColRange = true;

    if (rowMoveDir == -1) {
      row = rightTop.row;
      rows = leftDown.row;
    } else {
      row = leftDown.row;
      rows = rightTop.row;
    } // traverse row


    for (; (rows - row) * rowMoveDir >= 0; row += rowMoveDir) {
      rowData = vertices[row];
      colNodesCount = _comp._getNodesCountByRow(row);
      checkColRange = colNodesCount == 0 && rowData != undefined; // limit min col and max col

      if (colMoveDir == 1) {
        col = checkColRange && leftDown.col < rowData.minCol ? rowData.minCol : leftDown.col;
        cols = checkColRange && rightTop.col > rowData.maxCol ? rowData.maxCol : rightTop.col;
      } else {
        col = checkColRange && rightTop.col > rowData.maxCol ? rowData.maxCol : rightTop.col;
        cols = checkColRange && leftDown.col < rowData.minCol ? rowData.minCol : leftDown.col;
      } // traverse col


      for (; (cols - col) * colMoveDir >= 0; col += colMoveDir) {
        colData = rowData && rowData[col];

        if (!colData) {
          // only render users nodes because map data is empty
          if (colNodesCount > 0) _renderNodes(row, col);
          continue;
        }

        gid = tiles[colData.index];
        grid = texGrids[(gid & FLIPPED_MASK) >>> 0];
        if (!grid) continue; // check init or new material

        if (curTexIdx !== grid.texId) {
          // need flush
          if (curTexIdx !== -1) {
            _flush();
          } // update material


          curTexIdx = grid.texId;
          matIdx = texIdToMatIdx[curTexIdx];
          _curMaterial = mats[matIdx];
          _renderData.material = _curMaterial;
        }

        if (!_curMaterial) continue; // calc rect vertex

        left = colData.left - _moveX;
        bottom = colData.bottom - _moveY;
        tileSize = grid.tileset._tileSize;
        right = left + tileSize.width;
        top = bottom + tileSize.height; // begin to fill vertex buffer

        tiledNode = tiledTiles[colData.index];

        if (!tiledNode) {
          // tl
          _vbuf[_vfOffset] = left;
          _vbuf[_vfOffset + 1] = top;
          _uintbuf[_vfOffset + 4] = color; // bl

          _vbuf[_vfOffset + 5] = left;
          _vbuf[_vfOffset + 6] = bottom;
          _uintbuf[_vfOffset + 9] = color; // tr

          _vbuf[_vfOffset + 10] = right;
          _vbuf[_vfOffset + 11] = top;
          _uintbuf[_vfOffset + 14] = color; // br

          _vbuf[_vfOffset + 15] = right;
          _vbuf[_vfOffset + 16] = bottom;
          _uintbuf[_vfOffset + 19] = color;
        } else {
          this.fillByTiledNode(tiledNode.node, _vbuf, _uintbuf, left, right, top, bottom);
        }

        _flipTexture(grid, gid); // tl -> a


        _vbuf[_vfOffset + 2] = _uva.x;
        _vbuf[_vfOffset + 3] = _uva.y; // bl -> c

        _vbuf[_vfOffset + 7] = _uvc.x;
        _vbuf[_vfOffset + 8] = _uvc.y; // tr -> b

        _vbuf[_vfOffset + 12] = _uvb.x;
        _vbuf[_vfOffset + 13] = _uvb.y; // br -> d

        _vbuf[_vfOffset + 17] = _uvd.x;
        _vbuf[_vfOffset + 18] = _uvd.y; // modify buffer all kinds of offset

        _vfOffset += 20;

        _buffer.adjust(4, 6);

        _ia._count += 6;
        _fillGrids++; // check render users node

        if (colNodesCount > 0) _renderNodes(row, col); // vertices count exceed 66635, buffer must be switched

        if (_fillGrids >= MaxGridsLimit) {
          _flush();
        }
      }
    } // upload buffer data


    _buffer.uploadData(); // last flush


    if (_ia._count > 0) {
      _renderer.material = _renderData.material;
      _renderer.node = _comp.node;

      _renderer._flushIA(_renderData.ia);
    }
  };

  _proto.fillByTiledNode = function fillByTiledNode(tiledNode, vbuf, uintbuf, left, right, top, bottom) {
    tiledNode._updateLocalMatrix();

    _valueTypes.Mat4.copy(_mat4_temp, tiledNode._matrix);

    _valueTypes.Vec3.set(_vec3_temp, -(left + _moveX), -(bottom + _moveY), 0);

    _valueTypes.Mat4.transform(_mat4_temp, _mat4_temp, _vec3_temp);

    var m = _mat4_temp.m;
    var a = m[0];
    var b = m[1];
    var c = m[4];
    var d = m[5];
    var tx = m[12];
    var ty = m[13];
    var color = tiledNode._color._val; // tl

    vbuf[_vfOffset] = left * a + top * c + tx;
    vbuf[_vfOffset + 1] = left * b + top * d + ty;
    uintbuf[_vfOffset + 4] = color; // bl

    vbuf[_vfOffset + 5] = left * a + bottom * c + tx;
    vbuf[_vfOffset + 6] = left * b + bottom * d + ty;
    uintbuf[_vfOffset + 9] = color; // tr

    vbuf[_vfOffset + 10] = right * a + top * c + tx;
    vbuf[_vfOffset + 11] = right * b + top * d + ty;
    uintbuf[_vfOffset + 14] = color; // br

    vbuf[_vfOffset + 15] = right * a + bottom * c + tx;
    vbuf[_vfOffset + 16] = right * b + bottom * d + ty;
    uintbuf[_vfOffset + 19] = color;
  };

  return TmxAssembler;
}(_assembler["default"]);

exports["default"] = TmxAssembler;

_assembler["default"].register(TiledLayer, TmxAssembler);

module.exports = exports["default"];
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvY29jb3MyZC90aWxlbWFwL3RteC1sYXllci1hc3NlbWJsZXIuanMiXSwibmFtZXMiOlsiVGlsZWRMYXllciIsInJlcXVpcmUiLCJUaWxlZE1hcCIsIlRpbGVGbGFnIiwiRkxJUFBFRF9NQVNLIiwicmVuZGVyZXIiLCJ2Zm10UG9zVXZDb2xvciIsIk1heEdyaWRzTGltaXQiLCJwYXJzZUludCIsIlJlbmRlck9yZGVyIiwiUmVuZGVyRmxvdyIsIl9tYXQ0X3RlbXAiLCJjYyIsIm1hdDQiLCJfdmVjM190ZW1wIiwidjMiLCJfbGVmdERvd24iLCJyb3ciLCJjb2wiLCJfdXZhIiwieCIsInkiLCJfdXZiIiwiX3V2YyIsIl91dmQiLCJfcmVuZGVyRGF0YSIsIl9pYSIsIl9maWxsR3JpZHMiLCJfdmZPZmZzZXQiLCJfbW92ZVgiLCJfbW92ZVkiLCJfbGF5ZXJNYXQiLCJfcmVuZGVyZXIiLCJfcmVuZGVyRGF0YUxpc3QiLCJfYnVmZmVyIiwiX2N1ck1hdGVyaWFsIiwiX2NvbXAiLCJfdmJ1ZiIsIl91aW50YnVmIiwiX3Zpc2l0VXNlck5vZGUiLCJ1c2VyTm9kZSIsIkNDX05BVElWRVJFTkRFUkVSIiwiX3VwZGF0ZUxvY2FsTWF0cml4IiwiTWF0NCIsIm11bCIsIl93b3JsZE1hdHJpeCIsIl9tYXRyaXgiLCJfcmVuZGVyRmxhZyIsIkZMQUdfVFJBTlNGT1JNIiwiRkxBR19CUkVBS19GTE9XIiwidmlzaXRSb290Tm9kZSIsIl9mbHVzaCIsIl9jb3VudCIsIm1hdGVyaWFsIiwibm9kZSIsIl9mbHVzaElBIiwiaWEiLCJuZWVkU3dpdGNoQnVmZmVyIiwidXBsb2FkRGF0YSIsInN3aXRjaEJ1ZmZlciIsIl92RGF0YSIsIl91aW50VkRhdGEiLCJwb3BSZW5kZXJEYXRhIiwiX3JlbmRlck5vZGVzIiwibm9kZVJvdyIsIm5vZGVDb2wiLCJub2Rlc0luZm8iLCJfZ2V0Tm9kZXNCeVJvd0NvbCIsImNvdW50Iiwibm9kZXNMaXN0IiwibGlzdCIsIm5ld0lkeCIsIm9sZElkeCIsIndvcmxkTWF0RGlydHkiLCJkYXRhQ29tcCIsIl9pbmRleCIsImxlbmd0aCIsInB1c2hOb2Rlc0xpc3QiLCJfZmxpcFRleHR1cmUiLCJpbkdyaWQiLCJnaWQiLCJsIiwidCIsInIiLCJiIiwidGVtcFZhbCIsIkRJQUdPTkFMIiwiSE9SSVpPTlRBTCIsIlZFUlRJQ0FMIiwiVG14QXNzZW1ibGVyIiwidXBkYXRlUmVuZGVyRGF0YSIsImNvbXAiLCJUaWxlZE1hcEJ1ZmZlciIsIl9oYW5kbGUiLCJUaWxlZE1hcFJlbmRlckRhdGFMaXN0IiwiZmlsbEJ1ZmZlcnMiLCJ2ZXJ0aWNlcyIsIl92ZXJ0aWNlcyIsIl91cGRhdGVDdWxsaW5nIiwibGF5ZXJOb2RlIiwiX2xlZnREb3duVG9DZW50ZXJYIiwiX2xlZnREb3duVG9DZW50ZXJZIiwiX2lzQ3VsbGluZ0RpcnR5IiwiX2lzVXNlck5vZGVEaXJ0eSIsIl9oYXNBbmltYXRpb24iLCJfaGFzVGlsZWROb2RlIiwicmVzZXQiLCJsZWZ0RG93biIsInJpZ2h0VG9wIiwiX2VuYWJsZUN1bGxpbmciLCJjdWxsaW5nUmVjdCIsIl9jdWxsaW5nUmVjdCIsIl9yaWdodFRvcCIsIm1heFJvd3MiLCJtYXhDb2xzIiwibWF4R3JpZHMiLCJyZXF1ZXN0IiwiX3JlbmRlck9yZGVyIiwiUmlnaHREb3duIiwidHJhdmVyc2VHcmlkcyIsIkxlZnREb3duIiwiUmlnaHRVcCIsIkxlZnRVcCIsIl9zZXRDdWxsaW5nRGlydHkiLCJfc2V0VXNlck5vZGVEaXJ0eSIsInJlbmRlckRhdGEiLCJub2Rlc1JlbmRlckxpc3QiLCJpIiwiX29mZnNldCIsIl9kYXRhTGlzdCIsImoiLCJpZHgiLCJyb3dNb3ZlRGlyIiwiY29sTW92ZURpciIsImNvbG9yIiwiX2NvbG9yIiwiX3ZhbCIsInRpbGVkVGlsZXMiLCJfdGlsZWRUaWxlcyIsInRleEdyaWRzIiwiX3RleEdyaWRzIiwidGlsZXMiLCJfdGlsZXMiLCJ0ZXhJZFRvTWF0SWR4IiwiX3RleElkVG9NYXRJbmRleCIsIm1hdHMiLCJfbWF0ZXJpYWxzIiwicm93RGF0YSIsImNvbHMiLCJyb3dzIiwiY29sRGF0YSIsInRpbGVTaXplIiwiZ3JpZCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsInRvcCIsInRpbGVkTm9kZSIsImN1clRleElkeCIsIm1hdElkeCIsImNvbE5vZGVzQ291bnQiLCJjaGVja0NvbFJhbmdlIiwiX2dldE5vZGVzQ291bnRCeVJvdyIsInVuZGVmaW5lZCIsIm1pbkNvbCIsIm1heENvbCIsImluZGV4IiwidGV4SWQiLCJ0aWxlc2V0IiwiX3RpbGVTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxsQnlUaWxlZE5vZGUiLCJhZGp1c3QiLCJ2YnVmIiwidWludGJ1ZiIsImNvcHkiLCJWZWMzIiwic2V0IiwidHJhbnNmb3JtIiwibSIsImEiLCJjIiwiZCIsInR4IiwidHkiLCJBc3NlbWJsZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQTs7QUFhQTs7Ozs7O0FBWEEsSUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBMUI7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUF4Qjs7QUFDQSxJQUFNRSxRQUFRLEdBQUdELFFBQVEsQ0FBQ0MsUUFBMUI7QUFDQSxJQUFNQyxZQUFZLEdBQUdELFFBQVEsQ0FBQ0MsWUFBOUI7O0FBRUEsSUFBTUMsUUFBUSxHQUFHSixPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBQ0EsSUFBTUssY0FBYyxHQUFHTCxPQUFPLENBQUMsc0NBQUQsQ0FBUCxDQUFnREssY0FBdkU7O0FBRUEsSUFBTUMsYUFBYSxHQUFHQyxRQUFRLENBQUMsUUFBUSxDQUFULENBQTlCO0FBQ0EsSUFBTUMsV0FBVyxHQUFHUCxRQUFRLENBQUNPLFdBQTdCOztBQUlBLElBQU1DLFVBQVUsR0FBR1QsT0FBTyxDQUFDLDhCQUFELENBQTFCOztBQUVBLElBQUlVLFVBQVUsR0FBR0MsRUFBRSxDQUFDQyxJQUFILEVBQWpCOztBQUNBLElBQUlDLFVBQVUsR0FBR0YsRUFBRSxDQUFDRyxFQUFILEVBQWpCOztBQUNBLElBQUlDLFNBQVMsR0FBRztBQUFDQyxFQUFBQSxHQUFHLEVBQUMsQ0FBTDtBQUFRQyxFQUFBQSxHQUFHLEVBQUM7QUFBWixDQUFoQjtBQUNBLElBQUlDLElBQUksR0FBRztBQUFDQyxFQUFBQSxDQUFDLEVBQUMsQ0FBSDtBQUFNQyxFQUFBQSxDQUFDLEVBQUM7QUFBUixDQUFYO0FBQ0EsSUFBSUMsSUFBSSxHQUFHO0FBQUNGLEVBQUFBLENBQUMsRUFBQyxDQUFIO0FBQU1DLEVBQUFBLENBQUMsRUFBQztBQUFSLENBQVg7QUFDQSxJQUFJRSxJQUFJLEdBQUc7QUFBQ0gsRUFBQUEsQ0FBQyxFQUFDLENBQUg7QUFBTUMsRUFBQUEsQ0FBQyxFQUFDO0FBQVIsQ0FBWDtBQUNBLElBQUlHLElBQUksR0FBRztBQUFDSixFQUFBQSxDQUFDLEVBQUMsQ0FBSDtBQUFNQyxFQUFBQSxDQUFDLEVBQUM7QUFBUixDQUFYO0FBRUEsSUFBSUksV0FBVyxHQUFHLElBQWxCO0FBQUEsSUFBd0JDLEdBQUcsR0FBRyxJQUE5QjtBQUFBLElBQW9DQyxVQUFVLEdBQUcsQ0FBakQ7QUFBQSxJQUNJQyxTQUFTLEdBQUcsQ0FEaEI7QUFBQSxJQUNtQkMsTUFBTSxHQUFHLENBRDVCO0FBQUEsSUFDK0JDLE1BQU0sR0FBRyxDQUR4QztBQUFBLElBQzJDQyxTQUFTLEdBQUcsSUFEdkQ7QUFBQSxJQUVJQyxTQUFTLEdBQUcsSUFGaEI7QUFBQSxJQUVzQkMsZUFBZSxHQUFHLElBRnhDO0FBQUEsSUFFOENDLE9BQU8sR0FBRyxJQUZ4RDtBQUFBLElBR0lDLFlBQVksR0FBRyxJQUhuQjtBQUFBLElBR3lCQyxLQUFLLEdBQUcsSUFIakM7QUFBQSxJQUd1Q0MsS0FBSyxHQUFHLElBSC9DO0FBQUEsSUFHcURDLFFBQVEsR0FBRyxJQUhoRTs7QUFLQSxTQUFTQyxjQUFULENBQXlCQyxRQUF6QixFQUFtQztBQUMvQixNQUFJQyxpQkFBSixFQUF1Qjs7QUFDdkJELEVBQUFBLFFBQVEsQ0FBQ0Usa0JBQVQ7O0FBQ0FDLG1CQUFLQyxHQUFMLENBQVNKLFFBQVEsQ0FBQ0ssWUFBbEIsRUFBZ0NkLFNBQWhDLEVBQTJDUyxRQUFRLENBQUNNLE9BQXBEOztBQUNBTixFQUFBQSxRQUFRLENBQUNPLFdBQVQsSUFBd0IsRUFBRXJDLFVBQVUsQ0FBQ3NDLGNBQVgsR0FBNEJ0QyxVQUFVLENBQUN1QyxlQUF6QyxDQUF4QjtBQUNBdkMsRUFBQUEsVUFBVSxDQUFDd0MsYUFBWCxDQUF5QlYsUUFBekI7QUFDQUEsRUFBQUEsUUFBUSxDQUFDTyxXQUFULElBQXdCckMsVUFBVSxDQUFDdUMsZUFBbkM7QUFDSDs7QUFFRCxTQUFTRSxNQUFULEdBQW1CO0FBQ2YsTUFBSXpCLEdBQUcsQ0FBQzBCLE1BQUosS0FBZSxDQUFuQixFQUFzQjtBQUNsQjtBQUNIOztBQUVEcEIsRUFBQUEsU0FBUyxDQUFDcUIsUUFBVixHQUFxQjVCLFdBQVcsQ0FBQzRCLFFBQWpDO0FBQ0FyQixFQUFBQSxTQUFTLENBQUNzQixJQUFWLEdBQWlCbEIsS0FBSyxDQUFDa0IsSUFBdkI7O0FBQ0F0QixFQUFBQSxTQUFTLENBQUN1QixRQUFWLENBQW1COUIsV0FBVyxDQUFDK0IsRUFBL0I7O0FBRUEsTUFBSUMsZ0JBQWdCLEdBQUk5QixVQUFVLElBQUlwQixhQUF0Qzs7QUFDQSxNQUFJa0QsZ0JBQUosRUFBc0I7QUFDbEJ2QixJQUFBQSxPQUFPLENBQUN3QixVQUFSOztBQUNBeEIsSUFBQUEsT0FBTyxDQUFDeUIsWUFBUjs7QUFDQXRCLElBQUFBLEtBQUssR0FBR0gsT0FBTyxDQUFDMEIsTUFBaEI7QUFDQXRCLElBQUFBLFFBQVEsR0FBR0osT0FBTyxDQUFDMkIsVUFBbkI7QUFDQXBDLElBQUFBLFdBQVcsR0FBR1EsZUFBZSxDQUFDNkIsYUFBaEIsQ0FBOEI1QixPQUE5QixDQUFkO0FBQ0FSLElBQUFBLEdBQUcsR0FBR0QsV0FBVyxDQUFDK0IsRUFBbEI7QUFDQTVCLElBQUFBLFNBQVMsR0FBRyxDQUFaO0FBQ0FELElBQUFBLFVBQVUsR0FBRyxDQUFiO0FBQ0gsR0FURCxNQVNPO0FBQ0hGLElBQUFBLFdBQVcsR0FBR1EsZUFBZSxDQUFDNkIsYUFBaEIsQ0FBOEI1QixPQUE5QixDQUFkO0FBQ0FSLElBQUFBLEdBQUcsR0FBR0QsV0FBVyxDQUFDK0IsRUFBbEI7QUFDSDs7QUFDRC9CLEVBQUFBLFdBQVcsQ0FBQzRCLFFBQVosR0FBdUJsQixZQUF2QjtBQUNIOztBQUVELFNBQVM0QixZQUFULENBQXVCQyxPQUF2QixFQUFnQ0MsT0FBaEMsRUFBeUM7QUFDckMsTUFBSUMsU0FBUyxHQUFHOUIsS0FBSyxDQUFDK0IsaUJBQU4sQ0FBd0JILE9BQXhCLEVBQWlDQyxPQUFqQyxDQUFoQjs7QUFDQSxNQUFJLENBQUNDLFNBQUQsSUFBY0EsU0FBUyxDQUFDRSxLQUFWLElBQW1CLENBQXJDLEVBQXdDO0FBQ3hDLE1BQUlDLFNBQVMsR0FBR0gsU0FBUyxDQUFDSSxJQUExQjtBQUNBLE1BQUlDLE1BQU0sR0FBRyxDQUFiO0FBQUEsTUFBZ0JDLE1BQU0sR0FBRyxDQUF6QixDQUpxQyxDQUtyQzs7QUFDQXJCLEVBQUFBLE1BQU07O0FBRU5uQixFQUFBQSxTQUFTLENBQUN5QyxhQUFWLEdBUnFDLENBU3JDOztBQUNBLFNBQU9GLE1BQU0sR0FBR0wsU0FBUyxDQUFDRSxLQUExQixHQUFtQztBQUMvQixRQUFJTSxRQUFRLEdBQUdMLFNBQVMsQ0FBQ0csTUFBRCxDQUF4QjtBQUNBQSxJQUFBQSxNQUFNO0FBQ04sUUFBSSxDQUFDRSxRQUFMLEVBQWU7O0FBQ2ZuQyxJQUFBQSxjQUFjLENBQUNtQyxRQUFRLENBQUNwQixJQUFWLENBQWQ7O0FBQ0EsUUFBSWlCLE1BQU0sS0FBS0MsTUFBZixFQUF1QjtBQUNuQkgsTUFBQUEsU0FBUyxDQUFDRSxNQUFELENBQVQsR0FBb0JHLFFBQXBCO0FBQ0FBLE1BQUFBLFFBQVEsQ0FBQ0MsTUFBVCxHQUFrQkosTUFBbEI7QUFDSDs7QUFDREEsSUFBQUEsTUFBTTtBQUNUOztBQUNERixFQUFBQSxTQUFTLENBQUNPLE1BQVYsR0FBbUJMLE1BQW5CO0FBQ0F2QyxFQUFBQSxTQUFTLENBQUN5QyxhQUFWOztBQUVBeEMsRUFBQUEsZUFBZSxDQUFDNEMsYUFBaEIsQ0FBOEJwRCxXQUE5QixFQUEyQzRDLFNBQTNDLEVBeEJxQyxDQTBCckM7OztBQUNBckMsRUFBQUEsU0FBUyxDQUFDbUIsTUFBVjs7QUFDQW5CLEVBQUFBLFNBQVMsQ0FBQ3NCLElBQVYsR0FBaUJsQixLQUFLLENBQUNrQixJQUF2QjtBQUNIO0FBRUQ7Ozs7Ozs7QUFLQSxTQUFTd0IsWUFBVCxDQUF1QkMsTUFBdkIsRUFBK0JDLEdBQS9CLEVBQW9DO0FBQ2hDN0QsRUFBQUEsSUFBSSxDQUFDQyxDQUFMLEdBQVMyRCxNQUFNLENBQUNFLENBQWhCO0FBQ0E5RCxFQUFBQSxJQUFJLENBQUNFLENBQUwsR0FBUzBELE1BQU0sQ0FBQ0csQ0FBaEI7QUFDQTVELEVBQUFBLElBQUksQ0FBQ0YsQ0FBTCxHQUFTMkQsTUFBTSxDQUFDSSxDQUFoQjtBQUNBN0QsRUFBQUEsSUFBSSxDQUFDRCxDQUFMLEdBQVMwRCxNQUFNLENBQUNHLENBQWhCO0FBQ0EzRCxFQUFBQSxJQUFJLENBQUNILENBQUwsR0FBUzJELE1BQU0sQ0FBQ0UsQ0FBaEI7QUFDQTFELEVBQUFBLElBQUksQ0FBQ0YsQ0FBTCxHQUFTMEQsTUFBTSxDQUFDSyxDQUFoQjtBQUNBNUQsRUFBQUEsSUFBSSxDQUFDSixDQUFMLEdBQVMyRCxNQUFNLENBQUNJLENBQWhCO0FBQ0EzRCxFQUFBQSxJQUFJLENBQUNILENBQUwsR0FBUzBELE1BQU0sQ0FBQ0ssQ0FBaEI7QUFFQSxNQUFJQyxPQUFPLEdBQUcsSUFBZCxDQVZnQyxDQVloQzs7QUFDQSxNQUFJLENBQUNMLEdBQUcsR0FBRzdFLFFBQVEsQ0FBQ21GLFFBQWhCLE1BQThCLENBQWxDLEVBQXFDO0FBQ2pDRCxJQUFBQSxPQUFPLEdBQUcvRCxJQUFWO0FBQ0FBLElBQUFBLElBQUksR0FBR0MsSUFBUDtBQUNBQSxJQUFBQSxJQUFJLEdBQUc4RCxPQUFQO0FBQ0gsR0FqQitCLENBbUJoQzs7O0FBQ0EsTUFBSSxDQUFDTCxHQUFHLEdBQUc3RSxRQUFRLENBQUNvRixVQUFoQixNQUFnQyxDQUFwQyxFQUF1QztBQUNuQ0YsSUFBQUEsT0FBTyxHQUFHbEUsSUFBVjtBQUNBQSxJQUFBQSxJQUFJLEdBQUdHLElBQVA7QUFDQUEsSUFBQUEsSUFBSSxHQUFHK0QsT0FBUDtBQUVBQSxJQUFBQSxPQUFPLEdBQUc5RCxJQUFWO0FBQ0FBLElBQUFBLElBQUksR0FBR0MsSUFBUDtBQUNBQSxJQUFBQSxJQUFJLEdBQUc2RCxPQUFQO0FBQ0gsR0E1QitCLENBOEJoQzs7O0FBQ0EsTUFBSSxDQUFDTCxHQUFHLEdBQUc3RSxRQUFRLENBQUNxRixRQUFoQixNQUE4QixDQUFsQyxFQUFxQztBQUNqQ0gsSUFBQUEsT0FBTyxHQUFHbEUsSUFBVjtBQUNBQSxJQUFBQSxJQUFJLEdBQUdJLElBQVA7QUFDQUEsSUFBQUEsSUFBSSxHQUFHOEQsT0FBUDtBQUVBQSxJQUFBQSxPQUFPLEdBQUcvRCxJQUFWO0FBQ0FBLElBQUFBLElBQUksR0FBR0UsSUFBUDtBQUNBQSxJQUFBQSxJQUFJLEdBQUc2RCxPQUFQO0FBQ0g7QUFDSjs7QUFBQTs7SUFFb0JJOzs7Ozs7Ozs7U0FDakJDLG1CQUFBLDBCQUFrQkMsSUFBbEIsRUFBd0I7QUFDcEIsUUFBSSxDQUFDQSxJQUFJLENBQUMxRCxlQUFWLEVBQTJCO0FBQ3ZCMEQsTUFBQUEsSUFBSSxDQUFDekQsT0FBTCxHQUFlLElBQUl0QixFQUFFLENBQUNnRixjQUFQLENBQXNCdkYsUUFBUSxDQUFDd0YsT0FBL0IsRUFBd0N2RixjQUF4QyxDQUFmO0FBQ0FxRixNQUFBQSxJQUFJLENBQUMxRCxlQUFMLEdBQXVCLElBQUlyQixFQUFFLENBQUNrRixzQkFBUCxFQUF2QjtBQUNIO0FBQ0o7O1NBRURDLGNBQUEscUJBQWFKLElBQWIsRUFBbUJ0RixRQUFuQixFQUE2QjtBQUN6QixRQUFJMkYsUUFBUSxHQUFHTCxJQUFJLENBQUNNLFNBQXBCO0FBQ0EsUUFBSUQsUUFBUSxDQUFDcEIsTUFBVCxLQUFvQixDQUF4QixFQUE0Qjs7QUFFNUJlLElBQUFBLElBQUksQ0FBQ08sY0FBTDs7QUFFQSxRQUFJQyxTQUFTLEdBQUdSLElBQUksQ0FBQ3JDLElBQXJCO0FBQ0F6QixJQUFBQSxNQUFNLEdBQUc4RCxJQUFJLENBQUNTLGtCQUFkO0FBQ0F0RSxJQUFBQSxNQUFNLEdBQUc2RCxJQUFJLENBQUNVLGtCQUFkO0FBQ0F0RSxJQUFBQSxTQUFTLEdBQUdvRSxTQUFTLENBQUN0RCxZQUF0QjtBQUNBYixJQUFBQSxTQUFTLEdBQUczQixRQUFaO0FBQ0ErQixJQUFBQSxLQUFLLEdBQUd1RCxJQUFSO0FBQ0ExRCxJQUFBQSxlQUFlLEdBQUcwRCxJQUFJLENBQUMxRCxlQUF2QjtBQUNBQyxJQUFBQSxPQUFPLEdBQUd5RCxJQUFJLENBQUN6RCxPQUFmOztBQUVBLFFBQUl5RCxJQUFJLENBQUNXLGVBQUwsTUFBMEJYLElBQUksQ0FBQ1ksZ0JBQUwsRUFBMUIsSUFBcURaLElBQUksQ0FBQ2EsYUFBTCxFQUFyRCxJQUE2RWIsSUFBSSxDQUFDYyxhQUFMLEVBQWpGLEVBQXVHO0FBQ25HdkUsTUFBQUEsT0FBTyxDQUFDd0UsS0FBUjs7QUFFQSxVQUFJQyxRQUFKLEVBQWNDLFFBQWQ7O0FBQ0EsVUFBSWpCLElBQUksQ0FBQ2tCLGNBQVQsRUFBeUI7QUFDdEIsWUFBSUMsV0FBVyxHQUFHbkIsSUFBSSxDQUFDb0IsWUFBdkI7QUFDQUosUUFBQUEsUUFBUSxHQUFHRyxXQUFXLENBQUNILFFBQXZCO0FBQ0FDLFFBQUFBLFFBQVEsR0FBR0UsV0FBVyxDQUFDRixRQUF2QjtBQUNGLE9BSkQsTUFJTztBQUNIRCxRQUFBQSxRQUFRLEdBQUczRixTQUFYO0FBQ0E0RixRQUFBQSxRQUFRLEdBQUdqQixJQUFJLENBQUNxQixTQUFoQjtBQUNIOztBQUVELFVBQUlDLE9BQU8sR0FBR0wsUUFBUSxDQUFDM0YsR0FBVCxHQUFlMEYsUUFBUSxDQUFDMUYsR0FBeEIsR0FBOEIsQ0FBNUM7QUFDQSxVQUFJaUcsT0FBTyxHQUFHTixRQUFRLENBQUMxRixHQUFULEdBQWV5RixRQUFRLENBQUN6RixHQUF4QixHQUE4QixDQUE1QztBQUNBLFVBQUlpRyxRQUFRLEdBQUdGLE9BQU8sR0FBR0MsT0FBekI7O0FBQ0EsVUFBSUMsUUFBUSxHQUFHNUcsYUFBZixFQUE4QjtBQUMxQjRHLFFBQUFBLFFBQVEsR0FBRzVHLGFBQVg7QUFDSDs7QUFFRDJCLE1BQUFBLE9BQU8sQ0FBQ2tGLE9BQVIsQ0FBZ0JELFFBQVEsR0FBRyxDQUEzQixFQUE4QkEsUUFBUSxHQUFHLENBQXpDOztBQUVBLGNBQVF4QixJQUFJLENBQUMwQixZQUFiO0FBQ0k7QUFDQSxhQUFLNUcsV0FBVyxDQUFDNkcsU0FBakI7QUFDSSxlQUFLQyxhQUFMLENBQW1CWixRQUFuQixFQUE2QkMsUUFBN0IsRUFBdUMsQ0FBQyxDQUF4QyxFQUEyQyxDQUEzQztBQUNBO0FBQ0o7O0FBQ0EsYUFBS25HLFdBQVcsQ0FBQytHLFFBQWpCO0FBQ0ksZUFBS0QsYUFBTCxDQUFtQlosUUFBbkIsRUFBNkJDLFFBQTdCLEVBQXVDLENBQUMsQ0FBeEMsRUFBMkMsQ0FBQyxDQUE1QztBQUNBO0FBQ0o7O0FBQ0EsYUFBS25HLFdBQVcsQ0FBQ2dILE9BQWpCO0FBQ0ksZUFBS0YsYUFBTCxDQUFtQlosUUFBbkIsRUFBNkJDLFFBQTdCLEVBQXVDLENBQXZDLEVBQTBDLENBQTFDO0FBQ0E7QUFDSjs7QUFDQSxhQUFLbkcsV0FBVyxDQUFDaUgsTUFBakI7QUFDSSxlQUFLSCxhQUFMLENBQW1CWixRQUFuQixFQUE2QkMsUUFBN0IsRUFBdUMsQ0FBdkMsRUFBMEMsQ0FBQyxDQUEzQztBQUNBO0FBaEJSOztBQWtCQWpCLE1BQUFBLElBQUksQ0FBQ2dDLGdCQUFMLENBQXNCLEtBQXRCOztBQUNBaEMsTUFBQUEsSUFBSSxDQUFDaUMsaUJBQUwsQ0FBdUIsS0FBdkI7QUFFSCxLQTNDRCxNQTJDTyxJQUFJLENBQUNuRixpQkFBTCxFQUF3QjtBQUMzQixVQUFJb0YsVUFBVSxHQUFHLElBQWpCO0FBQ0EsVUFBSUMsZUFBZSxHQUFHLElBQXRCO0FBQ0EsVUFBSXpELFNBQVMsR0FBRyxJQUFoQjs7QUFFQSxXQUFLLElBQUkwRCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHOUYsZUFBZSxDQUFDK0YsT0FBcEMsRUFBNkNELENBQUMsRUFBOUMsRUFBa0Q7QUFDOUNGLFFBQUFBLFVBQVUsR0FBRzVGLGVBQWUsQ0FBQ2dHLFNBQWhCLENBQTBCRixDQUExQixDQUFiO0FBQ0FELFFBQUFBLGVBQWUsR0FBR0QsVUFBVSxDQUFDQyxlQUE3Qjs7QUFDQSxZQUFJQSxlQUFlLENBQUNsRCxNQUFoQixHQUF5QixDQUE3QixFQUFnQztBQUM1QnZFLFVBQUFBLFFBQVEsQ0FBQ29FLGFBQVQ7O0FBQ0EsZUFBSyxJQUFJeUQsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0osZUFBZSxDQUFDbEQsTUFBcEMsRUFBNENzRCxDQUFDLEVBQTdDLEVBQWlEO0FBQzdDN0QsWUFBQUEsU0FBUyxHQUFHeUQsZUFBZSxDQUFDSSxDQUFELENBQTNCO0FBQ0EsZ0JBQUksQ0FBQzdELFNBQUwsRUFBZ0I7O0FBQ2hCLGlCQUFLLElBQUk4RCxHQUFHLEdBQUcsQ0FBZixFQUFrQkEsR0FBRyxHQUFHOUQsU0FBUyxDQUFDTyxNQUFsQyxFQUEwQ3VELEdBQUcsRUFBN0MsRUFBaUQ7QUFDN0Msa0JBQUl6RCxRQUFRLEdBQUdMLFNBQVMsQ0FBQzhELEdBQUQsQ0FBeEI7QUFDQSxrQkFBSSxDQUFDekQsUUFBTCxFQUFlOztBQUNmbkMsY0FBQUEsY0FBYyxDQUFDbUMsUUFBUSxDQUFDcEIsSUFBVixDQUFkO0FBQ0g7QUFDSjs7QUFDRGpELFVBQUFBLFFBQVEsQ0FBQ29FLGFBQVQ7O0FBQ0FwRSxVQUFBQSxRQUFRLENBQUM4QyxNQUFUO0FBQ0g7O0FBQ0QsWUFBSTBFLFVBQVUsQ0FBQ3JFLEVBQVgsQ0FBY0osTUFBZCxHQUF1QixDQUEzQixFQUE4QjtBQUMxQi9DLFVBQUFBLFFBQVEsQ0FBQ2dELFFBQVQsR0FBb0J3RSxVQUFVLENBQUN4RSxRQUEvQjtBQUNBaEQsVUFBQUEsUUFBUSxDQUFDaUQsSUFBVCxHQUFnQjZDLFNBQWhCOztBQUNBOUYsVUFBQUEsUUFBUSxDQUFDa0QsUUFBVCxDQUFrQnNFLFVBQVUsQ0FBQ3JFLEVBQTdCO0FBQ0g7QUFDSjtBQUNKOztBQUVEL0IsSUFBQUEsV0FBVyxHQUFHLElBQWQ7QUFDQUMsSUFBQUEsR0FBRyxHQUFHLElBQU47QUFDQUssSUFBQUEsU0FBUyxHQUFHLElBQVo7QUFDQUMsSUFBQUEsU0FBUyxHQUFHLElBQVo7QUFDQUMsSUFBQUEsZUFBZSxHQUFHLElBQWxCO0FBQ0FDLElBQUFBLE9BQU8sR0FBRyxJQUFWO0FBQ0FDLElBQUFBLFlBQVksR0FBRyxJQUFmO0FBQ0FDLElBQUFBLEtBQUssR0FBRyxJQUFSO0FBRUFDLElBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0FDLElBQUFBLFFBQVEsR0FBRyxJQUFYO0FBQ0gsSUFFRDtBQUNBOzs7U0FDQWlGLGdCQUFBLHVCQUFlWixRQUFmLEVBQXlCQyxRQUF6QixFQUFtQ3dCLFVBQW5DLEVBQStDQyxVQUEvQyxFQUEyRDtBQUN2RHBHLElBQUFBLGVBQWUsQ0FBQ3lFLEtBQWhCLEdBRHVELENBR3ZEOzs7QUFDQSxRQUFJRSxRQUFRLENBQUMzRixHQUFULEdBQWUsQ0FBZixJQUFvQjJGLFFBQVEsQ0FBQzFGLEdBQVQsR0FBZSxDQUF2QyxFQUEwQztBQUUxQ08sSUFBQUEsV0FBVyxHQUFHUSxlQUFlLENBQUM2QixhQUFoQixDQUE4QjVCLE9BQTlCLENBQWQ7QUFDQVIsSUFBQUEsR0FBRyxHQUFHRCxXQUFXLENBQUMrQixFQUFsQjtBQUNBbkIsSUFBQUEsS0FBSyxHQUFHSCxPQUFPLENBQUMwQixNQUFoQjtBQUNBdEIsSUFBQUEsUUFBUSxHQUFHSixPQUFPLENBQUMyQixVQUFuQjtBQUNBbEMsSUFBQUEsVUFBVSxHQUFHLENBQWI7QUFDQUMsSUFBQUEsU0FBUyxHQUFHLENBQVo7QUFDQU8sSUFBQUEsWUFBWSxHQUFHLElBQWY7QUFFQSxRQUFJZ0UsU0FBUyxHQUFHL0QsS0FBSyxDQUFDa0IsSUFBdEI7QUFDQSxRQUFJZ0YsS0FBSyxHQUFHbkMsU0FBUyxDQUFDb0MsTUFBVixDQUFpQkMsSUFBN0I7QUFDQSxRQUFJQyxVQUFVLEdBQUdyRyxLQUFLLENBQUNzRyxXQUF2QjtBQUNBLFFBQUlDLFFBQVEsR0FBR3ZHLEtBQUssQ0FBQ3dHLFNBQXJCO0FBQ0EsUUFBSUMsS0FBSyxHQUFHekcsS0FBSyxDQUFDMEcsTUFBbEI7QUFDQSxRQUFJQyxhQUFhLEdBQUczRyxLQUFLLENBQUM0RyxnQkFBMUI7QUFDQSxRQUFJQyxJQUFJLEdBQUc3RyxLQUFLLENBQUM4RyxVQUFqQjtBQUVBLFFBQUlsRCxRQUFRLEdBQUc1RCxLQUFLLENBQUM2RCxTQUFyQjtBQUNBLFFBQUlrRCxPQUFKO0FBQUEsUUFBYWpJLEdBQWI7QUFBQSxRQUFrQmtJLElBQWxCO0FBQUEsUUFBd0JuSSxHQUF4QjtBQUFBLFFBQTZCb0ksSUFBN0I7QUFBQSxRQUFtQ0MsT0FBbkM7QUFBQSxRQUE0Q0MsUUFBNUM7QUFBQSxRQUFzREMsSUFBSSxHQUFHLElBQTdEO0FBQUEsUUFBbUV4RSxHQUFHLEdBQUcsQ0FBekU7QUFDQSxRQUFJeUUsSUFBSSxHQUFHLENBQVg7QUFBQSxRQUFjQyxNQUFNLEdBQUcsQ0FBdkI7QUFBQSxRQUEwQkMsS0FBSyxHQUFHLENBQWxDO0FBQUEsUUFBcUNDLEdBQUcsR0FBRyxDQUEzQyxDQXhCdUQsQ0F3QlQ7O0FBQzlDLFFBQUlDLFNBQVMsR0FBRyxJQUFoQjtBQUFBLFFBQXNCQyxTQUFTLEdBQUcsQ0FBQyxDQUFuQztBQUFBLFFBQXNDQyxNQUF0QztBQUNBLFFBQUlDLGFBQWEsR0FBRyxDQUFwQjtBQUFBLFFBQXVCQyxhQUFhLEdBQUcsSUFBdkM7O0FBRUEsUUFBSTdCLFVBQVUsSUFBSSxDQUFDLENBQW5CLEVBQXNCO0FBQ2xCbkgsTUFBQUEsR0FBRyxHQUFHMkYsUUFBUSxDQUFDM0YsR0FBZjtBQUNBb0ksTUFBQUEsSUFBSSxHQUFHMUMsUUFBUSxDQUFDMUYsR0FBaEI7QUFDSCxLQUhELE1BR087QUFDSEEsTUFBQUEsR0FBRyxHQUFHMEYsUUFBUSxDQUFDMUYsR0FBZjtBQUNBb0ksTUFBQUEsSUFBSSxHQUFHekMsUUFBUSxDQUFDM0YsR0FBaEI7QUFDSCxLQWxDc0QsQ0FvQ3ZEOzs7QUFDQSxXQUFPLENBQUNvSSxJQUFJLEdBQUdwSSxHQUFSLElBQWVtSCxVQUFmLElBQTZCLENBQXBDLEVBQXVDbkgsR0FBRyxJQUFJbUgsVUFBOUMsRUFBMEQ7QUFDdERlLE1BQUFBLE9BQU8sR0FBR25ELFFBQVEsQ0FBQy9FLEdBQUQsQ0FBbEI7QUFDQStJLE1BQUFBLGFBQWEsR0FBRzVILEtBQUssQ0FBQzhILG1CQUFOLENBQTBCakosR0FBMUIsQ0FBaEI7QUFDQWdKLE1BQUFBLGFBQWEsR0FBSUQsYUFBYSxJQUFJLENBQWpCLElBQXNCYixPQUFPLElBQUlnQixTQUFsRCxDQUhzRCxDQUt0RDs7QUFDQSxVQUFJOUIsVUFBVSxJQUFJLENBQWxCLEVBQXFCO0FBQ2pCbkgsUUFBQUEsR0FBRyxHQUFHK0ksYUFBYSxJQUFJdEQsUUFBUSxDQUFDekYsR0FBVCxHQUFlaUksT0FBTyxDQUFDaUIsTUFBeEMsR0FBaURqQixPQUFPLENBQUNpQixNQUF6RCxHQUFrRXpELFFBQVEsQ0FBQ3pGLEdBQWpGO0FBQ0FrSSxRQUFBQSxJQUFJLEdBQUdhLGFBQWEsSUFBSXJELFFBQVEsQ0FBQzFGLEdBQVQsR0FBZWlJLE9BQU8sQ0FBQ2tCLE1BQXhDLEdBQWlEbEIsT0FBTyxDQUFDa0IsTUFBekQsR0FBa0V6RCxRQUFRLENBQUMxRixHQUFsRjtBQUNILE9BSEQsTUFHTztBQUNIQSxRQUFBQSxHQUFHLEdBQUcrSSxhQUFhLElBQUlyRCxRQUFRLENBQUMxRixHQUFULEdBQWVpSSxPQUFPLENBQUNrQixNQUF4QyxHQUFpRGxCLE9BQU8sQ0FBQ2tCLE1BQXpELEdBQWtFekQsUUFBUSxDQUFDMUYsR0FBakY7QUFDQWtJLFFBQUFBLElBQUksR0FBR2EsYUFBYSxJQUFJdEQsUUFBUSxDQUFDekYsR0FBVCxHQUFlaUksT0FBTyxDQUFDaUIsTUFBeEMsR0FBaURqQixPQUFPLENBQUNpQixNQUF6RCxHQUFrRXpELFFBQVEsQ0FBQ3pGLEdBQWxGO0FBQ0gsT0FacUQsQ0FjdEQ7OztBQUNBLGFBQU8sQ0FBQ2tJLElBQUksR0FBR2xJLEdBQVIsSUFBZW1ILFVBQWYsSUFBNkIsQ0FBcEMsRUFBdUNuSCxHQUFHLElBQUltSCxVQUE5QyxFQUEwRDtBQUN0RGlCLFFBQUFBLE9BQU8sR0FBR0gsT0FBTyxJQUFJQSxPQUFPLENBQUNqSSxHQUFELENBQTVCOztBQUNBLFlBQUksQ0FBQ29JLE9BQUwsRUFBYztBQUNWO0FBQ0EsY0FBSVUsYUFBYSxHQUFHLENBQXBCLEVBQXVCakcsWUFBWSxDQUFDOUMsR0FBRCxFQUFNQyxHQUFOLENBQVo7QUFDdkI7QUFDSDs7QUFFRDhELFFBQUFBLEdBQUcsR0FBRzZELEtBQUssQ0FBQ1MsT0FBTyxDQUFDZ0IsS0FBVCxDQUFYO0FBQ0FkLFFBQUFBLElBQUksR0FBR2IsUUFBUSxDQUFDLENBQUMzRCxHQUFHLEdBQUc1RSxZQUFQLE1BQXlCLENBQTFCLENBQWY7QUFDQSxZQUFJLENBQUNvSixJQUFMLEVBQVcsU0FWMkMsQ0FZdEQ7O0FBQ0EsWUFBSU0sU0FBUyxLQUFLTixJQUFJLENBQUNlLEtBQXZCLEVBQThCO0FBQzFCO0FBQ0EsY0FBSVQsU0FBUyxLQUFLLENBQUMsQ0FBbkIsRUFBc0I7QUFDbEIzRyxZQUFBQSxNQUFNO0FBQ1QsV0FKeUIsQ0FLMUI7OztBQUNBMkcsVUFBQUEsU0FBUyxHQUFHTixJQUFJLENBQUNlLEtBQWpCO0FBQ0FSLFVBQUFBLE1BQU0sR0FBR2hCLGFBQWEsQ0FBQ2UsU0FBRCxDQUF0QjtBQUNBM0gsVUFBQUEsWUFBWSxHQUFHOEcsSUFBSSxDQUFDYyxNQUFELENBQW5CO0FBQ0F0SSxVQUFBQSxXQUFXLENBQUM0QixRQUFaLEdBQXVCbEIsWUFBdkI7QUFDSDs7QUFDRCxZQUFJLENBQUNBLFlBQUwsRUFBbUIsU0F4Qm1DLENBMEJ0RDs7QUFDQXNILFFBQUFBLElBQUksR0FBR0gsT0FBTyxDQUFDRyxJQUFSLEdBQWU1SCxNQUF0QjtBQUNBNkgsUUFBQUEsTUFBTSxHQUFHSixPQUFPLENBQUNJLE1BQVIsR0FBaUI1SCxNQUExQjtBQUNBeUgsUUFBQUEsUUFBUSxHQUFHQyxJQUFJLENBQUNnQixPQUFMLENBQWFDLFNBQXhCO0FBQ0FkLFFBQUFBLEtBQUssR0FBR0YsSUFBSSxHQUFHRixRQUFRLENBQUNtQixLQUF4QjtBQUNBZCxRQUFBQSxHQUFHLEdBQUdGLE1BQU0sR0FBR0gsUUFBUSxDQUFDb0IsTUFBeEIsQ0EvQnNELENBaUN0RDs7QUFDQWQsUUFBQUEsU0FBUyxHQUFHcEIsVUFBVSxDQUFDYSxPQUFPLENBQUNnQixLQUFULENBQXRCOztBQUNBLFlBQUksQ0FBQ1QsU0FBTCxFQUFnQjtBQUNaO0FBQ0F4SCxVQUFBQSxLQUFLLENBQUNULFNBQUQsQ0FBTCxHQUFtQjZILElBQW5CO0FBQ0FwSCxVQUFBQSxLQUFLLENBQUNULFNBQVMsR0FBRyxDQUFiLENBQUwsR0FBdUJnSSxHQUF2QjtBQUNBdEgsVUFBQUEsUUFBUSxDQUFDVixTQUFTLEdBQUcsQ0FBYixDQUFSLEdBQTBCMEcsS0FBMUIsQ0FKWSxDQU1aOztBQUNBakcsVUFBQUEsS0FBSyxDQUFDVCxTQUFTLEdBQUcsQ0FBYixDQUFMLEdBQXVCNkgsSUFBdkI7QUFDQXBILFVBQUFBLEtBQUssQ0FBQ1QsU0FBUyxHQUFHLENBQWIsQ0FBTCxHQUF1QjhILE1BQXZCO0FBQ0FwSCxVQUFBQSxRQUFRLENBQUNWLFNBQVMsR0FBRyxDQUFiLENBQVIsR0FBMEIwRyxLQUExQixDQVRZLENBV1o7O0FBQ0FqRyxVQUFBQSxLQUFLLENBQUNULFNBQVMsR0FBRyxFQUFiLENBQUwsR0FBd0IrSCxLQUF4QjtBQUNBdEgsVUFBQUEsS0FBSyxDQUFDVCxTQUFTLEdBQUcsRUFBYixDQUFMLEdBQXdCZ0ksR0FBeEI7QUFDQXRILFVBQUFBLFFBQVEsQ0FBQ1YsU0FBUyxHQUFHLEVBQWIsQ0FBUixHQUEyQjBHLEtBQTNCLENBZFksQ0FnQlo7O0FBQ0FqRyxVQUFBQSxLQUFLLENBQUNULFNBQVMsR0FBRyxFQUFiLENBQUwsR0FBd0IrSCxLQUF4QjtBQUNBdEgsVUFBQUEsS0FBSyxDQUFDVCxTQUFTLEdBQUcsRUFBYixDQUFMLEdBQXdCOEgsTUFBeEI7QUFDQXBILFVBQUFBLFFBQVEsQ0FBQ1YsU0FBUyxHQUFHLEVBQWIsQ0FBUixHQUEyQjBHLEtBQTNCO0FBQ0gsU0FwQkQsTUFvQk87QUFDSCxlQUFLc0MsZUFBTCxDQUFxQmYsU0FBUyxDQUFDdkcsSUFBL0IsRUFBcUNqQixLQUFyQyxFQUE0Q0MsUUFBNUMsRUFBc0RtSCxJQUF0RCxFQUE0REUsS0FBNUQsRUFBbUVDLEdBQW5FLEVBQXdFRixNQUF4RTtBQUNIOztBQUVENUUsUUFBQUEsWUFBWSxDQUFDMEUsSUFBRCxFQUFPeEUsR0FBUCxDQUFaLENBM0RzRCxDQTZEdEQ7OztBQUNBM0MsUUFBQUEsS0FBSyxDQUFDVCxTQUFTLEdBQUcsQ0FBYixDQUFMLEdBQXVCVCxJQUFJLENBQUNDLENBQTVCO0FBQ0FpQixRQUFBQSxLQUFLLENBQUNULFNBQVMsR0FBRyxDQUFiLENBQUwsR0FBdUJULElBQUksQ0FBQ0UsQ0FBNUIsQ0EvRHNELENBaUV0RDs7QUFDQWdCLFFBQUFBLEtBQUssQ0FBQ1QsU0FBUyxHQUFHLENBQWIsQ0FBTCxHQUF1QkwsSUFBSSxDQUFDSCxDQUE1QjtBQUNBaUIsUUFBQUEsS0FBSyxDQUFDVCxTQUFTLEdBQUcsQ0FBYixDQUFMLEdBQXVCTCxJQUFJLENBQUNGLENBQTVCLENBbkVzRCxDQXFFdEQ7O0FBQ0FnQixRQUFBQSxLQUFLLENBQUNULFNBQVMsR0FBRyxFQUFiLENBQUwsR0FBd0JOLElBQUksQ0FBQ0YsQ0FBN0I7QUFDQWlCLFFBQUFBLEtBQUssQ0FBQ1QsU0FBUyxHQUFHLEVBQWIsQ0FBTCxHQUF3Qk4sSUFBSSxDQUFDRCxDQUE3QixDQXZFc0QsQ0F5RXREOztBQUNBZ0IsUUFBQUEsS0FBSyxDQUFDVCxTQUFTLEdBQUcsRUFBYixDQUFMLEdBQXdCSixJQUFJLENBQUNKLENBQTdCO0FBQ0FpQixRQUFBQSxLQUFLLENBQUNULFNBQVMsR0FBRyxFQUFiLENBQUwsR0FBd0JKLElBQUksQ0FBQ0gsQ0FBN0IsQ0EzRXNELENBNkV0RDs7QUFDQU8sUUFBQUEsU0FBUyxJQUFJLEVBQWI7O0FBQ0FNLFFBQUFBLE9BQU8sQ0FBQzJJLE1BQVIsQ0FBZSxDQUFmLEVBQWtCLENBQWxCOztBQUNBbkosUUFBQUEsR0FBRyxDQUFDMEIsTUFBSixJQUFjLENBQWQ7QUFDQXpCLFFBQUFBLFVBQVUsR0FqRjRDLENBbUZ0RDs7QUFDQSxZQUFJcUksYUFBYSxHQUFHLENBQXBCLEVBQXVCakcsWUFBWSxDQUFDOUMsR0FBRCxFQUFNQyxHQUFOLENBQVosQ0FwRitCLENBc0Z0RDs7QUFDQSxZQUFJUyxVQUFVLElBQUlwQixhQUFsQixFQUFpQztBQUM3QjRDLFVBQUFBLE1BQU07QUFDVDtBQUNKO0FBQ0osS0EvSXNELENBaUp2RDs7O0FBQ0FqQixJQUFBQSxPQUFPLENBQUN3QixVQUFSLEdBbEp1RCxDQW9KdkQ7OztBQUNBLFFBQUloQyxHQUFHLENBQUMwQixNQUFKLEdBQWEsQ0FBakIsRUFBb0I7QUFDaEJwQixNQUFBQSxTQUFTLENBQUNxQixRQUFWLEdBQXFCNUIsV0FBVyxDQUFDNEIsUUFBakM7QUFDQXJCLE1BQUFBLFNBQVMsQ0FBQ3NCLElBQVYsR0FBaUJsQixLQUFLLENBQUNrQixJQUF2Qjs7QUFDQXRCLE1BQUFBLFNBQVMsQ0FBQ3VCLFFBQVYsQ0FBbUI5QixXQUFXLENBQUMrQixFQUEvQjtBQUNIO0FBQ0o7O1NBRURvSCxrQkFBQSx5QkFBaUJmLFNBQWpCLEVBQTRCaUIsSUFBNUIsRUFBa0NDLE9BQWxDLEVBQTJDdEIsSUFBM0MsRUFBaURFLEtBQWpELEVBQXdEQyxHQUF4RCxFQUE2REYsTUFBN0QsRUFBcUU7QUFDakVHLElBQUFBLFNBQVMsQ0FBQ25ILGtCQUFWOztBQUNBQyxxQkFBS3FJLElBQUwsQ0FBVXJLLFVBQVYsRUFBc0JrSixTQUFTLENBQUMvRyxPQUFoQzs7QUFDQW1JLHFCQUFLQyxHQUFMLENBQVNwSyxVQUFULEVBQXFCLEVBQUUySSxJQUFJLEdBQUc1SCxNQUFULENBQXJCLEVBQXVDLEVBQUU2SCxNQUFNLEdBQUc1SCxNQUFYLENBQXZDLEVBQTJELENBQTNEOztBQUNBYSxxQkFBS3dJLFNBQUwsQ0FBZXhLLFVBQWYsRUFBMkJBLFVBQTNCLEVBQXVDRyxVQUF2Qzs7QUFDQSxRQUFJc0ssQ0FBQyxHQUFHekssVUFBVSxDQUFDeUssQ0FBbkI7QUFDQSxRQUFJQyxDQUFDLEdBQUdELENBQUMsQ0FBQyxDQUFELENBQVQ7QUFDQSxRQUFJaEcsQ0FBQyxHQUFHZ0csQ0FBQyxDQUFDLENBQUQsQ0FBVDtBQUNBLFFBQUlFLENBQUMsR0FBR0YsQ0FBQyxDQUFDLENBQUQsQ0FBVDtBQUNBLFFBQUlHLENBQUMsR0FBR0gsQ0FBQyxDQUFDLENBQUQsQ0FBVDtBQUNBLFFBQUlJLEVBQUUsR0FBR0osQ0FBQyxDQUFDLEVBQUQsQ0FBVjtBQUNBLFFBQUlLLEVBQUUsR0FBR0wsQ0FBQyxDQUFDLEVBQUQsQ0FBVjtBQUNBLFFBQUk5QyxLQUFLLEdBQUd1QixTQUFTLENBQUN0QixNQUFWLENBQWlCQyxJQUE3QixDQVppRSxDQWNqRTs7QUFDQXNDLElBQUFBLElBQUksQ0FBQ2xKLFNBQUQsQ0FBSixHQUFrQjZILElBQUksR0FBRzRCLENBQVAsR0FBV3pCLEdBQUcsR0FBRzBCLENBQWpCLEdBQXFCRSxFQUF2QztBQUNBVixJQUFBQSxJQUFJLENBQUNsSixTQUFTLEdBQUcsQ0FBYixDQUFKLEdBQXNCNkgsSUFBSSxHQUFHckUsQ0FBUCxHQUFXd0UsR0FBRyxHQUFHMkIsQ0FBakIsR0FBcUJFLEVBQTNDO0FBQ0FWLElBQUFBLE9BQU8sQ0FBQ25KLFNBQVMsR0FBRyxDQUFiLENBQVAsR0FBeUIwRyxLQUF6QixDQWpCaUUsQ0FtQmpFOztBQUNBd0MsSUFBQUEsSUFBSSxDQUFDbEosU0FBUyxHQUFHLENBQWIsQ0FBSixHQUFzQjZILElBQUksR0FBRzRCLENBQVAsR0FBVzNCLE1BQU0sR0FBRzRCLENBQXBCLEdBQXdCRSxFQUE5QztBQUNBVixJQUFBQSxJQUFJLENBQUNsSixTQUFTLEdBQUcsQ0FBYixDQUFKLEdBQXNCNkgsSUFBSSxHQUFHckUsQ0FBUCxHQUFXc0UsTUFBTSxHQUFHNkIsQ0FBcEIsR0FBd0JFLEVBQTlDO0FBQ0FWLElBQUFBLE9BQU8sQ0FBQ25KLFNBQVMsR0FBRyxDQUFiLENBQVAsR0FBeUIwRyxLQUF6QixDQXRCaUUsQ0F3QmpFOztBQUNBd0MsSUFBQUEsSUFBSSxDQUFDbEosU0FBUyxHQUFHLEVBQWIsQ0FBSixHQUF1QitILEtBQUssR0FBRzBCLENBQVIsR0FBWXpCLEdBQUcsR0FBRzBCLENBQWxCLEdBQXNCRSxFQUE3QztBQUNBVixJQUFBQSxJQUFJLENBQUNsSixTQUFTLEdBQUcsRUFBYixDQUFKLEdBQXVCK0gsS0FBSyxHQUFHdkUsQ0FBUixHQUFZd0UsR0FBRyxHQUFHMkIsQ0FBbEIsR0FBc0JFLEVBQTdDO0FBQ0FWLElBQUFBLE9BQU8sQ0FBQ25KLFNBQVMsR0FBRyxFQUFiLENBQVAsR0FBMEIwRyxLQUExQixDQTNCaUUsQ0E2QmpFOztBQUNBd0MsSUFBQUEsSUFBSSxDQUFDbEosU0FBUyxHQUFHLEVBQWIsQ0FBSixHQUF1QitILEtBQUssR0FBRzBCLENBQVIsR0FBWTNCLE1BQU0sR0FBRzRCLENBQXJCLEdBQXlCRSxFQUFoRDtBQUNBVixJQUFBQSxJQUFJLENBQUNsSixTQUFTLEdBQUcsRUFBYixDQUFKLEdBQXVCK0gsS0FBSyxHQUFHdkUsQ0FBUixHQUFZc0UsTUFBTSxHQUFHNkIsQ0FBckIsR0FBeUJFLEVBQWhEO0FBQ0FWLElBQUFBLE9BQU8sQ0FBQ25KLFNBQVMsR0FBRyxFQUFiLENBQVAsR0FBMEIwRyxLQUExQjtBQUNIOzs7RUE1U3FDb0Q7Ozs7QUErUzFDQSxzQkFBVUMsUUFBVixDQUFtQjNMLFVBQW5CLEVBQStCeUYsWUFBL0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xuXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxuIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcbiB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXG4gc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgQXNzZW1ibGVyIGZyb20gJy4uL2NvcmUvcmVuZGVyZXIvYXNzZW1ibGVyJztcblxuY29uc3QgVGlsZWRMYXllciA9IHJlcXVpcmUoJy4vQ0NUaWxlZExheWVyJyk7XG5jb25zdCBUaWxlZE1hcCA9IHJlcXVpcmUoJy4vQ0NUaWxlZE1hcCcpO1xuY29uc3QgVGlsZUZsYWcgPSBUaWxlZE1hcC5UaWxlRmxhZztcbmNvbnN0IEZMSVBQRURfTUFTSyA9IFRpbGVGbGFnLkZMSVBQRURfTUFTSztcblxuY29uc3QgcmVuZGVyZXIgPSByZXF1aXJlKCcuLi9jb3JlL3JlbmRlcmVyLycpO1xuY29uc3QgdmZtdFBvc1V2Q29sb3IgPSByZXF1aXJlKCcuLi9jb3JlL3JlbmRlcmVyL3dlYmdsL3ZlcnRleC1mb3JtYXQnKS52Zm10UG9zVXZDb2xvcjtcblxuY29uc3QgTWF4R3JpZHNMaW1pdCA9IHBhcnNlSW50KDY1NTM1IC8gNik7XG5jb25zdCBSZW5kZXJPcmRlciA9IFRpbGVkTWFwLlJlbmRlck9yZGVyO1xuXG5pbXBvcnQgeyBNYXQ0LCBWZWMzIH0gZnJvbSAnLi4vY29yZS92YWx1ZS10eXBlcyc7XG5cbmNvbnN0IFJlbmRlckZsb3cgPSByZXF1aXJlKCcuLi9jb3JlL3JlbmRlcmVyL3JlbmRlci1mbG93Jyk7XG5cbmxldCBfbWF0NF90ZW1wID0gY2MubWF0NCgpO1xubGV0IF92ZWMzX3RlbXAgPSBjYy52MygpO1xubGV0IF9sZWZ0RG93biA9IHtyb3c6MCwgY29sOjB9O1xubGV0IF91dmEgPSB7eDowLCB5OjB9O1xubGV0IF91dmIgPSB7eDowLCB5OjB9O1xubGV0IF91dmMgPSB7eDowLCB5OjB9O1xubGV0IF91dmQgPSB7eDowLCB5OjB9O1xuXG5sZXQgX3JlbmRlckRhdGEgPSBudWxsLCBfaWEgPSBudWxsLCBfZmlsbEdyaWRzID0gMCxcbiAgICBfdmZPZmZzZXQgPSAwLCBfbW92ZVggPSAwLCBfbW92ZVkgPSAwLCBfbGF5ZXJNYXQgPSBudWxsLFxuICAgIF9yZW5kZXJlciA9IG51bGwsIF9yZW5kZXJEYXRhTGlzdCA9IG51bGwsIF9idWZmZXIgPSBudWxsLCBcbiAgICBfY3VyTWF0ZXJpYWwgPSBudWxsLCBfY29tcCA9IG51bGwsIF92YnVmID0gbnVsbCwgX3VpbnRidWYgPSBudWxsO1xuXG5mdW5jdGlvbiBfdmlzaXRVc2VyTm9kZSAodXNlck5vZGUpIHtcbiAgICBpZiAoQ0NfTkFUSVZFUkVOREVSRVIpIHJldHVybjtcbiAgICB1c2VyTm9kZS5fdXBkYXRlTG9jYWxNYXRyaXgoKTtcbiAgICBNYXQ0Lm11bCh1c2VyTm9kZS5fd29ybGRNYXRyaXgsIF9sYXllck1hdCwgdXNlck5vZGUuX21hdHJpeCk7XG4gICAgdXNlck5vZGUuX3JlbmRlckZsYWcgJj0gfihSZW5kZXJGbG93LkZMQUdfVFJBTlNGT1JNIHwgUmVuZGVyRmxvdy5GTEFHX0JSRUFLX0ZMT1cpO1xuICAgIFJlbmRlckZsb3cudmlzaXRSb290Tm9kZSh1c2VyTm9kZSk7XG4gICAgdXNlck5vZGUuX3JlbmRlckZsYWcgfD0gUmVuZGVyRmxvdy5GTEFHX0JSRUFLX0ZMT1c7XG59XG5cbmZ1bmN0aW9uIF9mbHVzaCAoKSB7XG4gICAgaWYgKF9pYS5fY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9yZW5kZXJlci5tYXRlcmlhbCA9IF9yZW5kZXJEYXRhLm1hdGVyaWFsO1xuICAgIF9yZW5kZXJlci5ub2RlID0gX2NvbXAubm9kZTtcbiAgICBfcmVuZGVyZXIuX2ZsdXNoSUEoX3JlbmRlckRhdGEuaWEpO1xuXG4gICAgbGV0IG5lZWRTd2l0Y2hCdWZmZXIgPSAoX2ZpbGxHcmlkcyA+PSBNYXhHcmlkc0xpbWl0KTtcbiAgICBpZiAobmVlZFN3aXRjaEJ1ZmZlcikge1xuICAgICAgICBfYnVmZmVyLnVwbG9hZERhdGEoKTtcbiAgICAgICAgX2J1ZmZlci5zd2l0Y2hCdWZmZXIoKTtcbiAgICAgICAgX3ZidWYgPSBfYnVmZmVyLl92RGF0YTtcbiAgICAgICAgX3VpbnRidWYgPSBfYnVmZmVyLl91aW50VkRhdGE7XG4gICAgICAgIF9yZW5kZXJEYXRhID0gX3JlbmRlckRhdGFMaXN0LnBvcFJlbmRlckRhdGEoX2J1ZmZlcik7XG4gICAgICAgIF9pYSA9IF9yZW5kZXJEYXRhLmlhO1xuICAgICAgICBfdmZPZmZzZXQgPSAwO1xuICAgICAgICBfZmlsbEdyaWRzID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfcmVuZGVyRGF0YSA9IF9yZW5kZXJEYXRhTGlzdC5wb3BSZW5kZXJEYXRhKF9idWZmZXIpO1xuICAgICAgICBfaWEgPSBfcmVuZGVyRGF0YS5pYTtcbiAgICB9XG4gICAgX3JlbmRlckRhdGEubWF0ZXJpYWwgPSBfY3VyTWF0ZXJpYWw7XG59XG5cbmZ1bmN0aW9uIF9yZW5kZXJOb2RlcyAobm9kZVJvdywgbm9kZUNvbCkge1xuICAgIGxldCBub2Rlc0luZm8gPSBfY29tcC5fZ2V0Tm9kZXNCeVJvd0NvbChub2RlUm93LCBub2RlQ29sKTtcbiAgICBpZiAoIW5vZGVzSW5mbyB8fCBub2Rlc0luZm8uY291bnQgPT0gMCkgcmV0dXJuO1xuICAgIGxldCBub2Rlc0xpc3QgPSBub2Rlc0luZm8ubGlzdDtcbiAgICBsZXQgbmV3SWR4ID0gMCwgb2xkSWR4ID0gMDtcbiAgICAvLyBmbHVzaCBtYXAgcmVuZGVyIGRhdGFcbiAgICBfZmx1c2goKTtcblxuICAgIF9yZW5kZXJlci53b3JsZE1hdERpcnR5Kys7XG4gICAgLy8gYmVnaW4gdG8gcmVuZGVyIG5vZGVzXG4gICAgZm9yICg7IG5ld0lkeCA8IG5vZGVzSW5mby5jb3VudDsgKSB7XG4gICAgICAgIGxldCBkYXRhQ29tcCA9IG5vZGVzTGlzdFtvbGRJZHhdO1xuICAgICAgICBvbGRJZHgrKztcbiAgICAgICAgaWYgKCFkYXRhQ29tcCkgY29udGludWU7XG4gICAgICAgIF92aXNpdFVzZXJOb2RlKGRhdGFDb21wLm5vZGUpO1xuICAgICAgICBpZiAobmV3SWR4ICE9PSBvbGRJZHgpIHtcbiAgICAgICAgICAgIG5vZGVzTGlzdFtuZXdJZHhdID0gZGF0YUNvbXA7XG4gICAgICAgICAgICBkYXRhQ29tcC5faW5kZXggPSBuZXdJZHg7XG4gICAgICAgIH1cbiAgICAgICAgbmV3SWR4Kys7XG4gICAgfVxuICAgIG5vZGVzTGlzdC5sZW5ndGggPSBuZXdJZHg7XG4gICAgX3JlbmRlcmVyLndvcmxkTWF0RGlydHktLTtcblxuICAgIF9yZW5kZXJEYXRhTGlzdC5wdXNoTm9kZXNMaXN0KF9yZW5kZXJEYXRhLCBub2Rlc0xpc3QpO1xuXG4gICAgLy8gZmx1c2ggdXNlciBub2RlcyByZW5kZXIgZGF0YVxuICAgIF9yZW5kZXJlci5fZmx1c2goKTtcbiAgICBfcmVuZGVyZXIubm9kZSA9IF9jb21wLm5vZGU7XG59XG5cbi8qXG50ZXh0dXJlIGNvb3JkaW5hdGVcbmEgYiBcbmMgZFxuKi9cbmZ1bmN0aW9uIF9mbGlwVGV4dHVyZSAoaW5HcmlkLCBnaWQpIHtcbiAgICBfdXZhLnggPSBpbkdyaWQubDtcbiAgICBfdXZhLnkgPSBpbkdyaWQudDtcbiAgICBfdXZiLnggPSBpbkdyaWQucjtcbiAgICBfdXZiLnkgPSBpbkdyaWQudDtcbiAgICBfdXZjLnggPSBpbkdyaWQubDtcbiAgICBfdXZjLnkgPSBpbkdyaWQuYjtcbiAgICBfdXZkLnggPSBpbkdyaWQucjtcbiAgICBfdXZkLnkgPSBpbkdyaWQuYjtcblxuICAgIGxldCB0ZW1wVmFsID0gbnVsbDtcblxuICAgIC8vIHZpY2VcbiAgICBpZiAoKGdpZCAmIFRpbGVGbGFnLkRJQUdPTkFMKSA+Pj4gMCkge1xuICAgICAgICB0ZW1wVmFsID0gX3V2YjtcbiAgICAgICAgX3V2YiA9IF91dmM7XG4gICAgICAgIF91dmMgPSB0ZW1wVmFsO1xuICAgIH1cblxuICAgIC8vIGZsaXAgeFxuICAgIGlmICgoZ2lkICYgVGlsZUZsYWcuSE9SSVpPTlRBTCkgPj4+IDApIHtcbiAgICAgICAgdGVtcFZhbCA9IF91dmE7XG4gICAgICAgIF91dmEgPSBfdXZiO1xuICAgICAgICBfdXZiID0gdGVtcFZhbDtcblxuICAgICAgICB0ZW1wVmFsID0gX3V2YztcbiAgICAgICAgX3V2YyA9IF91dmQ7XG4gICAgICAgIF91dmQgPSB0ZW1wVmFsO1xuICAgIH1cblxuICAgIC8vIGZsaXAgeVxuICAgIGlmICgoZ2lkICYgVGlsZUZsYWcuVkVSVElDQUwpID4+PiAwKSB7XG4gICAgICAgIHRlbXBWYWwgPSBfdXZhO1xuICAgICAgICBfdXZhID0gX3V2YztcbiAgICAgICAgX3V2YyA9IHRlbXBWYWw7XG5cbiAgICAgICAgdGVtcFZhbCA9IF91dmI7XG4gICAgICAgIF91dmIgPSBfdXZkO1xuICAgICAgICBfdXZkID0gdGVtcFZhbDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUbXhBc3NlbWJsZXIgZXh0ZW5kcyBBc3NlbWJsZXIge1xuICAgIHVwZGF0ZVJlbmRlckRhdGEgKGNvbXApIHtcbiAgICAgICAgaWYgKCFjb21wLl9yZW5kZXJEYXRhTGlzdCkge1xuICAgICAgICAgICAgY29tcC5fYnVmZmVyID0gbmV3IGNjLlRpbGVkTWFwQnVmZmVyKHJlbmRlcmVyLl9oYW5kbGUsIHZmbXRQb3NVdkNvbG9yKTtcbiAgICAgICAgICAgIGNvbXAuX3JlbmRlckRhdGFMaXN0ID0gbmV3IGNjLlRpbGVkTWFwUmVuZGVyRGF0YUxpc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbGxCdWZmZXJzIChjb21wLCByZW5kZXJlcikge1xuICAgICAgICBsZXQgdmVydGljZXMgPSBjb21wLl92ZXJ0aWNlcztcbiAgICAgICAgaWYgKHZlcnRpY2VzLmxlbmd0aCA9PT0gMCApIHJldHVybjtcblxuICAgICAgICBjb21wLl91cGRhdGVDdWxsaW5nKCk7XG5cbiAgICAgICAgbGV0IGxheWVyTm9kZSA9IGNvbXAubm9kZTtcbiAgICAgICAgX21vdmVYID0gY29tcC5fbGVmdERvd25Ub0NlbnRlclg7XG4gICAgICAgIF9tb3ZlWSA9IGNvbXAuX2xlZnREb3duVG9DZW50ZXJZO1xuICAgICAgICBfbGF5ZXJNYXQgPSBsYXllck5vZGUuX3dvcmxkTWF0cml4O1xuICAgICAgICBfcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgX2NvbXAgPSBjb21wO1xuICAgICAgICBfcmVuZGVyRGF0YUxpc3QgPSBjb21wLl9yZW5kZXJEYXRhTGlzdDtcbiAgICAgICAgX2J1ZmZlciA9IGNvbXAuX2J1ZmZlcjtcblxuICAgICAgICBpZiAoY29tcC5faXNDdWxsaW5nRGlydHkoKSB8fCBjb21wLl9pc1VzZXJOb2RlRGlydHkoKSB8fCBjb21wLl9oYXNBbmltYXRpb24oKSB8fCBjb21wLl9oYXNUaWxlZE5vZGUoKSkge1xuICAgICAgICAgICAgX2J1ZmZlci5yZXNldCgpO1xuXG4gICAgICAgICAgICBsZXQgbGVmdERvd24sIHJpZ2h0VG9wO1xuICAgICAgICAgICAgaWYgKGNvbXAuX2VuYWJsZUN1bGxpbmcpIHtcbiAgICAgICAgICAgICAgIGxldCBjdWxsaW5nUmVjdCA9IGNvbXAuX2N1bGxpbmdSZWN0O1xuICAgICAgICAgICAgICAgbGVmdERvd24gPSBjdWxsaW5nUmVjdC5sZWZ0RG93bjtcbiAgICAgICAgICAgICAgIHJpZ2h0VG9wID0gY3VsbGluZ1JlY3QucmlnaHRUb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxlZnREb3duID0gX2xlZnREb3duO1xuICAgICAgICAgICAgICAgIHJpZ2h0VG9wID0gY29tcC5fcmlnaHRUb3A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtYXhSb3dzID0gcmlnaHRUb3Aucm93IC0gbGVmdERvd24ucm93ICsgMTtcbiAgICAgICAgICAgIGxldCBtYXhDb2xzID0gcmlnaHRUb3AuY29sIC0gbGVmdERvd24uY29sICsgMTtcbiAgICAgICAgICAgIGxldCBtYXhHcmlkcyA9IG1heFJvd3MgKiBtYXhDb2xzO1xuICAgICAgICAgICAgaWYgKG1heEdyaWRzID4gTWF4R3JpZHNMaW1pdCkge1xuICAgICAgICAgICAgICAgIG1heEdyaWRzID0gTWF4R3JpZHNMaW1pdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2J1ZmZlci5yZXF1ZXN0KG1heEdyaWRzICogNCwgbWF4R3JpZHMgKiA2KTtcblxuICAgICAgICAgICAgc3dpdGNoIChjb21wLl9yZW5kZXJPcmRlcikge1xuICAgICAgICAgICAgICAgIC8vIGxlZnQgdG9wIHRvIHJpZ2h0IGRvd24sIGNvbCBhZGQsIHJvdyBzdWIsIFxuICAgICAgICAgICAgICAgIGNhc2UgUmVuZGVyT3JkZXIuUmlnaHREb3duOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYXZlcnNlR3JpZHMobGVmdERvd24sIHJpZ2h0VG9wLCAtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIHJpZ2h0IHRvcCB0byBsZWZ0IGRvd24sIGNvbCBzdWIsIHJvdyBzdWJcbiAgICAgICAgICAgICAgICBjYXNlIFJlbmRlck9yZGVyLkxlZnREb3duOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYXZlcnNlR3JpZHMobGVmdERvd24sIHJpZ2h0VG9wLCAtMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGRvd24gdG8gcmlnaHQgdXAsIGNvbCBhZGQsIHJvdyBhZGRcbiAgICAgICAgICAgICAgICBjYXNlIFJlbmRlck9yZGVyLlJpZ2h0VXA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhdmVyc2VHcmlkcyhsZWZ0RG93biwgcmlnaHRUb3AsIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyByaWdodCBkb3duIHRvIGxlZnQgdXAsIGNvbCBzdWIsIHJvdyBhZGRcbiAgICAgICAgICAgICAgICBjYXNlIFJlbmRlck9yZGVyLkxlZnRVcDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmF2ZXJzZUdyaWRzKGxlZnREb3duLCByaWdodFRvcCwgMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXAuX3NldEN1bGxpbmdEaXJ0eShmYWxzZSk7XG4gICAgICAgICAgICBjb21wLl9zZXRVc2VyTm9kZURpcnR5KGZhbHNlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCFDQ19OQVRJVkVSRU5ERVJFUikge1xuICAgICAgICAgICAgbGV0IHJlbmRlckRhdGEgPSBudWxsO1xuICAgICAgICAgICAgbGV0IG5vZGVzUmVuZGVyTGlzdCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbm9kZXNMaXN0ID0gbnVsbDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfcmVuZGVyRGF0YUxpc3QuX29mZnNldDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyRGF0YSA9IF9yZW5kZXJEYXRhTGlzdC5fZGF0YUxpc3RbaV07XG4gICAgICAgICAgICAgICAgbm9kZXNSZW5kZXJMaXN0ID0gcmVuZGVyRGF0YS5ub2Rlc1JlbmRlckxpc3Q7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVzUmVuZGVyTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLndvcmxkTWF0RGlydHkrKztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub2Rlc1JlbmRlckxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzTGlzdCA9IG5vZGVzUmVuZGVyTGlzdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZXNMaXN0KSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG5vZGVzTGlzdC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFDb21wID0gbm9kZXNMaXN0W2lkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhQ29tcCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Zpc2l0VXNlck5vZGUoZGF0YUNvbXAubm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIud29ybGRNYXREaXJ0eS0tO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5fZmx1c2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlckRhdGEuaWEuX2NvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5tYXRlcmlhbCA9IHJlbmRlckRhdGEubWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLm5vZGUgPSBsYXllck5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLl9mbHVzaElBKHJlbmRlckRhdGEuaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9yZW5kZXJEYXRhID0gbnVsbDtcbiAgICAgICAgX2lhID0gbnVsbDtcbiAgICAgICAgX2xheWVyTWF0ID0gbnVsbDtcbiAgICAgICAgX3JlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgX3JlbmRlckRhdGFMaXN0ID0gbnVsbDtcbiAgICAgICAgX2J1ZmZlciA9IG51bGw7XG4gICAgICAgIF9jdXJNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIF9jb21wID0gbnVsbDtcblxuICAgICAgICBfdmJ1ZiA9IG51bGw7XG4gICAgICAgIF91aW50YnVmID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyByb3dNb3ZlRGlyIGlzIC0xIG9yIDEsIC0xIG1lYW5zIGRlY3JlYXNlLCAxIG1lYW5zIGluY3JlYXNlXG4gICAgLy8gY29sTW92ZURpciBpcyAtMSBvciAxLCAtMSBtZWFucyBkZWNyZWFzZSwgMSBtZWFucyBpbmNyZWFzZVxuICAgIHRyYXZlcnNlR3JpZHMgKGxlZnREb3duLCByaWdodFRvcCwgcm93TW92ZURpciwgY29sTW92ZURpcikge1xuICAgICAgICBfcmVuZGVyRGF0YUxpc3QucmVzZXQoKTtcblxuICAgICAgICAvLyBzaG93IG5vdGhpbmdcbiAgICAgICAgaWYgKHJpZ2h0VG9wLnJvdyA8IDAgfHwgcmlnaHRUb3AuY29sIDwgMCkgcmV0dXJuO1xuXG4gICAgICAgIF9yZW5kZXJEYXRhID0gX3JlbmRlckRhdGFMaXN0LnBvcFJlbmRlckRhdGEoX2J1ZmZlcik7XG4gICAgICAgIF9pYSA9IF9yZW5kZXJEYXRhLmlhO1xuICAgICAgICBfdmJ1ZiA9IF9idWZmZXIuX3ZEYXRhO1xuICAgICAgICBfdWludGJ1ZiA9IF9idWZmZXIuX3VpbnRWRGF0YTtcbiAgICAgICAgX2ZpbGxHcmlkcyA9IDA7XG4gICAgICAgIF92Zk9mZnNldCA9IDA7XG4gICAgICAgIF9jdXJNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgbGV0IGxheWVyTm9kZSA9IF9jb21wLm5vZGU7XG4gICAgICAgIGxldCBjb2xvciA9IGxheWVyTm9kZS5fY29sb3IuX3ZhbDtcbiAgICAgICAgbGV0IHRpbGVkVGlsZXMgPSBfY29tcC5fdGlsZWRUaWxlcztcbiAgICAgICAgbGV0IHRleEdyaWRzID0gX2NvbXAuX3RleEdyaWRzO1xuICAgICAgICBsZXQgdGlsZXMgPSBfY29tcC5fdGlsZXM7XG4gICAgICAgIGxldCB0ZXhJZFRvTWF0SWR4ID0gX2NvbXAuX3RleElkVG9NYXRJbmRleDtcbiAgICAgICAgbGV0IG1hdHMgPSBfY29tcC5fbWF0ZXJpYWxzO1xuICAgIFxuICAgICAgICBsZXQgdmVydGljZXMgPSBfY29tcC5fdmVydGljZXM7XG4gICAgICAgIGxldCByb3dEYXRhLCBjb2wsIGNvbHMsIHJvdywgcm93cywgY29sRGF0YSwgdGlsZVNpemUsIGdyaWQgPSBudWxsLCBnaWQgPSAwO1xuICAgICAgICBsZXQgbGVmdCA9IDAsIGJvdHRvbSA9IDAsIHJpZ2h0ID0gMCwgdG9wID0gMDsgLy8geCwgeVxuICAgICAgICBsZXQgdGlsZWROb2RlID0gbnVsbCwgY3VyVGV4SWR4ID0gLTEsIG1hdElkeDtcbiAgICAgICAgbGV0IGNvbE5vZGVzQ291bnQgPSAwLCBjaGVja0NvbFJhbmdlID0gdHJ1ZTtcblxuICAgICAgICBpZiAocm93TW92ZURpciA9PSAtMSkge1xuICAgICAgICAgICAgcm93ID0gcmlnaHRUb3Aucm93O1xuICAgICAgICAgICAgcm93cyA9IGxlZnREb3duLnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvdyA9IGxlZnREb3duLnJvdztcbiAgICAgICAgICAgIHJvd3MgPSByaWdodFRvcC5yb3c7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmF2ZXJzZSByb3dcbiAgICAgICAgZm9yICg7IChyb3dzIC0gcm93KSAqIHJvd01vdmVEaXIgPj0gMDsgcm93ICs9IHJvd01vdmVEaXIpIHtcbiAgICAgICAgICAgIHJvd0RhdGEgPSB2ZXJ0aWNlc1tyb3ddO1xuICAgICAgICAgICAgY29sTm9kZXNDb3VudCA9IF9jb21wLl9nZXROb2Rlc0NvdW50QnlSb3cocm93KTtcbiAgICAgICAgICAgIGNoZWNrQ29sUmFuZ2UgPSAoY29sTm9kZXNDb3VudCA9PSAwICYmIHJvd0RhdGEgIT0gdW5kZWZpbmVkKTtcblxuICAgICAgICAgICAgLy8gbGltaXQgbWluIGNvbCBhbmQgbWF4IGNvbFxuICAgICAgICAgICAgaWYgKGNvbE1vdmVEaXIgPT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbCA9IGNoZWNrQ29sUmFuZ2UgJiYgbGVmdERvd24uY29sIDwgcm93RGF0YS5taW5Db2wgPyByb3dEYXRhLm1pbkNvbCA6IGxlZnREb3duLmNvbDtcbiAgICAgICAgICAgICAgICBjb2xzID0gY2hlY2tDb2xSYW5nZSAmJiByaWdodFRvcC5jb2wgPiByb3dEYXRhLm1heENvbCA/IHJvd0RhdGEubWF4Q29sIDogcmlnaHRUb3AuY29sO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBjaGVja0NvbFJhbmdlICYmIHJpZ2h0VG9wLmNvbCA+IHJvd0RhdGEubWF4Q29sID8gcm93RGF0YS5tYXhDb2wgOiByaWdodFRvcC5jb2w7XG4gICAgICAgICAgICAgICAgY29scyA9IGNoZWNrQ29sUmFuZ2UgJiYgbGVmdERvd24uY29sIDwgcm93RGF0YS5taW5Db2wgPyByb3dEYXRhLm1pbkNvbCA6IGxlZnREb3duLmNvbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdHJhdmVyc2UgY29sXG4gICAgICAgICAgICBmb3IgKDsgKGNvbHMgLSBjb2wpICogY29sTW92ZURpciA+PSAwOyBjb2wgKz0gY29sTW92ZURpcikge1xuICAgICAgICAgICAgICAgIGNvbERhdGEgPSByb3dEYXRhICYmIHJvd0RhdGFbY29sXTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSByZW5kZXIgdXNlcnMgbm9kZXMgYmVjYXVzZSBtYXAgZGF0YSBpcyBlbXB0eVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sTm9kZXNDb3VudCA+IDApIF9yZW5kZXJOb2Rlcyhyb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdpZCA9IHRpbGVzW2NvbERhdGEuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGdyaWQgPSB0ZXhHcmlkc1soZ2lkICYgRkxJUFBFRF9NQVNLKSA+Pj4gMF07XG4gICAgICAgICAgICAgICAgaWYgKCFncmlkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGluaXQgb3IgbmV3IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgaWYgKGN1clRleElkeCAhPT0gZ3JpZC50ZXhJZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIGZsdXNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJUZXhJZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICAgICAgY3VyVGV4SWR4ID0gZ3JpZC50ZXhJZDtcbiAgICAgICAgICAgICAgICAgICAgbWF0SWR4ID0gdGV4SWRUb01hdElkeFtjdXJUZXhJZHhdO1xuICAgICAgICAgICAgICAgICAgICBfY3VyTWF0ZXJpYWwgPSBtYXRzW21hdElkeF07XG4gICAgICAgICAgICAgICAgICAgIF9yZW5kZXJEYXRhLm1hdGVyaWFsID0gX2N1ck1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIV9jdXJNYXRlcmlhbCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAvLyBjYWxjIHJlY3QgdmVydGV4XG4gICAgICAgICAgICAgICAgbGVmdCA9IGNvbERhdGEubGVmdCAtIF9tb3ZlWDtcbiAgICAgICAgICAgICAgICBib3R0b20gPSBjb2xEYXRhLmJvdHRvbSAtIF9tb3ZlWTtcbiAgICAgICAgICAgICAgICB0aWxlU2l6ZSA9IGdyaWQudGlsZXNldC5fdGlsZVNpemU7XG4gICAgICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgdGlsZVNpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgdG9wID0gYm90dG9tICsgdGlsZVNpemUuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgLy8gYmVnaW4gdG8gZmlsbCB2ZXJ0ZXggYnVmZmVyXG4gICAgICAgICAgICAgICAgdGlsZWROb2RlID0gdGlsZWRUaWxlc1tjb2xEYXRhLmluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIXRpbGVkTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0bFxuICAgICAgICAgICAgICAgICAgICBfdmJ1ZltfdmZPZmZzZXRdID0gbGVmdDtcbiAgICAgICAgICAgICAgICAgICAgX3ZidWZbX3ZmT2Zmc2V0ICsgMV0gPSB0b3A7XG4gICAgICAgICAgICAgICAgICAgIF91aW50YnVmW192Zk9mZnNldCArIDRdID0gY29sb3I7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYmxcbiAgICAgICAgICAgICAgICAgICAgX3ZidWZbX3ZmT2Zmc2V0ICsgNV0gPSBsZWZ0O1xuICAgICAgICAgICAgICAgICAgICBfdmJ1ZltfdmZPZmZzZXQgKyA2XSA9IGJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgX3VpbnRidWZbX3ZmT2Zmc2V0ICsgOV0gPSBjb2xvcjtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0clxuICAgICAgICAgICAgICAgICAgICBfdmJ1ZltfdmZPZmZzZXQgKyAxMF0gPSByaWdodDtcbiAgICAgICAgICAgICAgICAgICAgX3ZidWZbX3ZmT2Zmc2V0ICsgMTFdID0gdG9wO1xuICAgICAgICAgICAgICAgICAgICBfdWludGJ1ZltfdmZPZmZzZXQgKyAxNF0gPSBjb2xvcjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBiclxuICAgICAgICAgICAgICAgICAgICBfdmJ1ZltfdmZPZmZzZXQgKyAxNV0gPSByaWdodDtcbiAgICAgICAgICAgICAgICAgICAgX3ZidWZbX3ZmT2Zmc2V0ICsgMTZdID0gYm90dG9tO1xuICAgICAgICAgICAgICAgICAgICBfdWludGJ1ZltfdmZPZmZzZXQgKyAxOV0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxCeVRpbGVkTm9kZSh0aWxlZE5vZGUubm9kZSwgX3ZidWYsIF91aW50YnVmLCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9mbGlwVGV4dHVyZShncmlkLCBnaWQpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGwgLT4gYVxuICAgICAgICAgICAgICAgIF92YnVmW192Zk9mZnNldCArIDJdID0gX3V2YS54O1xuICAgICAgICAgICAgICAgIF92YnVmW192Zk9mZnNldCArIDNdID0gX3V2YS55O1xuXG4gICAgICAgICAgICAgICAgLy8gYmwgLT4gY1xuICAgICAgICAgICAgICAgIF92YnVmW192Zk9mZnNldCArIDddID0gX3V2Yy54O1xuICAgICAgICAgICAgICAgIF92YnVmW192Zk9mZnNldCArIDhdID0gX3V2Yy55O1xuXG4gICAgICAgICAgICAgICAgLy8gdHIgLT4gYlxuICAgICAgICAgICAgICAgIF92YnVmW192Zk9mZnNldCArIDEyXSA9IF91dmIueDtcbiAgICAgICAgICAgICAgICBfdmJ1ZltfdmZPZmZzZXQgKyAxM10gPSBfdXZiLnk7XG5cbiAgICAgICAgICAgICAgICAvLyBiciAtPiBkXG4gICAgICAgICAgICAgICAgX3ZidWZbX3ZmT2Zmc2V0ICsgMTddID0gX3V2ZC54O1xuICAgICAgICAgICAgICAgIF92YnVmW192Zk9mZnNldCArIDE4XSA9IF91dmQueTtcblxuICAgICAgICAgICAgICAgIC8vIG1vZGlmeSBidWZmZXIgYWxsIGtpbmRzIG9mIG9mZnNldFxuICAgICAgICAgICAgICAgIF92Zk9mZnNldCArPSAyMDtcbiAgICAgICAgICAgICAgICBfYnVmZmVyLmFkanVzdCg0LCA2KTtcbiAgICAgICAgICAgICAgICBfaWEuX2NvdW50ICs9IDY7XG4gICAgICAgICAgICAgICAgX2ZpbGxHcmlkcysrO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgcmVuZGVyIHVzZXJzIG5vZGVcbiAgICAgICAgICAgICAgICBpZiAoY29sTm9kZXNDb3VudCA+IDApIF9yZW5kZXJOb2Rlcyhyb3csIGNvbCk7XG5cbiAgICAgICAgICAgICAgICAvLyB2ZXJ0aWNlcyBjb3VudCBleGNlZWQgNjY2MzUsIGJ1ZmZlciBtdXN0IGJlIHN3aXRjaGVkXG4gICAgICAgICAgICAgICAgaWYgKF9maWxsR3JpZHMgPj0gTWF4R3JpZHNMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBfZmx1c2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGxvYWQgYnVmZmVyIGRhdGFcbiAgICAgICAgX2J1ZmZlci51cGxvYWREYXRhKCk7XG5cbiAgICAgICAgLy8gbGFzdCBmbHVzaFxuICAgICAgICBpZiAoX2lhLl9jb3VudCA+IDApIHtcbiAgICAgICAgICAgIF9yZW5kZXJlci5tYXRlcmlhbCA9IF9yZW5kZXJEYXRhLm1hdGVyaWFsO1xuICAgICAgICAgICAgX3JlbmRlcmVyLm5vZGUgPSBfY29tcC5ub2RlO1xuICAgICAgICAgICAgX3JlbmRlcmVyLl9mbHVzaElBKF9yZW5kZXJEYXRhLmlhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbGxCeVRpbGVkTm9kZSAodGlsZWROb2RlLCB2YnVmLCB1aW50YnVmLCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pIHtcbiAgICAgICAgdGlsZWROb2RlLl91cGRhdGVMb2NhbE1hdHJpeCgpO1xuICAgICAgICBNYXQ0LmNvcHkoX21hdDRfdGVtcCwgdGlsZWROb2RlLl9tYXRyaXgpO1xuICAgICAgICBWZWMzLnNldChfdmVjM190ZW1wLCAtKGxlZnQgKyBfbW92ZVgpLCAtKGJvdHRvbSArIF9tb3ZlWSksIDApO1xuICAgICAgICBNYXQ0LnRyYW5zZm9ybShfbWF0NF90ZW1wLCBfbWF0NF90ZW1wLCBfdmVjM190ZW1wKTtcbiAgICAgICAgbGV0IG0gPSBfbWF0NF90ZW1wLm07XG4gICAgICAgIGxldCBhID0gbVswXTtcbiAgICAgICAgbGV0IGIgPSBtWzFdO1xuICAgICAgICBsZXQgYyA9IG1bNF07XG4gICAgICAgIGxldCBkID0gbVs1XTtcbiAgICAgICAgbGV0IHR4ID0gbVsxMl07XG4gICAgICAgIGxldCB0eSA9IG1bMTNdO1xuICAgICAgICBsZXQgY29sb3IgPSB0aWxlZE5vZGUuX2NvbG9yLl92YWw7XG5cbiAgICAgICAgLy8gdGxcbiAgICAgICAgdmJ1ZltfdmZPZmZzZXRdID0gbGVmdCAqIGEgKyB0b3AgKiBjICsgdHg7XG4gICAgICAgIHZidWZbX3ZmT2Zmc2V0ICsgMV0gPSBsZWZ0ICogYiArIHRvcCAqIGQgKyB0eTtcbiAgICAgICAgdWludGJ1ZltfdmZPZmZzZXQgKyA0XSA9IGNvbG9yO1xuXG4gICAgICAgIC8vIGJsXG4gICAgICAgIHZidWZbX3ZmT2Zmc2V0ICsgNV0gPSBsZWZ0ICogYSArIGJvdHRvbSAqIGMgKyB0eDtcbiAgICAgICAgdmJ1ZltfdmZPZmZzZXQgKyA2XSA9IGxlZnQgKiBiICsgYm90dG9tICogZCArIHR5O1xuICAgICAgICB1aW50YnVmW192Zk9mZnNldCArIDldID0gY29sb3I7XG5cbiAgICAgICAgLy8gdHJcbiAgICAgICAgdmJ1ZltfdmZPZmZzZXQgKyAxMF0gPSByaWdodCAqIGEgKyB0b3AgKiBjICsgdHg7XG4gICAgICAgIHZidWZbX3ZmT2Zmc2V0ICsgMTFdID0gcmlnaHQgKiBiICsgdG9wICogZCArIHR5O1xuICAgICAgICB1aW50YnVmW192Zk9mZnNldCArIDE0XSA9IGNvbG9yO1xuXG4gICAgICAgIC8vIGJyXG4gICAgICAgIHZidWZbX3ZmT2Zmc2V0ICsgMTVdID0gcmlnaHQgKiBhICsgYm90dG9tICogYyArIHR4O1xuICAgICAgICB2YnVmW192Zk9mZnNldCArIDE2XSA9IHJpZ2h0ICogYiArIGJvdHRvbSAqIGQgKyB0eTtcbiAgICAgICAgdWludGJ1ZltfdmZPZmZzZXQgKyAxOV0gPSBjb2xvcjtcbiAgICB9XG59XG5cbkFzc2VtYmxlci5yZWdpc3RlcihUaWxlZExheWVyLCBUbXhBc3NlbWJsZXIpO1xuIl0sInNvdXJjZVJvb3QiOiIvIn0=