
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/core/renderer/webgl/assemblers/sprite/2d/radial-filled.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _assembler2d = _interopRequireDefault(require("../../../../assembler-2d"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var PI_2 = Math.PI * 2;
var _vertPos = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];
var _vertices = [0, 0, 0, 0];
var _uvs = [0, 0, 0, 0, 0, 0, 0, 0];
var _intersectPoint_1 = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];
var _intersectPoint_2 = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];

var _center = cc.v2(0, 0);

var _triangles = [];

function _calcInsectedPoints(left, right, bottom, top, center, angle, intersectPoints) {
  //left bottom, right, top
  var sinAngle = Math.sin(angle);
  var cosAngle = Math.cos(angle);
  var tanAngle, cotAngle;

  if (Math.cos(angle) !== 0) {
    tanAngle = sinAngle / cosAngle; //calculate right and left

    if ((left - center.x) * cosAngle > 0) {
      var yleft = center.y + tanAngle * (left - center.x);
      intersectPoints[0].x = left;
      intersectPoints[0].y = yleft;
    }

    if ((right - center.x) * cosAngle > 0) {
      var yright = center.y + tanAngle * (right - center.x);
      intersectPoints[2].x = right;
      intersectPoints[2].y = yright;
    }
  }

  if (Math.sin(angle) !== 0) {
    cotAngle = cosAngle / sinAngle; //calculate  top and bottom

    if ((top - center.y) * sinAngle > 0) {
      var xtop = center.x + cotAngle * (top - center.y);
      intersectPoints[3].x = xtop;
      intersectPoints[3].y = top;
    }

    if ((bottom - center.y) * sinAngle > 0) {
      var xbottom = center.x + cotAngle * (bottom - center.y);
      intersectPoints[1].x = xbottom;
      intersectPoints[1].y = bottom;
    }
  }
}

function _calculateVertices(sprite) {
  var node = sprite.node,
      width = node.width,
      height = node.height,
      appx = node.anchorX * width,
      appy = node.anchorY * height;
  var l = -appx,
      b = -appy,
      r = width - appx,
      t = height - appy;
  var vertices = _vertices;
  vertices[0] = l;
  vertices[1] = b;
  vertices[2] = r;
  vertices[3] = t;
  var fillCenter = sprite._fillCenter,
      cx = _center.x = Math.min(Math.max(0, fillCenter.x), 1) * (r - l) + l,
      cy = _center.y = Math.min(Math.max(0, fillCenter.y), 1) * (t - b) + b;
  _vertPos[0].x = _vertPos[3].x = l;
  _vertPos[1].x = _vertPos[2].x = r;
  _vertPos[0].y = _vertPos[1].y = b;
  _vertPos[2].y = _vertPos[3].y = t;
  _triangles.length = 0;

  if (cx !== vertices[0]) {
    _triangles[0] = [3, 0];
  }

  if (cx !== vertices[2]) {
    _triangles[2] = [1, 2];
  }

  if (cy !== vertices[1]) {
    _triangles[1] = [0, 1];
  }

  if (cy !== vertices[3]) {
    _triangles[3] = [2, 3];
  }
}

function _calculateUVs(spriteFrame) {
  var atlasWidth = spriteFrame._texture.width;
  var atlasHeight = spriteFrame._texture.height;
  var textureRect = spriteFrame._rect;
  var u0, u1, v0, v1;
  var uvs = _uvs;

  if (spriteFrame._rotated) {
    u0 = textureRect.x / atlasWidth;
    u1 = (textureRect.x + textureRect.height) / atlasWidth;
    v0 = textureRect.y / atlasHeight;
    v1 = (textureRect.y + textureRect.width) / atlasHeight;
    uvs[0] = uvs[2] = u0;
    uvs[4] = uvs[6] = u1;
    uvs[3] = uvs[7] = v1;
    uvs[1] = uvs[5] = v0;
  } else {
    u0 = textureRect.x / atlasWidth;
    u1 = (textureRect.x + textureRect.width) / atlasWidth;
    v0 = textureRect.y / atlasHeight;
    v1 = (textureRect.y + textureRect.height) / atlasHeight;
    uvs[0] = uvs[4] = u0;
    uvs[2] = uvs[6] = u1;
    uvs[1] = uvs[3] = v1;
    uvs[5] = uvs[7] = v0;
  }
}

function _getVertAngle(start, end) {
  var placementX, placementY;
  placementX = end.x - start.x;
  placementY = end.y - start.y;

  if (placementX === 0 && placementY === 0) {
    return undefined;
  } else if (placementX === 0) {
    if (placementY > 0) {
      return Math.PI * 0.5;
    } else {
      return Math.PI * 1.5;
    }
  } else {
    var angle = Math.atan(placementY / placementX);

    if (placementX < 0) {
      angle += Math.PI;
    }

    return angle;
  }
}

var RadialFilledAssembler = /*#__PURE__*/function (_Assembler2D) {
  _inheritsLoose(RadialFilledAssembler, _Assembler2D);

  function RadialFilledAssembler() {
    return _Assembler2D.apply(this, arguments) || this;
  }

  var _proto = RadialFilledAssembler.prototype;

  _proto.initData = function initData(sprite) {
    this._renderData.createFlexData(0, 4, 6, this.getVfmt());

    this.updateIndices();
  };

  _proto.updateRenderData = function updateRenderData(sprite) {
    _Assembler2D.prototype.updateRenderData.call(this, sprite);

    var frame = sprite.spriteFrame;
    this.packToDynamicAtlas(sprite, frame);

    if (sprite._vertsDirty) {
      var fillStart = sprite._fillStart;
      var fillRange = sprite._fillRange;

      if (fillRange < 0) {
        fillStart += fillRange;
        fillRange = -fillRange;
      } //do round fill start [0,1), include 0, exclude 1


      while (fillStart >= 1.0) {
        fillStart -= 1.0;
      }

      while (fillStart < 0.0) {
        fillStart += 1.0;
      }

      fillStart *= PI_2;
      fillRange *= PI_2; //build vertices

      _calculateVertices(sprite); //build uvs


      _calculateUVs(frame);

      _calcInsectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart, _intersectPoint_1);

      _calcInsectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart + fillRange, _intersectPoint_2);

      this.updateVerts(sprite, fillStart, fillRange);
      sprite._vertsDirty = false;
    }
  };

  _proto.updateVerts = function updateVerts(sprite, fillStart, fillRange) {
    var fillEnd = fillStart + fillRange;
    var local = this._local;
    local.length = 0;
    var offset = 0;
    var floatsPerTriangle = 3 * this.floatsPerVert;

    for (var triangleIndex = 0; triangleIndex < 4; ++triangleIndex) {
      var triangle = _triangles[triangleIndex];

      if (!triangle) {
        continue;
      } //all in


      if (fillRange >= PI_2) {
        local.length = offset + floatsPerTriangle;

        this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _vertPos[triangle[1]]);

        offset += floatsPerTriangle;
        continue;
      } //test against


      var startAngle = _getVertAngle(_center, _vertPos[triangle[0]]);

      var endAngle = _getVertAngle(_center, _vertPos[triangle[1]]);

      if (endAngle < startAngle) endAngle += PI_2;
      startAngle -= PI_2;
      endAngle -= PI_2; //testing

      for (var testIndex = 0; testIndex < 3; ++testIndex) {
        if (startAngle >= fillEnd) {//all out
        } else if (startAngle >= fillStart) {
          local.length = offset + floatsPerTriangle;

          if (endAngle >= fillEnd) {
            //startAngle to fillEnd
            this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _intersectPoint_2[triangleIndex]);
          } else {
            //startAngle to endAngle
            this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _vertPos[triangle[1]]);
          }

          offset += floatsPerTriangle;
        } else {
          //startAngle < fillStart
          if (endAngle <= fillStart) {//all out
          } else if (endAngle <= fillEnd) {
            local.length = offset + floatsPerTriangle; //fillStart to endAngle

            this._generateTriangle(local, offset, _center, _intersectPoint_1[triangleIndex], _vertPos[triangle[1]]);

            offset += floatsPerTriangle;
          } else {
            local.length = offset + floatsPerTriangle; //fillStart to fillEnd

            this._generateTriangle(local, offset, _center, _intersectPoint_1[triangleIndex], _intersectPoint_2[triangleIndex]);

            offset += floatsPerTriangle;
          }
        } //add 2 * PI


        startAngle += PI_2;
        endAngle += PI_2;
      }
    }

    this.allocWorldVerts(sprite);
    this.updateWorldVerts(sprite);
  };

  _proto.allocWorldVerts = function allocWorldVerts(sprite) {
    var color = sprite.node._color._val;
    var renderData = this._renderData;
    var floatsPerVert = this.floatsPerVert;
    var local = this._local;
    var verticesCount = local.length / floatsPerVert;
    this.verticesCount = this.indicesCount = verticesCount;
    var flexBuffer = renderData._flexBuffer;

    if (flexBuffer.reserve(verticesCount, verticesCount)) {
      this.updateIndices();
    }

    flexBuffer.used(this.verticesCount, this.indicesCount);
    var verts = renderData.vDatas[0],
        uintVerts = renderData.uintVDatas[0];
    var uvOffset = this.uvOffset;

    for (var offset = 0; offset < local.length; offset += floatsPerVert) {
      var start = offset + uvOffset;
      verts[start] = local[start];
      verts[start + 1] = local[start + 1];
      uintVerts[start + 2] = color;
    }
  };

  _proto.updateIndices = function updateIndices() {
    var iData = this._renderData.iDatas[0];

    for (var i = 0; i < iData.length; i++) {
      iData[i] = i;
    }
  };

  _proto.updateWorldVerts = function updateWorldVerts(sprite) {
    var node = sprite.node;
    var matrix = node._worldMatrix;
    var matrixm = matrix.m,
        a = matrixm[0],
        b = matrixm[1],
        c = matrixm[4],
        d = matrixm[5],
        tx = matrixm[12],
        ty = matrixm[13];
    var local = this._local;
    var world = this._renderData.vDatas[0];
    var floatsPerVert = this.floatsPerVert;

    for (var offset = 0; offset < local.length; offset += floatsPerVert) {
      var x = local[offset];
      var y = local[offset + 1];
      world[offset] = x * a + y * c + tx;
      world[offset + 1] = x * b + y * d + ty;
    }
  };

  _proto._generateTriangle = function _generateTriangle(verts, offset, vert0, vert1, vert2) {
    var vertices = _vertices;
    var v0x = vertices[0];
    var v0y = vertices[1];
    var v1x = vertices[2];
    var v1y = vertices[3];
    var floatsPerVert = this.floatsPerVert;
    verts[offset] = vert0.x;
    verts[offset + 1] = vert0.y;
    verts[offset + floatsPerVert] = vert1.x;
    verts[offset + floatsPerVert + 1] = vert1.y;
    verts[offset + floatsPerVert * 2] = vert2.x;
    verts[offset + floatsPerVert * 2 + 1] = vert2.y;
    var uvOffset = this.uvOffset;
    var progressX, progressY;
    progressX = (vert0.x - v0x) / (v1x - v0x);
    progressY = (vert0.y - v0y) / (v1y - v0y);

    this._generateUV(progressX, progressY, verts, offset + uvOffset);

    progressX = (vert1.x - v0x) / (v1x - v0x);
    progressY = (vert1.y - v0y) / (v1y - v0y);

    this._generateUV(progressX, progressY, verts, offset + floatsPerVert + uvOffset);

    progressX = (vert2.x - v0x) / (v1x - v0x);
    progressY = (vert2.y - v0y) / (v1y - v0y);

    this._generateUV(progressX, progressY, verts, offset + floatsPerVert * 2 + uvOffset);
  };

  _proto._generateUV = function _generateUV(progressX, progressY, verts, offset) {
    var uvs = _uvs;
    var px1 = uvs[0] + (uvs[2] - uvs[0]) * progressX;
    var px2 = uvs[4] + (uvs[6] - uvs[4]) * progressX;
    var py1 = uvs[1] + (uvs[3] - uvs[1]) * progressX;
    var py2 = uvs[5] + (uvs[7] - uvs[5]) * progressX;
    verts[offset] = px1 + (px2 - px1) * progressY;
    verts[offset + 1] = py1 + (py2 - py1) * progressY;
  };

  return RadialFilledAssembler;
}(_assembler2d["default"]);

exports["default"] = RadialFilledAssembler;
module.exports = exports["default"];
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvY29jb3MyZC9jb3JlL3JlbmRlcmVyL3dlYmdsL2Fzc2VtYmxlcnMvc3ByaXRlLzJkL3JhZGlhbC1maWxsZWQuanMiXSwibmFtZXMiOlsiUElfMiIsIk1hdGgiLCJQSSIsIl92ZXJ0UG9zIiwiY2MiLCJ2MiIsIl92ZXJ0aWNlcyIsIl91dnMiLCJfaW50ZXJzZWN0UG9pbnRfMSIsIl9pbnRlcnNlY3RQb2ludF8yIiwiX2NlbnRlciIsIl90cmlhbmdsZXMiLCJfY2FsY0luc2VjdGVkUG9pbnRzIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwidG9wIiwiY2VudGVyIiwiYW5nbGUiLCJpbnRlcnNlY3RQb2ludHMiLCJzaW5BbmdsZSIsInNpbiIsImNvc0FuZ2xlIiwiY29zIiwidGFuQW5nbGUiLCJjb3RBbmdsZSIsIngiLCJ5bGVmdCIsInkiLCJ5cmlnaHQiLCJ4dG9wIiwieGJvdHRvbSIsIl9jYWxjdWxhdGVWZXJ0aWNlcyIsInNwcml0ZSIsIm5vZGUiLCJ3aWR0aCIsImhlaWdodCIsImFwcHgiLCJhbmNob3JYIiwiYXBweSIsImFuY2hvclkiLCJsIiwiYiIsInIiLCJ0IiwidmVydGljZXMiLCJmaWxsQ2VudGVyIiwiX2ZpbGxDZW50ZXIiLCJjeCIsIm1pbiIsIm1heCIsImN5IiwibGVuZ3RoIiwiX2NhbGN1bGF0ZVVWcyIsInNwcml0ZUZyYW1lIiwiYXRsYXNXaWR0aCIsIl90ZXh0dXJlIiwiYXRsYXNIZWlnaHQiLCJ0ZXh0dXJlUmVjdCIsIl9yZWN0IiwidTAiLCJ1MSIsInYwIiwidjEiLCJ1dnMiLCJfcm90YXRlZCIsIl9nZXRWZXJ0QW5nbGUiLCJzdGFydCIsImVuZCIsInBsYWNlbWVudFgiLCJwbGFjZW1lbnRZIiwidW5kZWZpbmVkIiwiYXRhbiIsIlJhZGlhbEZpbGxlZEFzc2VtYmxlciIsImluaXREYXRhIiwiX3JlbmRlckRhdGEiLCJjcmVhdGVGbGV4RGF0YSIsImdldFZmbXQiLCJ1cGRhdGVJbmRpY2VzIiwidXBkYXRlUmVuZGVyRGF0YSIsImZyYW1lIiwicGFja1RvRHluYW1pY0F0bGFzIiwiX3ZlcnRzRGlydHkiLCJmaWxsU3RhcnQiLCJfZmlsbFN0YXJ0IiwiZmlsbFJhbmdlIiwiX2ZpbGxSYW5nZSIsInVwZGF0ZVZlcnRzIiwiZmlsbEVuZCIsImxvY2FsIiwiX2xvY2FsIiwib2Zmc2V0IiwiZmxvYXRzUGVyVHJpYW5nbGUiLCJmbG9hdHNQZXJWZXJ0IiwidHJpYW5nbGVJbmRleCIsInRyaWFuZ2xlIiwiX2dlbmVyYXRlVHJpYW5nbGUiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJ0ZXN0SW5kZXgiLCJhbGxvY1dvcmxkVmVydHMiLCJ1cGRhdGVXb3JsZFZlcnRzIiwiY29sb3IiLCJfY29sb3IiLCJfdmFsIiwicmVuZGVyRGF0YSIsInZlcnRpY2VzQ291bnQiLCJpbmRpY2VzQ291bnQiLCJmbGV4QnVmZmVyIiwiX2ZsZXhCdWZmZXIiLCJyZXNlcnZlIiwidXNlZCIsInZlcnRzIiwidkRhdGFzIiwidWludFZlcnRzIiwidWludFZEYXRhcyIsInV2T2Zmc2V0IiwiaURhdGEiLCJpRGF0YXMiLCJpIiwibWF0cml4IiwiX3dvcmxkTWF0cml4IiwibWF0cml4bSIsIm0iLCJhIiwiYyIsImQiLCJ0eCIsInR5Iiwid29ybGQiLCJ2ZXJ0MCIsInZlcnQxIiwidmVydDIiLCJ2MHgiLCJ2MHkiLCJ2MXgiLCJ2MXkiLCJwcm9ncmVzc1giLCJwcm9ncmVzc1kiLCJfZ2VuZXJhdGVVViIsInB4MSIsInB4MiIsInB5MSIsInB5MiIsIkFzc2VtYmxlcjJEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBeUJBOzs7Ozs7QUFFQSxJQUFNQSxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLENBQXZCO0FBRUEsSUFBSUMsUUFBUSxHQUFHLENBQUNDLEVBQUUsQ0FBQ0MsRUFBSCxDQUFNLENBQU4sRUFBUyxDQUFULENBQUQsRUFBY0QsRUFBRSxDQUFDQyxFQUFILENBQU0sQ0FBTixFQUFTLENBQVQsQ0FBZCxFQUEyQkQsRUFBRSxDQUFDQyxFQUFILENBQU0sQ0FBTixFQUFTLENBQVQsQ0FBM0IsRUFBd0NELEVBQUUsQ0FBQ0MsRUFBSCxDQUFNLENBQU4sRUFBUyxDQUFULENBQXhDLENBQWY7QUFDQSxJQUFJQyxTQUFTLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQWhCO0FBQ0EsSUFBSUMsSUFBSSxHQUFHLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsQ0FBWDtBQUNBLElBQUlDLGlCQUFpQixHQUFHLENBQUNKLEVBQUUsQ0FBQ0MsRUFBSCxDQUFNLENBQU4sRUFBUyxDQUFULENBQUQsRUFBY0QsRUFBRSxDQUFDQyxFQUFILENBQU0sQ0FBTixFQUFTLENBQVQsQ0FBZCxFQUEyQkQsRUFBRSxDQUFDQyxFQUFILENBQU0sQ0FBTixFQUFTLENBQVQsQ0FBM0IsRUFBd0NELEVBQUUsQ0FBQ0MsRUFBSCxDQUFNLENBQU4sRUFBUyxDQUFULENBQXhDLENBQXhCO0FBQ0EsSUFBSUksaUJBQWlCLEdBQUcsQ0FBQ0wsRUFBRSxDQUFDQyxFQUFILENBQU0sQ0FBTixFQUFTLENBQVQsQ0FBRCxFQUFjRCxFQUFFLENBQUNDLEVBQUgsQ0FBTSxDQUFOLEVBQVMsQ0FBVCxDQUFkLEVBQTJCRCxFQUFFLENBQUNDLEVBQUgsQ0FBTSxDQUFOLEVBQVMsQ0FBVCxDQUEzQixFQUF3Q0QsRUFBRSxDQUFDQyxFQUFILENBQU0sQ0FBTixFQUFTLENBQVQsQ0FBeEMsQ0FBeEI7O0FBQ0EsSUFBSUssT0FBTyxHQUFHTixFQUFFLENBQUNDLEVBQUgsQ0FBTSxDQUFOLEVBQVMsQ0FBVCxDQUFkOztBQUNBLElBQUlNLFVBQVUsR0FBRyxFQUFqQjs7QUFFQSxTQUFTQyxtQkFBVCxDQUE4QkMsSUFBOUIsRUFBb0NDLEtBQXBDLEVBQTJDQyxNQUEzQyxFQUFtREMsR0FBbkQsRUFBd0RDLE1BQXhELEVBQWdFQyxLQUFoRSxFQUF1RUMsZUFBdkUsRUFBd0Y7QUFDcEY7QUFDQSxNQUFJQyxRQUFRLEdBQUduQixJQUFJLENBQUNvQixHQUFMLENBQVNILEtBQVQsQ0FBZjtBQUNBLE1BQUlJLFFBQVEsR0FBR3JCLElBQUksQ0FBQ3NCLEdBQUwsQ0FBU0wsS0FBVCxDQUFmO0FBQ0EsTUFBSU0sUUFBSixFQUFjQyxRQUFkOztBQUNBLE1BQUl4QixJQUFJLENBQUNzQixHQUFMLENBQVNMLEtBQVQsTUFBb0IsQ0FBeEIsRUFBMkI7QUFDdkJNLElBQUFBLFFBQVEsR0FBR0osUUFBUSxHQUFHRSxRQUF0QixDQUR1QixDQUV2Qjs7QUFDQSxRQUFJLENBQUNULElBQUksR0FBR0ksTUFBTSxDQUFDUyxDQUFmLElBQW9CSixRQUFwQixHQUErQixDQUFuQyxFQUFzQztBQUNsQyxVQUFJSyxLQUFLLEdBQUdWLE1BQU0sQ0FBQ1csQ0FBUCxHQUFXSixRQUFRLElBQUlYLElBQUksR0FBR0ksTUFBTSxDQUFDUyxDQUFsQixDQUEvQjtBQUNBUCxNQUFBQSxlQUFlLENBQUMsQ0FBRCxDQUFmLENBQW1CTyxDQUFuQixHQUF1QmIsSUFBdkI7QUFDQU0sTUFBQUEsZUFBZSxDQUFDLENBQUQsQ0FBZixDQUFtQlMsQ0FBbkIsR0FBdUJELEtBQXZCO0FBQ0g7O0FBQ0QsUUFBSSxDQUFDYixLQUFLLEdBQUdHLE1BQU0sQ0FBQ1MsQ0FBaEIsSUFBcUJKLFFBQXJCLEdBQWdDLENBQXBDLEVBQXVDO0FBQ25DLFVBQUlPLE1BQU0sR0FBR1osTUFBTSxDQUFDVyxDQUFQLEdBQVdKLFFBQVEsSUFBSVYsS0FBSyxHQUFHRyxNQUFNLENBQUNTLENBQW5CLENBQWhDO0FBRUFQLE1BQUFBLGVBQWUsQ0FBQyxDQUFELENBQWYsQ0FBbUJPLENBQW5CLEdBQXVCWixLQUF2QjtBQUNBSyxNQUFBQSxlQUFlLENBQUMsQ0FBRCxDQUFmLENBQW1CUyxDQUFuQixHQUF1QkMsTUFBdkI7QUFDSDtBQUVKOztBQUVELE1BQUk1QixJQUFJLENBQUNvQixHQUFMLENBQVNILEtBQVQsTUFBb0IsQ0FBeEIsRUFBMkI7QUFDdkJPLElBQUFBLFFBQVEsR0FBR0gsUUFBUSxHQUFHRixRQUF0QixDQUR1QixDQUV2Qjs7QUFDQSxRQUFJLENBQUNKLEdBQUcsR0FBR0MsTUFBTSxDQUFDVyxDQUFkLElBQW1CUixRQUFuQixHQUE4QixDQUFsQyxFQUFxQztBQUNqQyxVQUFJVSxJQUFJLEdBQUdiLE1BQU0sQ0FBQ1MsQ0FBUCxHQUFXRCxRQUFRLElBQUlULEdBQUcsR0FBR0MsTUFBTSxDQUFDVyxDQUFqQixDQUE5QjtBQUNBVCxNQUFBQSxlQUFlLENBQUMsQ0FBRCxDQUFmLENBQW1CTyxDQUFuQixHQUF1QkksSUFBdkI7QUFDQVgsTUFBQUEsZUFBZSxDQUFDLENBQUQsQ0FBZixDQUFtQlMsQ0FBbkIsR0FBdUJaLEdBQXZCO0FBQ0g7O0FBQ0QsUUFBSSxDQUFDRCxNQUFNLEdBQUdFLE1BQU0sQ0FBQ1csQ0FBakIsSUFBc0JSLFFBQXRCLEdBQWlDLENBQXJDLEVBQXdDO0FBQ3BDLFVBQUlXLE9BQU8sR0FBR2QsTUFBTSxDQUFDUyxDQUFQLEdBQVdELFFBQVEsSUFBSVYsTUFBTSxHQUFHRSxNQUFNLENBQUNXLENBQXBCLENBQWpDO0FBQ0FULE1BQUFBLGVBQWUsQ0FBQyxDQUFELENBQWYsQ0FBbUJPLENBQW5CLEdBQXVCSyxPQUF2QjtBQUNBWixNQUFBQSxlQUFlLENBQUMsQ0FBRCxDQUFmLENBQW1CUyxDQUFuQixHQUF1QmIsTUFBdkI7QUFDSDtBQUVKO0FBQ0o7O0FBRUQsU0FBU2lCLGtCQUFULENBQTZCQyxNQUE3QixFQUFxQztBQUNqQyxNQUFJQyxJQUFJLEdBQUdELE1BQU0sQ0FBQ0MsSUFBbEI7QUFBQSxNQUNJQyxLQUFLLEdBQUdELElBQUksQ0FBQ0MsS0FEakI7QUFBQSxNQUN3QkMsTUFBTSxHQUFHRixJQUFJLENBQUNFLE1BRHRDO0FBQUEsTUFFSUMsSUFBSSxHQUFHSCxJQUFJLENBQUNJLE9BQUwsR0FBZUgsS0FGMUI7QUFBQSxNQUVpQ0ksSUFBSSxHQUFHTCxJQUFJLENBQUNNLE9BQUwsR0FBZUosTUFGdkQ7QUFJQSxNQUFJSyxDQUFDLEdBQUcsQ0FBQ0osSUFBVDtBQUFBLE1BQWVLLENBQUMsR0FBRyxDQUFDSCxJQUFwQjtBQUFBLE1BQ0lJLENBQUMsR0FBR1IsS0FBSyxHQUFHRSxJQURoQjtBQUFBLE1BQ3NCTyxDQUFDLEdBQUdSLE1BQU0sR0FBR0csSUFEbkM7QUFHQSxNQUFJTSxRQUFRLEdBQUd2QyxTQUFmO0FBQ0F1QyxFQUFBQSxRQUFRLENBQUMsQ0FBRCxDQUFSLEdBQWNKLENBQWQ7QUFDQUksRUFBQUEsUUFBUSxDQUFDLENBQUQsQ0FBUixHQUFjSCxDQUFkO0FBQ0FHLEVBQUFBLFFBQVEsQ0FBQyxDQUFELENBQVIsR0FBY0YsQ0FBZDtBQUNBRSxFQUFBQSxRQUFRLENBQUMsQ0FBRCxDQUFSLEdBQWNELENBQWQ7QUFFQSxNQUFJRSxVQUFVLEdBQUdiLE1BQU0sQ0FBQ2MsV0FBeEI7QUFBQSxNQUNJQyxFQUFFLEdBQUd0QyxPQUFPLENBQUNnQixDQUFSLEdBQVl6QixJQUFJLENBQUNnRCxHQUFMLENBQVNoRCxJQUFJLENBQUNpRCxHQUFMLENBQVMsQ0FBVCxFQUFZSixVQUFVLENBQUNwQixDQUF2QixDQUFULEVBQW9DLENBQXBDLEtBQTBDaUIsQ0FBQyxHQUFHRixDQUE5QyxJQUFtREEsQ0FEeEU7QUFBQSxNQUVJVSxFQUFFLEdBQUd6QyxPQUFPLENBQUNrQixDQUFSLEdBQVkzQixJQUFJLENBQUNnRCxHQUFMLENBQVNoRCxJQUFJLENBQUNpRCxHQUFMLENBQVMsQ0FBVCxFQUFZSixVQUFVLENBQUNsQixDQUF2QixDQUFULEVBQW9DLENBQXBDLEtBQTBDZ0IsQ0FBQyxHQUFHRixDQUE5QyxJQUFtREEsQ0FGeEU7QUFJQXZDLEVBQUFBLFFBQVEsQ0FBQyxDQUFELENBQVIsQ0FBWXVCLENBQVosR0FBZ0J2QixRQUFRLENBQUMsQ0FBRCxDQUFSLENBQVl1QixDQUFaLEdBQWdCZSxDQUFoQztBQUNBdEMsRUFBQUEsUUFBUSxDQUFDLENBQUQsQ0FBUixDQUFZdUIsQ0FBWixHQUFnQnZCLFFBQVEsQ0FBQyxDQUFELENBQVIsQ0FBWXVCLENBQVosR0FBZ0JpQixDQUFoQztBQUNBeEMsRUFBQUEsUUFBUSxDQUFDLENBQUQsQ0FBUixDQUFZeUIsQ0FBWixHQUFnQnpCLFFBQVEsQ0FBQyxDQUFELENBQVIsQ0FBWXlCLENBQVosR0FBZ0JjLENBQWhDO0FBQ0F2QyxFQUFBQSxRQUFRLENBQUMsQ0FBRCxDQUFSLENBQVl5QixDQUFaLEdBQWdCekIsUUFBUSxDQUFDLENBQUQsQ0FBUixDQUFZeUIsQ0FBWixHQUFnQmdCLENBQWhDO0FBRUFqQyxFQUFBQSxVQUFVLENBQUN5QyxNQUFYLEdBQW9CLENBQXBCOztBQUNBLE1BQUlKLEVBQUUsS0FBS0gsUUFBUSxDQUFDLENBQUQsQ0FBbkIsRUFBd0I7QUFDcEJsQyxJQUFBQSxVQUFVLENBQUMsQ0FBRCxDQUFWLEdBQWdCLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBaEI7QUFDSDs7QUFDRCxNQUFJcUMsRUFBRSxLQUFLSCxRQUFRLENBQUMsQ0FBRCxDQUFuQixFQUF3QjtBQUNwQmxDLElBQUFBLFVBQVUsQ0FBQyxDQUFELENBQVYsR0FBZ0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFoQjtBQUNIOztBQUNELE1BQUl3QyxFQUFFLEtBQUtOLFFBQVEsQ0FBQyxDQUFELENBQW5CLEVBQXdCO0FBQ3BCbEMsSUFBQUEsVUFBVSxDQUFDLENBQUQsQ0FBVixHQUFnQixDQUFDLENBQUQsRUFBSSxDQUFKLENBQWhCO0FBQ0g7O0FBQ0QsTUFBSXdDLEVBQUUsS0FBS04sUUFBUSxDQUFDLENBQUQsQ0FBbkIsRUFBd0I7QUFDcEJsQyxJQUFBQSxVQUFVLENBQUMsQ0FBRCxDQUFWLEdBQWdCLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBaEI7QUFDSDtBQUNKOztBQUVELFNBQVMwQyxhQUFULENBQXdCQyxXQUF4QixFQUFxQztBQUNqQyxNQUFJQyxVQUFVLEdBQUdELFdBQVcsQ0FBQ0UsUUFBWixDQUFxQnJCLEtBQXRDO0FBQ0EsTUFBSXNCLFdBQVcsR0FBR0gsV0FBVyxDQUFDRSxRQUFaLENBQXFCcEIsTUFBdkM7QUFDQSxNQUFJc0IsV0FBVyxHQUFHSixXQUFXLENBQUNLLEtBQTlCO0FBRUEsTUFBSUMsRUFBSixFQUFRQyxFQUFSLEVBQVlDLEVBQVosRUFBZ0JDLEVBQWhCO0FBQ0EsTUFBSUMsR0FBRyxHQUFHekQsSUFBVjs7QUFFQSxNQUFJK0MsV0FBVyxDQUFDVyxRQUFoQixFQUEwQjtBQUN0QkwsSUFBQUEsRUFBRSxHQUFJRixXQUFXLENBQUNoQyxDQUFiLEdBQWtCNkIsVUFBdkI7QUFDQU0sSUFBQUEsRUFBRSxHQUFHLENBQUNILFdBQVcsQ0FBQ2hDLENBQVosR0FBZ0JnQyxXQUFXLENBQUN0QixNQUE3QixJQUF1Q21CLFVBQTVDO0FBRUFPLElBQUFBLEVBQUUsR0FBSUosV0FBVyxDQUFDOUIsQ0FBYixHQUFrQjZCLFdBQXZCO0FBQ0FNLElBQUFBLEVBQUUsR0FBRyxDQUFDTCxXQUFXLENBQUM5QixDQUFaLEdBQWdCOEIsV0FBVyxDQUFDdkIsS0FBN0IsSUFBc0NzQixXQUEzQztBQUVBTyxJQUFBQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0osRUFBbEI7QUFDQUksSUFBQUEsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNILEVBQWxCO0FBQ0FHLElBQUFBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0EsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTRCxFQUFsQjtBQUNBQyxJQUFBQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0YsRUFBbEI7QUFDSCxHQVhELE1BWUs7QUFDREYsSUFBQUEsRUFBRSxHQUFJRixXQUFXLENBQUNoQyxDQUFiLEdBQWtCNkIsVUFBdkI7QUFDQU0sSUFBQUEsRUFBRSxHQUFHLENBQUNILFdBQVcsQ0FBQ2hDLENBQVosR0FBZ0JnQyxXQUFXLENBQUN2QixLQUE3QixJQUFzQ29CLFVBQTNDO0FBRUFPLElBQUFBLEVBQUUsR0FBSUosV0FBVyxDQUFDOUIsQ0FBYixHQUFrQjZCLFdBQXZCO0FBQ0FNLElBQUFBLEVBQUUsR0FBRyxDQUFDTCxXQUFXLENBQUM5QixDQUFaLEdBQWdCOEIsV0FBVyxDQUFDdEIsTUFBN0IsSUFBdUNxQixXQUE1QztBQUVBTyxJQUFBQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0osRUFBbEI7QUFDQUksSUFBQUEsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNILEVBQWxCO0FBQ0FHLElBQUFBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0EsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTRCxFQUFsQjtBQUNBQyxJQUFBQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0YsRUFBbEI7QUFDSDtBQUNKOztBQUVELFNBQVNJLGFBQVQsQ0FBd0JDLEtBQXhCLEVBQStCQyxHQUEvQixFQUFvQztBQUNoQyxNQUFJQyxVQUFKLEVBQWdCQyxVQUFoQjtBQUNBRCxFQUFBQSxVQUFVLEdBQUdELEdBQUcsQ0FBQzFDLENBQUosR0FBUXlDLEtBQUssQ0FBQ3pDLENBQTNCO0FBQ0E0QyxFQUFBQSxVQUFVLEdBQUdGLEdBQUcsQ0FBQ3hDLENBQUosR0FBUXVDLEtBQUssQ0FBQ3ZDLENBQTNCOztBQUVBLE1BQUl5QyxVQUFVLEtBQUssQ0FBZixJQUFvQkMsVUFBVSxLQUFLLENBQXZDLEVBQTBDO0FBQ3RDLFdBQU9DLFNBQVA7QUFDSCxHQUZELE1BRU8sSUFBSUYsVUFBVSxLQUFLLENBQW5CLEVBQXNCO0FBQ3pCLFFBQUlDLFVBQVUsR0FBRyxDQUFqQixFQUFvQjtBQUNoQixhQUFPckUsSUFBSSxDQUFDQyxFQUFMLEdBQVUsR0FBakI7QUFDSCxLQUZELE1BRU87QUFDSCxhQUFPRCxJQUFJLENBQUNDLEVBQUwsR0FBVSxHQUFqQjtBQUNIO0FBQ0osR0FOTSxNQU1BO0FBQ0gsUUFBSWdCLEtBQUssR0FBR2pCLElBQUksQ0FBQ3VFLElBQUwsQ0FBVUYsVUFBVSxHQUFHRCxVQUF2QixDQUFaOztBQUNBLFFBQUlBLFVBQVUsR0FBRyxDQUFqQixFQUFvQjtBQUNoQm5ELE1BQUFBLEtBQUssSUFBSWpCLElBQUksQ0FBQ0MsRUFBZDtBQUNIOztBQUVELFdBQU9nQixLQUFQO0FBQ0g7QUFDSjs7SUFFb0J1RDs7Ozs7Ozs7O1NBQ2pCQyxXQUFBLGtCQUFVekMsTUFBVixFQUFrQjtBQUNkLFNBQUswQyxXQUFMLENBQWlCQyxjQUFqQixDQUFnQyxDQUFoQyxFQUFtQyxDQUFuQyxFQUFzQyxDQUF0QyxFQUF5QyxLQUFLQyxPQUFMLEVBQXpDOztBQUNBLFNBQUtDLGFBQUw7QUFDSDs7U0FFREMsbUJBQUEsMEJBQWtCOUMsTUFBbEIsRUFBMEI7QUFDdEIsMkJBQU04QyxnQkFBTixZQUF1QjlDLE1BQXZCOztBQUVBLFFBQUkrQyxLQUFLLEdBQUcvQyxNQUFNLENBQUNxQixXQUFuQjtBQUNBLFNBQUsyQixrQkFBTCxDQUF3QmhELE1BQXhCLEVBQWdDK0MsS0FBaEM7O0FBRUEsUUFBSS9DLE1BQU0sQ0FBQ2lELFdBQVgsRUFBd0I7QUFDcEIsVUFBSUMsU0FBUyxHQUFHbEQsTUFBTSxDQUFDbUQsVUFBdkI7QUFDQSxVQUFJQyxTQUFTLEdBQUdwRCxNQUFNLENBQUNxRCxVQUF2Qjs7QUFDQSxVQUFJRCxTQUFTLEdBQUcsQ0FBaEIsRUFBbUI7QUFDZkYsUUFBQUEsU0FBUyxJQUFJRSxTQUFiO0FBQ0FBLFFBQUFBLFNBQVMsR0FBRyxDQUFDQSxTQUFiO0FBQ0gsT0FObUIsQ0FRcEI7OztBQUNBLGFBQU9GLFNBQVMsSUFBSSxHQUFwQjtBQUF5QkEsUUFBQUEsU0FBUyxJQUFJLEdBQWI7QUFBekI7O0FBQ0EsYUFBT0EsU0FBUyxHQUFHLEdBQW5CO0FBQXdCQSxRQUFBQSxTQUFTLElBQUksR0FBYjtBQUF4Qjs7QUFFQUEsTUFBQUEsU0FBUyxJQUFJbkYsSUFBYjtBQUNBcUYsTUFBQUEsU0FBUyxJQUFJckYsSUFBYixDQWJvQixDQWVwQjs7QUFDQWdDLE1BQUFBLGtCQUFrQixDQUFDQyxNQUFELENBQWxCLENBaEJvQixDQWlCcEI7OztBQUNBb0IsTUFBQUEsYUFBYSxDQUFDMkIsS0FBRCxDQUFiOztBQUVBcEUsTUFBQUEsbUJBQW1CLENBQUNOLFNBQVMsQ0FBQyxDQUFELENBQVYsRUFBZUEsU0FBUyxDQUFDLENBQUQsQ0FBeEIsRUFBNkJBLFNBQVMsQ0FBQyxDQUFELENBQXRDLEVBQTJDQSxTQUFTLENBQUMsQ0FBRCxDQUFwRCxFQUF5REksT0FBekQsRUFBa0V5RSxTQUFsRSxFQUE2RTNFLGlCQUE3RSxDQUFuQjs7QUFDQUksTUFBQUEsbUJBQW1CLENBQUNOLFNBQVMsQ0FBQyxDQUFELENBQVYsRUFBZUEsU0FBUyxDQUFDLENBQUQsQ0FBeEIsRUFBNkJBLFNBQVMsQ0FBQyxDQUFELENBQXRDLEVBQTJDQSxTQUFTLENBQUMsQ0FBRCxDQUFwRCxFQUF5REksT0FBekQsRUFBa0V5RSxTQUFTLEdBQUdFLFNBQTlFLEVBQXlGNUUsaUJBQXpGLENBQW5COztBQUVBLFdBQUs4RSxXQUFMLENBQWlCdEQsTUFBakIsRUFBeUJrRCxTQUF6QixFQUFvQ0UsU0FBcEM7QUFFQXBELE1BQUFBLE1BQU0sQ0FBQ2lELFdBQVAsR0FBcUIsS0FBckI7QUFDSDtBQUNKOztTQUVESyxjQUFBLHFCQUFhdEQsTUFBYixFQUFxQmtELFNBQXJCLEVBQWdDRSxTQUFoQyxFQUEyQztBQUN2QyxRQUFJRyxPQUFPLEdBQUdMLFNBQVMsR0FBR0UsU0FBMUI7QUFFQSxRQUFJSSxLQUFLLEdBQUcsS0FBS0MsTUFBakI7QUFDQUQsSUFBQUEsS0FBSyxDQUFDckMsTUFBTixHQUFlLENBQWY7QUFFQSxRQUFJdUMsTUFBTSxHQUFHLENBQWI7QUFDQSxRQUFJQyxpQkFBaUIsR0FBRyxJQUFJLEtBQUtDLGFBQWpDOztBQUNBLFNBQUssSUFBSUMsYUFBYSxHQUFHLENBQXpCLEVBQTRCQSxhQUFhLEdBQUcsQ0FBNUMsRUFBK0MsRUFBRUEsYUFBakQsRUFBZ0U7QUFDNUQsVUFBSUMsUUFBUSxHQUFHcEYsVUFBVSxDQUFDbUYsYUFBRCxDQUF6Qjs7QUFDQSxVQUFJLENBQUNDLFFBQUwsRUFBZTtBQUNYO0FBQ0gsT0FKMkQsQ0FLNUQ7OztBQUNBLFVBQUlWLFNBQVMsSUFBSXJGLElBQWpCLEVBQXVCO0FBQ25CeUYsUUFBQUEsS0FBSyxDQUFDckMsTUFBTixHQUFldUMsTUFBTSxHQUFHQyxpQkFBeEI7O0FBQ0EsYUFBS0ksaUJBQUwsQ0FBdUJQLEtBQXZCLEVBQThCRSxNQUE5QixFQUFzQ2pGLE9BQXRDLEVBQStDUCxRQUFRLENBQUM0RixRQUFRLENBQUMsQ0FBRCxDQUFULENBQXZELEVBQXNFNUYsUUFBUSxDQUFDNEYsUUFBUSxDQUFDLENBQUQsQ0FBVCxDQUE5RTs7QUFDQUosUUFBQUEsTUFBTSxJQUFJQyxpQkFBVjtBQUNBO0FBQ0gsT0FYMkQsQ0FZNUQ7OztBQUNBLFVBQUlLLFVBQVUsR0FBRy9CLGFBQWEsQ0FBQ3hELE9BQUQsRUFBVVAsUUFBUSxDQUFDNEYsUUFBUSxDQUFDLENBQUQsQ0FBVCxDQUFsQixDQUE5Qjs7QUFDQSxVQUFJRyxRQUFRLEdBQUdoQyxhQUFhLENBQUN4RCxPQUFELEVBQVVQLFFBQVEsQ0FBQzRGLFFBQVEsQ0FBQyxDQUFELENBQVQsQ0FBbEIsQ0FBNUI7O0FBQ0EsVUFBSUcsUUFBUSxHQUFHRCxVQUFmLEVBQTJCQyxRQUFRLElBQUlsRyxJQUFaO0FBQzNCaUcsTUFBQUEsVUFBVSxJQUFJakcsSUFBZDtBQUNBa0csTUFBQUEsUUFBUSxJQUFJbEcsSUFBWixDQWpCNEQsQ0FrQjVEOztBQUNBLFdBQUssSUFBSW1HLFNBQVMsR0FBRyxDQUFyQixFQUF3QkEsU0FBUyxHQUFHLENBQXBDLEVBQXVDLEVBQUVBLFNBQXpDLEVBQW9EO0FBQ2hELFlBQUlGLFVBQVUsSUFBSVQsT0FBbEIsRUFBMkIsQ0FDdkI7QUFDSCxTQUZELE1BRU8sSUFBSVMsVUFBVSxJQUFJZCxTQUFsQixFQUE2QjtBQUNoQ00sVUFBQUEsS0FBSyxDQUFDckMsTUFBTixHQUFldUMsTUFBTSxHQUFHQyxpQkFBeEI7O0FBQ0EsY0FBSU0sUUFBUSxJQUFJVixPQUFoQixFQUF5QjtBQUNyQjtBQUNBLGlCQUFLUSxpQkFBTCxDQUF1QlAsS0FBdkIsRUFBOEJFLE1BQTlCLEVBQXNDakYsT0FBdEMsRUFBK0NQLFFBQVEsQ0FBQzRGLFFBQVEsQ0FBQyxDQUFELENBQVQsQ0FBdkQsRUFBc0V0RixpQkFBaUIsQ0FBQ3FGLGFBQUQsQ0FBdkY7QUFDSCxXQUhELE1BR087QUFDSDtBQUNBLGlCQUFLRSxpQkFBTCxDQUF1QlAsS0FBdkIsRUFBOEJFLE1BQTlCLEVBQXNDakYsT0FBdEMsRUFBK0NQLFFBQVEsQ0FBQzRGLFFBQVEsQ0FBQyxDQUFELENBQVQsQ0FBdkQsRUFBc0U1RixRQUFRLENBQUM0RixRQUFRLENBQUMsQ0FBRCxDQUFULENBQTlFO0FBQ0g7O0FBQ0RKLFVBQUFBLE1BQU0sSUFBSUMsaUJBQVY7QUFDSCxTQVZNLE1BVUE7QUFDSDtBQUNBLGNBQUlNLFFBQVEsSUFBSWYsU0FBaEIsRUFBMkIsQ0FDdkI7QUFDSCxXQUZELE1BRU8sSUFBSWUsUUFBUSxJQUFJVixPQUFoQixFQUF5QjtBQUM1QkMsWUFBQUEsS0FBSyxDQUFDckMsTUFBTixHQUFldUMsTUFBTSxHQUFHQyxpQkFBeEIsQ0FENEIsQ0FFNUI7O0FBQ0EsaUJBQUtJLGlCQUFMLENBQXVCUCxLQUF2QixFQUE4QkUsTUFBOUIsRUFBc0NqRixPQUF0QyxFQUErQ0YsaUJBQWlCLENBQUNzRixhQUFELENBQWhFLEVBQWlGM0YsUUFBUSxDQUFDNEYsUUFBUSxDQUFDLENBQUQsQ0FBVCxDQUF6Rjs7QUFDQUosWUFBQUEsTUFBTSxJQUFJQyxpQkFBVjtBQUNILFdBTE0sTUFLQTtBQUNISCxZQUFBQSxLQUFLLENBQUNyQyxNQUFOLEdBQWV1QyxNQUFNLEdBQUdDLGlCQUF4QixDQURHLENBRUg7O0FBQ0EsaUJBQUtJLGlCQUFMLENBQXVCUCxLQUF2QixFQUE4QkUsTUFBOUIsRUFBc0NqRixPQUF0QyxFQUErQ0YsaUJBQWlCLENBQUNzRixhQUFELENBQWhFLEVBQWlGckYsaUJBQWlCLENBQUNxRixhQUFELENBQWxHOztBQUNBSCxZQUFBQSxNQUFNLElBQUlDLGlCQUFWO0FBQ0g7QUFDSixTQTVCK0MsQ0E2QmhEOzs7QUFDQUssUUFBQUEsVUFBVSxJQUFJakcsSUFBZDtBQUNBa0csUUFBQUEsUUFBUSxJQUFJbEcsSUFBWjtBQUNIO0FBQ0o7O0FBRUQsU0FBS29HLGVBQUwsQ0FBcUJuRSxNQUFyQjtBQUNBLFNBQUtvRSxnQkFBTCxDQUFzQnBFLE1BQXRCO0FBQ0g7O1NBRURtRSxrQkFBQSx5QkFBZ0JuRSxNQUFoQixFQUF3QjtBQUNwQixRQUFJcUUsS0FBSyxHQUFHckUsTUFBTSxDQUFDQyxJQUFQLENBQVlxRSxNQUFaLENBQW1CQyxJQUEvQjtBQUNBLFFBQUlDLFVBQVUsR0FBRyxLQUFLOUIsV0FBdEI7QUFDQSxRQUFJa0IsYUFBYSxHQUFHLEtBQUtBLGFBQXpCO0FBRUEsUUFBSUosS0FBSyxHQUFHLEtBQUtDLE1BQWpCO0FBQ0EsUUFBSWdCLGFBQWEsR0FBR2pCLEtBQUssQ0FBQ3JDLE1BQU4sR0FBZXlDLGFBQW5DO0FBQ0EsU0FBS2EsYUFBTCxHQUFxQixLQUFLQyxZQUFMLEdBQW9CRCxhQUF6QztBQUVBLFFBQUlFLFVBQVUsR0FBR0gsVUFBVSxDQUFDSSxXQUE1Qjs7QUFDQSxRQUFJRCxVQUFVLENBQUNFLE9BQVgsQ0FBbUJKLGFBQW5CLEVBQWtDQSxhQUFsQyxDQUFKLEVBQXNEO0FBQ2xELFdBQUs1QixhQUFMO0FBQ0g7O0FBQ0Q4QixJQUFBQSxVQUFVLENBQUNHLElBQVgsQ0FBZ0IsS0FBS0wsYUFBckIsRUFBb0MsS0FBS0MsWUFBekM7QUFFQSxRQUFJSyxLQUFLLEdBQUdQLFVBQVUsQ0FBQ1EsTUFBWCxDQUFrQixDQUFsQixDQUFaO0FBQUEsUUFDSUMsU0FBUyxHQUFHVCxVQUFVLENBQUNVLFVBQVgsQ0FBc0IsQ0FBdEIsQ0FEaEI7QUFHQSxRQUFJQyxRQUFRLEdBQUcsS0FBS0EsUUFBcEI7O0FBQ0EsU0FBSyxJQUFJekIsTUFBTSxHQUFHLENBQWxCLEVBQXFCQSxNQUFNLEdBQUdGLEtBQUssQ0FBQ3JDLE1BQXBDLEVBQTRDdUMsTUFBTSxJQUFJRSxhQUF0RCxFQUFxRTtBQUNqRSxVQUFJMUIsS0FBSyxHQUFHd0IsTUFBTSxHQUFHeUIsUUFBckI7QUFDQUosTUFBQUEsS0FBSyxDQUFDN0MsS0FBRCxDQUFMLEdBQWVzQixLQUFLLENBQUN0QixLQUFELENBQXBCO0FBQ0E2QyxNQUFBQSxLQUFLLENBQUM3QyxLQUFLLEdBQUcsQ0FBVCxDQUFMLEdBQW1Cc0IsS0FBSyxDQUFDdEIsS0FBSyxHQUFHLENBQVQsQ0FBeEI7QUFDQStDLE1BQUFBLFNBQVMsQ0FBQy9DLEtBQUssR0FBRyxDQUFULENBQVQsR0FBdUJtQyxLQUF2QjtBQUNIO0FBQ0o7O1NBRUR4QixnQkFBQSx5QkFBaUI7QUFDYixRQUFJdUMsS0FBSyxHQUFHLEtBQUsxQyxXQUFMLENBQWlCMkMsTUFBakIsQ0FBd0IsQ0FBeEIsQ0FBWjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdGLEtBQUssQ0FBQ2pFLE1BQTFCLEVBQWtDbUUsQ0FBQyxFQUFuQyxFQUF3QztBQUNwQ0YsTUFBQUEsS0FBSyxDQUFDRSxDQUFELENBQUwsR0FBV0EsQ0FBWDtBQUNIO0FBQ0o7O1NBRURsQixtQkFBQSwwQkFBa0JwRSxNQUFsQixFQUEwQjtBQUN0QixRQUFJQyxJQUFJLEdBQUdELE1BQU0sQ0FBQ0MsSUFBbEI7QUFFQSxRQUFJc0YsTUFBTSxHQUFHdEYsSUFBSSxDQUFDdUYsWUFBbEI7QUFDQSxRQUFJQyxPQUFPLEdBQUdGLE1BQU0sQ0FBQ0csQ0FBckI7QUFBQSxRQUNJQyxDQUFDLEdBQUdGLE9BQU8sQ0FBQyxDQUFELENBRGY7QUFBQSxRQUNvQmhGLENBQUMsR0FBR2dGLE9BQU8sQ0FBQyxDQUFELENBRC9CO0FBQUEsUUFDb0NHLENBQUMsR0FBR0gsT0FBTyxDQUFDLENBQUQsQ0FEL0M7QUFBQSxRQUNvREksQ0FBQyxHQUFHSixPQUFPLENBQUMsQ0FBRCxDQUQvRDtBQUFBLFFBRUlLLEVBQUUsR0FBR0wsT0FBTyxDQUFDLEVBQUQsQ0FGaEI7QUFBQSxRQUVzQk0sRUFBRSxHQUFHTixPQUFPLENBQUMsRUFBRCxDQUZsQztBQUlBLFFBQUlqQyxLQUFLLEdBQUcsS0FBS0MsTUFBakI7QUFDQSxRQUFJdUMsS0FBSyxHQUFHLEtBQUt0RCxXQUFMLENBQWlCc0MsTUFBakIsQ0FBd0IsQ0FBeEIsQ0FBWjtBQUNBLFFBQUlwQixhQUFhLEdBQUcsS0FBS0EsYUFBekI7O0FBQ0EsU0FBSyxJQUFJRixNQUFNLEdBQUcsQ0FBbEIsRUFBcUJBLE1BQU0sR0FBR0YsS0FBSyxDQUFDckMsTUFBcEMsRUFBNEN1QyxNQUFNLElBQUlFLGFBQXRELEVBQXFFO0FBQ2pFLFVBQUluRSxDQUFDLEdBQUcrRCxLQUFLLENBQUNFLE1BQUQsQ0FBYjtBQUNBLFVBQUkvRCxDQUFDLEdBQUc2RCxLQUFLLENBQUNFLE1BQU0sR0FBRyxDQUFWLENBQWI7QUFDQXNDLE1BQUFBLEtBQUssQ0FBQ3RDLE1BQUQsQ0FBTCxHQUFnQmpFLENBQUMsR0FBR2tHLENBQUosR0FBUWhHLENBQUMsR0FBR2lHLENBQVosR0FBZ0JFLEVBQWhDO0FBQ0FFLE1BQUFBLEtBQUssQ0FBQ3RDLE1BQU0sR0FBQyxDQUFSLENBQUwsR0FBa0JqRSxDQUFDLEdBQUdnQixDQUFKLEdBQVFkLENBQUMsR0FBR2tHLENBQVosR0FBZ0JFLEVBQWxDO0FBQ0g7QUFDSjs7U0FFRGhDLG9CQUFBLDJCQUFtQmdCLEtBQW5CLEVBQTBCckIsTUFBMUIsRUFBa0N1QyxLQUFsQyxFQUF5Q0MsS0FBekMsRUFBZ0RDLEtBQWhELEVBQXVEO0FBQ25ELFFBQUl2RixRQUFRLEdBQUd2QyxTQUFmO0FBQ0EsUUFBSStILEdBQUcsR0FBR3hGLFFBQVEsQ0FBQyxDQUFELENBQWxCO0FBQ0EsUUFBSXlGLEdBQUcsR0FBR3pGLFFBQVEsQ0FBQyxDQUFELENBQWxCO0FBQ0EsUUFBSTBGLEdBQUcsR0FBRzFGLFFBQVEsQ0FBQyxDQUFELENBQWxCO0FBQ0EsUUFBSTJGLEdBQUcsR0FBRzNGLFFBQVEsQ0FBQyxDQUFELENBQWxCO0FBRUEsUUFBSWdELGFBQWEsR0FBRyxLQUFLQSxhQUF6QjtBQUNBbUIsSUFBQUEsS0FBSyxDQUFDckIsTUFBRCxDQUFMLEdBQWdCdUMsS0FBSyxDQUFDeEcsQ0FBdEI7QUFDQXNGLElBQUFBLEtBQUssQ0FBQ3JCLE1BQU0sR0FBRyxDQUFWLENBQUwsR0FBb0J1QyxLQUFLLENBQUN0RyxDQUExQjtBQUNBb0YsSUFBQUEsS0FBSyxDQUFDckIsTUFBTSxHQUFHRSxhQUFWLENBQUwsR0FBZ0NzQyxLQUFLLENBQUN6RyxDQUF0QztBQUNBc0YsSUFBQUEsS0FBSyxDQUFDckIsTUFBTSxHQUFHRSxhQUFULEdBQXlCLENBQTFCLENBQUwsR0FBb0NzQyxLQUFLLENBQUN2RyxDQUExQztBQUNBb0YsSUFBQUEsS0FBSyxDQUFDckIsTUFBTSxHQUFHRSxhQUFhLEdBQUMsQ0FBeEIsQ0FBTCxHQUFrQ3VDLEtBQUssQ0FBQzFHLENBQXhDO0FBQ0FzRixJQUFBQSxLQUFLLENBQUNyQixNQUFNLEdBQUdFLGFBQWEsR0FBQyxDQUF2QixHQUEyQixDQUE1QixDQUFMLEdBQXNDdUMsS0FBSyxDQUFDeEcsQ0FBNUM7QUFFQSxRQUFJd0YsUUFBUSxHQUFHLEtBQUtBLFFBQXBCO0FBQ0EsUUFBSXFCLFNBQUosRUFBZUMsU0FBZjtBQUNBRCxJQUFBQSxTQUFTLEdBQUcsQ0FBQ1AsS0FBSyxDQUFDeEcsQ0FBTixHQUFVMkcsR0FBWCxLQUFtQkUsR0FBRyxHQUFHRixHQUF6QixDQUFaO0FBQ0FLLElBQUFBLFNBQVMsR0FBRyxDQUFDUixLQUFLLENBQUN0RyxDQUFOLEdBQVUwRyxHQUFYLEtBQW1CRSxHQUFHLEdBQUdGLEdBQXpCLENBQVo7O0FBQ0EsU0FBS0ssV0FBTCxDQUFpQkYsU0FBakIsRUFBNEJDLFNBQTVCLEVBQXVDMUIsS0FBdkMsRUFBOENyQixNQUFNLEdBQUd5QixRQUF2RDs7QUFFQXFCLElBQUFBLFNBQVMsR0FBRyxDQUFDTixLQUFLLENBQUN6RyxDQUFOLEdBQVUyRyxHQUFYLEtBQW1CRSxHQUFHLEdBQUdGLEdBQXpCLENBQVo7QUFDQUssSUFBQUEsU0FBUyxHQUFHLENBQUNQLEtBQUssQ0FBQ3ZHLENBQU4sR0FBVTBHLEdBQVgsS0FBbUJFLEdBQUcsR0FBR0YsR0FBekIsQ0FBWjs7QUFDQSxTQUFLSyxXQUFMLENBQWlCRixTQUFqQixFQUE0QkMsU0FBNUIsRUFBdUMxQixLQUF2QyxFQUE4Q3JCLE1BQU0sR0FBR0UsYUFBVCxHQUF5QnVCLFFBQXZFOztBQUVBcUIsSUFBQUEsU0FBUyxHQUFHLENBQUNMLEtBQUssQ0FBQzFHLENBQU4sR0FBVTJHLEdBQVgsS0FBbUJFLEdBQUcsR0FBR0YsR0FBekIsQ0FBWjtBQUNBSyxJQUFBQSxTQUFTLEdBQUcsQ0FBQ04sS0FBSyxDQUFDeEcsQ0FBTixHQUFVMEcsR0FBWCxLQUFtQkUsR0FBRyxHQUFHRixHQUF6QixDQUFaOztBQUNBLFNBQUtLLFdBQUwsQ0FBaUJGLFNBQWpCLEVBQTRCQyxTQUE1QixFQUF1QzFCLEtBQXZDLEVBQThDckIsTUFBTSxHQUFHRSxhQUFhLEdBQUMsQ0FBdkIsR0FBMkJ1QixRQUF6RTtBQUNIOztTQUVEdUIsY0FBQSxxQkFBYUYsU0FBYixFQUF3QkMsU0FBeEIsRUFBbUMxQixLQUFuQyxFQUEwQ3JCLE1BQTFDLEVBQWtEO0FBQzlDLFFBQUkzQixHQUFHLEdBQUd6RCxJQUFWO0FBQ0EsUUFBSXFJLEdBQUcsR0FBRzVFLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBUyxDQUFDQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQWIsSUFBb0J5RSxTQUF2QztBQUNBLFFBQUlJLEdBQUcsR0FBRzdFLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBUyxDQUFDQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQWIsSUFBb0J5RSxTQUF2QztBQUNBLFFBQUlLLEdBQUcsR0FBRzlFLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBUyxDQUFDQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQWIsSUFBb0J5RSxTQUF2QztBQUNBLFFBQUlNLEdBQUcsR0FBRy9FLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBUyxDQUFDQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNBLEdBQUcsQ0FBQyxDQUFELENBQWIsSUFBb0J5RSxTQUF2QztBQUNBekIsSUFBQUEsS0FBSyxDQUFDckIsTUFBRCxDQUFMLEdBQWdCaUQsR0FBRyxHQUFHLENBQUNDLEdBQUcsR0FBR0QsR0FBUCxJQUFjRixTQUFwQztBQUNBMUIsSUFBQUEsS0FBSyxDQUFDckIsTUFBTSxHQUFHLENBQVYsQ0FBTCxHQUFvQm1ELEdBQUcsR0FBRyxDQUFDQyxHQUFHLEdBQUdELEdBQVAsSUFBY0osU0FBeEM7QUFDSDs7O0VBdE04Q00iLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xuXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxuIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcbiB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXG4gc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgQXNzZW1ibGVyMkQgZnJvbSAnLi4vLi4vLi4vLi4vYXNzZW1ibGVyLTJkJztcblxuY29uc3QgUElfMiA9IE1hdGguUEkgKiAyO1xuXG5sZXQgX3ZlcnRQb3MgPSBbY2MudjIoMCwgMCksIGNjLnYyKDAsIDApLCBjYy52MigwLCAwKSwgY2MudjIoMCwgMCldO1xubGV0IF92ZXJ0aWNlcyA9IFswLCAwLCAwLCAwXTtcbmxldCBfdXZzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xubGV0IF9pbnRlcnNlY3RQb2ludF8xID0gW2NjLnYyKDAsIDApLCBjYy52MigwLCAwKSwgY2MudjIoMCwgMCksIGNjLnYyKDAsIDApXTtcbmxldCBfaW50ZXJzZWN0UG9pbnRfMiA9IFtjYy52MigwLCAwKSwgY2MudjIoMCwgMCksIGNjLnYyKDAsIDApLCBjYy52MigwLCAwKV07XG5sZXQgX2NlbnRlciA9IGNjLnYyKDAsIDApO1xubGV0IF90cmlhbmdsZXMgPSBbXTtcblxuZnVuY3Rpb24gX2NhbGNJbnNlY3RlZFBvaW50cyAobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBjZW50ZXIsIGFuZ2xlLCBpbnRlcnNlY3RQb2ludHMpIHtcbiAgICAvL2xlZnQgYm90dG9tLCByaWdodCwgdG9wXG4gICAgbGV0IHNpbkFuZ2xlID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGxldCBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICBsZXQgdGFuQW5nbGUsIGNvdEFuZ2xlO1xuICAgIGlmIChNYXRoLmNvcyhhbmdsZSkgIT09IDApIHtcbiAgICAgICAgdGFuQW5nbGUgPSBzaW5BbmdsZSAvIGNvc0FuZ2xlO1xuICAgICAgICAvL2NhbGN1bGF0ZSByaWdodCBhbmQgbGVmdFxuICAgICAgICBpZiAoKGxlZnQgLSBjZW50ZXIueCkgKiBjb3NBbmdsZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB5bGVmdCA9IGNlbnRlci55ICsgdGFuQW5nbGUgKiAobGVmdCAtIGNlbnRlci54KTtcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1swXS54ID0gbGVmdDtcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1swXS55ID0geWxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChyaWdodCAtIGNlbnRlci54KSAqIGNvc0FuZ2xlID4gMCkge1xuICAgICAgICAgICAgbGV0IHlyaWdodCA9IGNlbnRlci55ICsgdGFuQW5nbGUgKiAocmlnaHQgLSBjZW50ZXIueCk7XG5cbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1syXS54ID0gcmlnaHQ7XG4gICAgICAgICAgICBpbnRlcnNlY3RQb2ludHNbMl0ueSA9IHlyaWdodDtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKE1hdGguc2luKGFuZ2xlKSAhPT0gMCkge1xuICAgICAgICBjb3RBbmdsZSA9IGNvc0FuZ2xlIC8gc2luQW5nbGU7XG4gICAgICAgIC8vY2FsY3VsYXRlICB0b3AgYW5kIGJvdHRvbVxuICAgICAgICBpZiAoKHRvcCAtIGNlbnRlci55KSAqIHNpbkFuZ2xlID4gMCkge1xuICAgICAgICAgICAgbGV0IHh0b3AgPSBjZW50ZXIueCArIGNvdEFuZ2xlICogKHRvcCAtIGNlbnRlci55KTtcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1szXS54ID0geHRvcDtcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1szXS55ID0gdG9wO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoYm90dG9tIC0gY2VudGVyLnkpICogc2luQW5nbGUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgeGJvdHRvbSA9IGNlbnRlci54ICsgY290QW5nbGUgKiAoYm90dG9tIC0gY2VudGVyLnkpO1xuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzFdLnggPSB4Ym90dG9tO1xuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzFdLnkgPSBib3R0b207XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuZnVuY3Rpb24gX2NhbGN1bGF0ZVZlcnRpY2VzIChzcHJpdGUpIHtcbiAgICBsZXQgbm9kZSA9IHNwcml0ZS5ub2RlLFxuICAgICAgICB3aWR0aCA9IG5vZGUud2lkdGgsIGhlaWdodCA9IG5vZGUuaGVpZ2h0LFxuICAgICAgICBhcHB4ID0gbm9kZS5hbmNob3JYICogd2lkdGgsIGFwcHkgPSBub2RlLmFuY2hvclkgKiBoZWlnaHQ7XG5cbiAgICBsZXQgbCA9IC1hcHB4LCBiID0gLWFwcHksXG4gICAgICAgIHIgPSB3aWR0aCAtIGFwcHgsIHQgPSBoZWlnaHQgLSBhcHB5O1xuXG4gICAgbGV0IHZlcnRpY2VzID0gX3ZlcnRpY2VzO1xuICAgIHZlcnRpY2VzWzBdID0gbDtcbiAgICB2ZXJ0aWNlc1sxXSA9IGI7XG4gICAgdmVydGljZXNbMl0gPSByO1xuICAgIHZlcnRpY2VzWzNdID0gdDtcblxuICAgIGxldCBmaWxsQ2VudGVyID0gc3ByaXRlLl9maWxsQ2VudGVyLFxuICAgICAgICBjeCA9IF9jZW50ZXIueCA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZpbGxDZW50ZXIueCksIDEpICogKHIgLSBsKSArIGwsXG4gICAgICAgIGN5ID0gX2NlbnRlci55ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlsbENlbnRlci55KSwgMSkgKiAodCAtIGIpICsgYjtcblxuICAgIF92ZXJ0UG9zWzBdLnggPSBfdmVydFBvc1szXS54ID0gbDtcbiAgICBfdmVydFBvc1sxXS54ID0gX3ZlcnRQb3NbMl0ueCA9IHI7XG4gICAgX3ZlcnRQb3NbMF0ueSA9IF92ZXJ0UG9zWzFdLnkgPSBiO1xuICAgIF92ZXJ0UG9zWzJdLnkgPSBfdmVydFBvc1szXS55ID0gdDtcblxuICAgIF90cmlhbmdsZXMubGVuZ3RoID0gMDtcbiAgICBpZiAoY3ggIT09IHZlcnRpY2VzWzBdKSB7XG4gICAgICAgIF90cmlhbmdsZXNbMF0gPSBbMywgMF07XG4gICAgfVxuICAgIGlmIChjeCAhPT0gdmVydGljZXNbMl0pIHtcbiAgICAgICAgX3RyaWFuZ2xlc1syXSA9IFsxLCAyXTtcbiAgICB9XG4gICAgaWYgKGN5ICE9PSB2ZXJ0aWNlc1sxXSkge1xuICAgICAgICBfdHJpYW5nbGVzWzFdID0gWzAsIDFdO1xuICAgIH1cbiAgICBpZiAoY3kgIT09IHZlcnRpY2VzWzNdKSB7XG4gICAgICAgIF90cmlhbmdsZXNbM10gPSBbMiwgM107XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfY2FsY3VsYXRlVVZzIChzcHJpdGVGcmFtZSkge1xuICAgIGxldCBhdGxhc1dpZHRoID0gc3ByaXRlRnJhbWUuX3RleHR1cmUud2lkdGg7XG4gICAgbGV0IGF0bGFzSGVpZ2h0ID0gc3ByaXRlRnJhbWUuX3RleHR1cmUuaGVpZ2h0O1xuICAgIGxldCB0ZXh0dXJlUmVjdCA9IHNwcml0ZUZyYW1lLl9yZWN0O1xuXG4gICAgbGV0IHUwLCB1MSwgdjAsIHYxO1xuICAgIGxldCB1dnMgPSBfdXZzO1xuXG4gICAgaWYgKHNwcml0ZUZyYW1lLl9yb3RhdGVkKSB7XG4gICAgICAgIHUwID0gKHRleHR1cmVSZWN0LngpIC8gYXRsYXNXaWR0aDtcbiAgICAgICAgdTEgPSAodGV4dHVyZVJlY3QueCArIHRleHR1cmVSZWN0LmhlaWdodCkgLyBhdGxhc1dpZHRoO1xuXG4gICAgICAgIHYwID0gKHRleHR1cmVSZWN0LnkpIC8gYXRsYXNIZWlnaHQ7XG4gICAgICAgIHYxID0gKHRleHR1cmVSZWN0LnkgKyB0ZXh0dXJlUmVjdC53aWR0aCkgLyBhdGxhc0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbMl0gPSB1MDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzZdID0gdTE7XG4gICAgICAgIHV2c1szXSA9IHV2c1s3XSA9IHYxO1xuICAgICAgICB1dnNbMV0gPSB1dnNbNV0gPSB2MDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHUwID0gKHRleHR1cmVSZWN0LngpIC8gYXRsYXNXaWR0aDtcbiAgICAgICAgdTEgPSAodGV4dHVyZVJlY3QueCArIHRleHR1cmVSZWN0LndpZHRoKSAvIGF0bGFzV2lkdGg7XG5cbiAgICAgICAgdjAgPSAodGV4dHVyZVJlY3QueSkgLyBhdGxhc0hlaWdodDtcbiAgICAgICAgdjEgPSAodGV4dHVyZVJlY3QueSArIHRleHR1cmVSZWN0LmhlaWdodCkgLyBhdGxhc0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbNF0gPSB1MDtcbiAgICAgICAgdXZzWzJdID0gdXZzWzZdID0gdTE7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHYxO1xuICAgICAgICB1dnNbNV0gPSB1dnNbN10gPSB2MDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9nZXRWZXJ0QW5nbGUgKHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgcGxhY2VtZW50WCwgcGxhY2VtZW50WTtcbiAgICBwbGFjZW1lbnRYID0gZW5kLnggLSBzdGFydC54O1xuICAgIHBsYWNlbWVudFkgPSBlbmQueSAtIHN0YXJ0Lnk7XG5cbiAgICBpZiAocGxhY2VtZW50WCA9PT0gMCAmJiBwbGFjZW1lbnRZID09PSAwKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChwbGFjZW1lbnRYID09PSAwKSB7XG4gICAgICAgIGlmIChwbGFjZW1lbnRZID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgKiAwLjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5QSSAqIDEuNTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbihwbGFjZW1lbnRZIC8gcGxhY2VtZW50WCk7XG4gICAgICAgIGlmIChwbGFjZW1lbnRYIDwgMCkge1xuICAgICAgICAgICAgYW5nbGUgKz0gTWF0aC5QSTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhbmdsZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhZGlhbEZpbGxlZEFzc2VtYmxlciBleHRlbmRzIEFzc2VtYmxlcjJEIHtcbiAgICBpbml0RGF0YSAoc3ByaXRlKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGEuY3JlYXRlRmxleERhdGEoMCwgNCwgNiwgdGhpcy5nZXRWZm10KCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZUluZGljZXMoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVSZW5kZXJEYXRhIChzcHJpdGUpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlUmVuZGVyRGF0YShzcHJpdGUpO1xuXG4gICAgICAgIGxldCBmcmFtZSA9IHNwcml0ZS5zcHJpdGVGcmFtZTtcbiAgICAgICAgdGhpcy5wYWNrVG9EeW5hbWljQXRsYXMoc3ByaXRlLCBmcmFtZSk7XG5cbiAgICAgICAgaWYgKHNwcml0ZS5fdmVydHNEaXJ0eSkge1xuICAgICAgICAgICAgbGV0IGZpbGxTdGFydCA9IHNwcml0ZS5fZmlsbFN0YXJ0O1xuICAgICAgICAgICAgbGV0IGZpbGxSYW5nZSA9IHNwcml0ZS5fZmlsbFJhbmdlO1xuICAgICAgICAgICAgaWYgKGZpbGxSYW5nZSA8IDApIHtcbiAgICAgICAgICAgICAgICBmaWxsU3RhcnQgKz0gZmlsbFJhbmdlO1xuICAgICAgICAgICAgICAgIGZpbGxSYW5nZSA9IC1maWxsUmFuZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vZG8gcm91bmQgZmlsbCBzdGFydCBbMCwxKSwgaW5jbHVkZSAwLCBleGNsdWRlIDFcbiAgICAgICAgICAgIHdoaWxlIChmaWxsU3RhcnQgPj0gMS4wKSBmaWxsU3RhcnQgLT0gMS4wO1xuICAgICAgICAgICAgd2hpbGUgKGZpbGxTdGFydCA8IDAuMCkgZmlsbFN0YXJ0ICs9IDEuMDtcblxuICAgICAgICAgICAgZmlsbFN0YXJ0ICo9IFBJXzI7XG4gICAgICAgICAgICBmaWxsUmFuZ2UgKj0gUElfMjtcblxuICAgICAgICAgICAgLy9idWlsZCB2ZXJ0aWNlc1xuICAgICAgICAgICAgX2NhbGN1bGF0ZVZlcnRpY2VzKHNwcml0ZSk7XG4gICAgICAgICAgICAvL2J1aWxkIHV2c1xuICAgICAgICAgICAgX2NhbGN1bGF0ZVVWcyhmcmFtZSk7XG5cbiAgICAgICAgICAgIF9jYWxjSW5zZWN0ZWRQb2ludHMoX3ZlcnRpY2VzWzBdLCBfdmVydGljZXNbMl0sIF92ZXJ0aWNlc1sxXSwgX3ZlcnRpY2VzWzNdLCBfY2VudGVyLCBmaWxsU3RhcnQsIF9pbnRlcnNlY3RQb2ludF8xKTtcbiAgICAgICAgICAgIF9jYWxjSW5zZWN0ZWRQb2ludHMoX3ZlcnRpY2VzWzBdLCBfdmVydGljZXNbMl0sIF92ZXJ0aWNlc1sxXSwgX3ZlcnRpY2VzWzNdLCBfY2VudGVyLCBmaWxsU3RhcnQgKyBmaWxsUmFuZ2UsIF9pbnRlcnNlY3RQb2ludF8yKTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0cyhzcHJpdGUsIGZpbGxTdGFydCwgZmlsbFJhbmdlKTtcblxuICAgICAgICAgICAgc3ByaXRlLl92ZXJ0c0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVWZXJ0cyAoc3ByaXRlLCBmaWxsU3RhcnQsIGZpbGxSYW5nZSkge1xuICAgICAgICBsZXQgZmlsbEVuZCA9IGZpbGxTdGFydCArIGZpbGxSYW5nZTtcbiAgICAgICAgXG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xuICAgICAgICBsb2NhbC5sZW5ndGggPSAwO1xuXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBsZXQgZmxvYXRzUGVyVHJpYW5nbGUgPSAzICogdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgICAgICBmb3IgKGxldCB0cmlhbmdsZUluZGV4ID0gMDsgdHJpYW5nbGVJbmRleCA8IDQ7ICsrdHJpYW5nbGVJbmRleCkge1xuICAgICAgICAgICAgbGV0IHRyaWFuZ2xlID0gX3RyaWFuZ2xlc1t0cmlhbmdsZUluZGV4XTtcbiAgICAgICAgICAgIGlmICghdHJpYW5nbGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vYWxsIGluXG4gICAgICAgICAgICBpZiAoZmlsbFJhbmdlID49IFBJXzIpIHtcbiAgICAgICAgICAgICAgICBsb2NhbC5sZW5ndGggPSBvZmZzZXQgKyBmbG9hdHNQZXJUcmlhbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZVRyaWFuZ2xlKGxvY2FsLCBvZmZzZXQsIF9jZW50ZXIsIF92ZXJ0UG9zW3RyaWFuZ2xlWzBdXSwgX3ZlcnRQb3NbdHJpYW5nbGVbMV1dKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmxvYXRzUGVyVHJpYW5nbGU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3Rlc3QgYWdhaW5zdFxuICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBfZ2V0VmVydEFuZ2xlKF9jZW50ZXIsIF92ZXJ0UG9zW3RyaWFuZ2xlWzBdXSk7XG4gICAgICAgICAgICBsZXQgZW5kQW5nbGUgPSBfZ2V0VmVydEFuZ2xlKF9jZW50ZXIsIF92ZXJ0UG9zW3RyaWFuZ2xlWzFdXSk7XG4gICAgICAgICAgICBpZiAoZW5kQW5nbGUgPCBzdGFydEFuZ2xlKSBlbmRBbmdsZSArPSBQSV8yO1xuICAgICAgICAgICAgc3RhcnRBbmdsZSAtPSBQSV8yO1xuICAgICAgICAgICAgZW5kQW5nbGUgLT0gUElfMjtcbiAgICAgICAgICAgIC8vdGVzdGluZ1xuICAgICAgICAgICAgZm9yIChsZXQgdGVzdEluZGV4ID0gMDsgdGVzdEluZGV4IDwgMzsgKyt0ZXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRBbmdsZSA+PSBmaWxsRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxsIG91dFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRBbmdsZSA+PSBmaWxsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWwubGVuZ3RoID0gb2Zmc2V0ICsgZmxvYXRzUGVyVHJpYW5nbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRBbmdsZSA+PSBmaWxsRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0YXJ0QW5nbGUgdG8gZmlsbEVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVUcmlhbmdsZShsb2NhbCwgb2Zmc2V0LCBfY2VudGVyLCBfdmVydFBvc1t0cmlhbmdsZVswXV0sIF9pbnRlcnNlY3RQb2ludF8yW3RyaWFuZ2xlSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RhcnRBbmdsZSB0byBlbmRBbmdsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVUcmlhbmdsZShsb2NhbCwgb2Zmc2V0LCBfY2VudGVyLCBfdmVydFBvc1t0cmlhbmdsZVswXV0sIF92ZXJ0UG9zW3RyaWFuZ2xlWzFdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGZsb2F0c1BlclRyaWFuZ2xlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vc3RhcnRBbmdsZSA8IGZpbGxTdGFydFxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kQW5nbGUgPD0gZmlsbFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsbCBvdXRcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRBbmdsZSA8PSBmaWxsRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbC5sZW5ndGggPSBvZmZzZXQgKyBmbG9hdHNQZXJUcmlhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsbFN0YXJ0IHRvIGVuZEFuZ2xlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZVRyaWFuZ2xlKGxvY2FsLCBvZmZzZXQsIF9jZW50ZXIsIF9pbnRlcnNlY3RQb2ludF8xW3RyaWFuZ2xlSW5kZXhdLCBfdmVydFBvc1t0cmlhbmdsZVsxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGZsb2F0c1BlclRyaWFuZ2xlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwubGVuZ3RoID0gb2Zmc2V0ICsgZmxvYXRzUGVyVHJpYW5nbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbGxTdGFydCB0byBmaWxsRW5kXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZVRyaWFuZ2xlKGxvY2FsLCBvZmZzZXQsIF9jZW50ZXIsIF9pbnRlcnNlY3RQb2ludF8xW3RyaWFuZ2xlSW5kZXhdLCBfaW50ZXJzZWN0UG9pbnRfMlt0cmlhbmdsZUluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmxvYXRzUGVyVHJpYW5nbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9hZGQgMiAqIFBJXG4gICAgICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBQSV8yO1xuICAgICAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFsbG9jV29ybGRWZXJ0cyhzcHJpdGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVdvcmxkVmVydHMoc3ByaXRlKTtcbiAgICB9XG5cbiAgICBhbGxvY1dvcmxkVmVydHMoc3ByaXRlKSB7XG4gICAgICAgIGxldCBjb2xvciA9IHNwcml0ZS5ub2RlLl9jb2xvci5fdmFsO1xuICAgICAgICBsZXQgcmVuZGVyRGF0YSA9IHRoaXMuX3JlbmRlckRhdGE7XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0O1xuXG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xuICAgICAgICBsZXQgdmVydGljZXNDb3VudCA9IGxvY2FsLmxlbmd0aCAvIGZsb2F0c1BlclZlcnQ7XG4gICAgICAgIHRoaXMudmVydGljZXNDb3VudCA9IHRoaXMuaW5kaWNlc0NvdW50ID0gdmVydGljZXNDb3VudDtcblxuICAgICAgICBsZXQgZmxleEJ1ZmZlciA9IHJlbmRlckRhdGEuX2ZsZXhCdWZmZXI7XG4gICAgICAgIGlmIChmbGV4QnVmZmVyLnJlc2VydmUodmVydGljZXNDb3VudCwgdmVydGljZXNDb3VudCkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5kaWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIGZsZXhCdWZmZXIudXNlZCh0aGlzLnZlcnRpY2VzQ291bnQsIHRoaXMuaW5kaWNlc0NvdW50KTtcblxuICAgICAgICBsZXQgdmVydHMgPSByZW5kZXJEYXRhLnZEYXRhc1swXSxcbiAgICAgICAgICAgIHVpbnRWZXJ0cyA9IHJlbmRlckRhdGEudWludFZEYXRhc1swXTtcbiAgICAgICAgXG4gICAgICAgIGxldCB1dk9mZnNldCA9IHRoaXMudXZPZmZzZXQ7XG4gICAgICAgIGZvciAobGV0IG9mZnNldCA9IDA7IG9mZnNldCA8IGxvY2FsLmxlbmd0aDsgb2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG9mZnNldCArIHV2T2Zmc2V0O1xuICAgICAgICAgICAgdmVydHNbc3RhcnRdID0gbG9jYWxbc3RhcnRdO1xuICAgICAgICAgICAgdmVydHNbc3RhcnQgKyAxXSA9IGxvY2FsW3N0YXJ0ICsgMV07XG4gICAgICAgICAgICB1aW50VmVydHNbc3RhcnQgKyAyXSA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSW5kaWNlcyAoKSB7XG4gICAgICAgIGxldCBpRGF0YSA9IHRoaXMuX3JlbmRlckRhdGEuaURhdGFzWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlEYXRhLmxlbmd0aDsgaSArKykge1xuICAgICAgICAgICAgaURhdGFbaV0gPSBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlV29ybGRWZXJ0cyAoc3ByaXRlKSB7XG4gICAgICAgIGxldCBub2RlID0gc3ByaXRlLm5vZGU7XG5cbiAgICAgICAgbGV0IG1hdHJpeCA9IG5vZGUuX3dvcmxkTWF0cml4O1xuICAgICAgICBsZXQgbWF0cml4bSA9IG1hdHJpeC5tLFxuICAgICAgICAgICAgYSA9IG1hdHJpeG1bMF0sIGIgPSBtYXRyaXhtWzFdLCBjID0gbWF0cml4bVs0XSwgZCA9IG1hdHJpeG1bNV0sXG4gICAgICAgICAgICB0eCA9IG1hdHJpeG1bMTJdLCB0eSA9IG1hdHJpeG1bMTNdO1xuXG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xuICAgICAgICBsZXQgd29ybGQgPSB0aGlzLl9yZW5kZXJEYXRhLnZEYXRhc1swXTtcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICAgIGZvciAobGV0IG9mZnNldCA9IDA7IG9mZnNldCA8IGxvY2FsLmxlbmd0aDsgb2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQpIHtcbiAgICAgICAgICAgIGxldCB4ID0gbG9jYWxbb2Zmc2V0XTtcbiAgICAgICAgICAgIGxldCB5ID0gbG9jYWxbb2Zmc2V0ICsgMV07XG4gICAgICAgICAgICB3b3JsZFtvZmZzZXRdID0geCAqIGEgKyB5ICogYyArIHR4O1xuICAgICAgICAgICAgd29ybGRbb2Zmc2V0KzFdID0geCAqIGIgKyB5ICogZCArIHR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlbmVyYXRlVHJpYW5nbGUgKHZlcnRzLCBvZmZzZXQsIHZlcnQwLCB2ZXJ0MSwgdmVydDIpIHtcbiAgICAgICAgbGV0IHZlcnRpY2VzID0gX3ZlcnRpY2VzO1xuICAgICAgICBsZXQgdjB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIGxldCB2MHkgPSB2ZXJ0aWNlc1sxXTtcbiAgICAgICAgbGV0IHYxeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICBsZXQgdjF5ID0gdmVydGljZXNbM107XG5cbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICAgIHZlcnRzW29mZnNldF0gPSB2ZXJ0MC54O1xuICAgICAgICB2ZXJ0c1tvZmZzZXQgKyAxXSA9IHZlcnQwLnk7XG4gICAgICAgIHZlcnRzW29mZnNldCArIGZsb2F0c1BlclZlcnRdID0gdmVydDEueDtcbiAgICAgICAgdmVydHNbb2Zmc2V0ICsgZmxvYXRzUGVyVmVydCArIDFdID0gdmVydDEueTtcbiAgICAgICAgdmVydHNbb2Zmc2V0ICsgZmxvYXRzUGVyVmVydCoyXSA9IHZlcnQyLng7XG4gICAgICAgIHZlcnRzW29mZnNldCArIGZsb2F0c1BlclZlcnQqMiArIDFdID0gdmVydDIueTtcblxuICAgICAgICBsZXQgdXZPZmZzZXQgPSB0aGlzLnV2T2Zmc2V0O1xuICAgICAgICBsZXQgcHJvZ3Jlc3NYLCBwcm9ncmVzc1k7XG4gICAgICAgIHByb2dyZXNzWCA9ICh2ZXJ0MC54IC0gdjB4KSAvICh2MXggLSB2MHgpO1xuICAgICAgICBwcm9ncmVzc1kgPSAodmVydDAueSAtIHYweSkgLyAodjF5IC0gdjB5KTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVVVihwcm9ncmVzc1gsIHByb2dyZXNzWSwgdmVydHMsIG9mZnNldCArIHV2T2Zmc2V0KTtcblxuICAgICAgICBwcm9ncmVzc1ggPSAodmVydDEueCAtIHYweCkgLyAodjF4IC0gdjB4KTtcbiAgICAgICAgcHJvZ3Jlc3NZID0gKHZlcnQxLnkgLSB2MHkpIC8gKHYxeSAtIHYweSk7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlVVYocHJvZ3Jlc3NYLCBwcm9ncmVzc1ksIHZlcnRzLCBvZmZzZXQgKyBmbG9hdHNQZXJWZXJ0ICsgdXZPZmZzZXQpO1xuXG4gICAgICAgIHByb2dyZXNzWCA9ICh2ZXJ0Mi54IC0gdjB4KSAvICh2MXggLSB2MHgpO1xuICAgICAgICBwcm9ncmVzc1kgPSAodmVydDIueSAtIHYweSkgLyAodjF5IC0gdjB5KTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVVVihwcm9ncmVzc1gsIHByb2dyZXNzWSwgdmVydHMsIG9mZnNldCArIGZsb2F0c1BlclZlcnQqMiArIHV2T2Zmc2V0KTtcbiAgICB9XG5cbiAgICBfZ2VuZXJhdGVVViAocHJvZ3Jlc3NYLCBwcm9ncmVzc1ksIHZlcnRzLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHV2cyA9IF91dnM7XG4gICAgICAgIGxldCBweDEgPSB1dnNbMF0gKyAodXZzWzJdIC0gdXZzWzBdKSAqIHByb2dyZXNzWDtcbiAgICAgICAgbGV0IHB4MiA9IHV2c1s0XSArICh1dnNbNl0gLSB1dnNbNF0pICogcHJvZ3Jlc3NYO1xuICAgICAgICBsZXQgcHkxID0gdXZzWzFdICsgKHV2c1szXSAtIHV2c1sxXSkgKiBwcm9ncmVzc1g7XG4gICAgICAgIGxldCBweTIgPSB1dnNbNV0gKyAodXZzWzddIC0gdXZzWzVdKSAqIHByb2dyZXNzWDtcbiAgICAgICAgdmVydHNbb2Zmc2V0XSA9IHB4MSArIChweDIgLSBweDEpICogcHJvZ3Jlc3NZO1xuICAgICAgICB2ZXJ0c1tvZmZzZXQgKyAxXSA9IHB5MSArIChweTIgLSBweTEpICogcHJvZ3Jlc3NZO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiLyJ9