var e=require("jsondiffpatch"),t=cc.Asset,i=cc._BaseNode,n=cc.Component;function r(e){return e instanceof t?"Asset:"+e._uuid:e instanceof i?"Node:"+e.uuid:e instanceof n?"Component:"+e.uuid:""}function o(e){var t=e.left,i=e.right;if(t instanceof Node||i instanceof Node)return e.setResult([t,i]).exit(),void 0;if(t!==i){var n=e.parent;if(n){var o=e.childName;if(o){var a=n.childName;if(a){var c=cc.engine.getInstanceById(a);if(c){var s=cc.js.getPropertyDescriptor(c,o);if(s&&s.get)return e.setResult(void 0).exit(),void 0}}}}}var f=r(t),d=r(i);(f||d)&&(f===d?e.setResult(void 0):e.setResult([f||t,d||i]),e.exit())}o.filterName="creator";let a=e.create({arrays:{detectMove:!1,includeValueOnMove:!1}});a.processor.pipes.diff.after("trivial",o),module.exports={isComponentChanged:function(e,t){return void 0!==a.diff(e,t)}};