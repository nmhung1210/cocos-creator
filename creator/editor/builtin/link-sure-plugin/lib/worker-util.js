let r,e,t,o,i,c=require("path"),n=require("fs-extra");module.exports={gatherInfo(n){i=n.cpk,o=n.buildPath,(e=function(e,t){if(void 0!==(r=t.workerPath)&&""!==(r=r.replace(/%s/g,"")))return c.join(e,r)}(n.projectPath,n.customConfig))&&(Editor.log("workerPath: ",e),n.gameConfig.workers=r,t=c.join(n.buildPath,r),Editor.log("workerDestPath: ",t))},organizeResources(){if(!e)return;if(!n.existsSync(e))throw"Please configure the worker path correctly!";if(n.existsSync(t)){n.statSync(t).isDirectory()?n.removeSync(t):n.unlinkSync(t)}let r=n.statSync(e);r.isDirectory()||r.isFile()?n.copySync(e,t):Editor.error(e+" was not copy to "+t)},pack(){if(e){let e=r.split(/\/|\\/)[0],o=n.statSync(t);o.isDirectory()?i.directory(t,e):o.isFile()?i.append(t,e):Editor.error(t+" was not added to zip!")}}};