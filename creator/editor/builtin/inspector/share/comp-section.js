"use strict";Vue.component("cc-comp-section",{template:'\n    <ui-section>\n      <div class="header flex-1 layout horizontal center-center">\n        <ui-checkbox hidden="{{!editor._showTick}}"\n          v-value="target.enabled.value"\n          v-values="target.enabled.valuse"\n          :multi-values="_updateEnabelMulti(target.enabled)"\n        ></ui-checkbox>\n        {{name}}\n        <span class="flex-1"></span>\n        <ui-button class="tiny transparent"\n          title="{{T(\'INSPECTOR.component.help\')}}"\n          hidden="{{!editor.help}}"\n          @click="openHelpClick"\n          >\n          <i class="fa fa-book"></i>\n        </ui-button>\n        <ui-button v-el:dropdown class="tiny transparent"\n          title=""\n          @click="menuClick"\n          >\n          <i class="fa fa-cog"></i>\n        </ui-button>\n      </div>\n\n      <template v-if="!customDraw()">\n        <template v-for="prop in target">\n          <component\n            v-if="prop.attrs.visible !== false"\n            :is="prop.compType"\n            :target.sync="prop"\n            :indent="0"\n            :multi-values="multi"\n          ></component>\n        </template>\n      </template>\n    </ui-section>\n  ',props:{name:{twoWay:!0,type:String},editor:{twoWay:!0,type:Object},target:{twoWay:!0,type:Object},index:{type:Number},count:{type:Number},multi:{type:Boolean}},methods:{T:Editor.T,customDraw(){return this.editor&&this.editor.inspector},menuClick(e){e.stopPropagation(),this._requestID&&(Editor.Ipc.cancelRequest(this._requestID),this._requestID=null),this._requestID=Editor.Ipc.sendToPanel("scene","scene:has-copied-component",(e,t)=>{let n=this.$els.dropdown.getBoundingClientRect(),i=this.target.node.values.map(e=>e.uuid)||[],o=this.target.uuid.values;Editor.Ipc.sendToPackage("inspector","popup-component-inspector-menu",{nodeUuids:i,compUuids:o,hasCopyComp:t,multi:this.multi,compIndex:this.index,compCount:this.count,x:n.left,y:n.bottom+5})},-1)},openHelpClick(e){e.stopPropagation();let t=this.editor.help;t.startsWith("i18n:")&&(t=Editor.T(t.replace("i18n:",""))),require("electron").shell.openExternal(t)},_updateEnabelMulti(e){var t=e.values,n=t[0];return!t.every(e=>e==n)}},compiled(){this.customDraw()&&Editor.import(this.editor.inspector).then(e=>{if(!e||"function"!=typeof e)return Editor.warn(`Failed to load inspector ${this.editor.inspector} for component "${this.name}"`),void 0;function t(){let t=document.createElement("div");this.$el.appendChild(t),new e({el:t,propsData:{target:this.target,multi:this.multi}})}e.options&&e.options.dependencies&&e.options.dependencies.length?Editor.import(e.options.dependencies).then(()=>{t.call(this)}):t.call(this)})}});