"use strict";const e=require("electron");var r=!1;function o(o,t,i){let n=function(e,r){var o="";if(r)for(var t=0,i=r.length;t<i;t++)o&&(o+=","),o+="*."+r[t];else o=Editor.T("MAIN_MENU.file.import_select_folder");return Editor.T("MAIN_MENU.file.import_project_fmt",{name:e,exts:o})}(o,t),p=null;(p=t?e.dialog.showOpenDialog({title:n,filters:[{name:o,extensions:t}],properties:["openFile"]}):e.dialog.showOpenDialog({title:n,properties:["openDirectory"]}))&&function(o,t,i){var n;function p(e,o){if(n&&!r){var t=n;n=null,t.nativeWin.destroy()}Editor.error(o)}e.ipcMain.once("app:import-project-abort",p);var c=!1;Editor.App.spawnWorker("app://editor/builtin/project-importer/core/import-worker",function(a,s){var l;n=a,c||(c=!0,s.once("closed",function(){l||e.ipcMain.removeListener("app:import-project-abort",p)})),n.send("app:init-import-worker",function(e){e?(Editor.error(e),l=!0,!n||r||(n.close(),n=null)):n&&(Editor.Metrics.trackEvent({category:"Project",action:"Import Project",label:t}),n.send("app:import-project",o,i,function(e){e&&Editor.error(e),!n||r||(n.close(),n=null)},-1))},-1)},r)}(p[0],o,i)}module.exports={messages:{"open-studio":function(e){let r=require("./core/studio/studio-importer");o(r.name,r.exts,"packages://project-importer/core/studio/studio-importer")},"open-builder":function(e){let r=require("./core/ccb/ccbproj-importer");o(r.name,r.exts,"packages://project-importer/core/ccb/ccbproj-importer")}}};