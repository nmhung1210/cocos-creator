const e="project://cpk-publish.json";let t=require("./lib/cpk-util.js");module.exports={name:Editor.T("cpk-publish.platform_name"),platform:"jkw-game",output:"cocos-play",extends:"runtime",buttons:[Editor.Builder.DefaultButtons.Build],messages:{"script-build-finished":function(t,i){let r=Editor.Profile.load(e);i.settings.server=r.get("tinyPackageServer")||"",t.reply()},"build-finished":async function(i,r){var n=await t.gatherInfo(i,r);!1!==n&&!1!==(n=await t.organizeResources(i))&&(await t.pack(),i.reply(),function(t){var i=Editor.Profile.load(e).getSelfData();let r={resUrl:i.tinyPackageServer,orientation:i.deviceOrientation,projectName:i.name};Editor.Ipc.sendToMain("builder:notify-build-result",t,r)}(r))}},md5:{globalIgnore:function(){return[/.*/]}},buildStart:function(t){let i=Editor.Profile.load(e);t.startSceneAssetBundle=i.get("packFirstScreenRes")||!1,t.separateEngineMode=i.get("separateEngineMode")||!1},delPattern:function(e){let t=require("path"),i=e.dest;return[t.join(i,"**/*")]},settings:Editor.url("packages://cpk-publish/build-ui.js")};