"use strict";var n={};function t(n,t,e,r){var i=(r.x-e.x)*(n.y-e.y)-(r.y-e.y)*(n.x-e.x),c=(t.x-n.x)*(n.y-e.y)-(t.y-n.y)*(n.x-e.x),o=(r.y-e.y)*(t.x-n.x)-(r.x-e.x)*(t.y-n.y);if(0!==o){var x=i/o,y=c/o;if(0<=x&&x<=1&&0<=y&&y<=1)return!0}return!1}function e(n,e,r){for(var i=r.points.length,c=0;c<i;++c){if(t(n,e,r.points[c],r.points[(c+1)%i]))return!0}return!1}n.lineLine=t,n.lineRect=function(n,e,r){var i=new cc.Vec2(r.x,r.y),c=new cc.Vec2(r.x,r.yMax),o=new cc.Vec2(r.xMax,r.yMax),x=new cc.Vec2(r.xMax,r.y);return!!(t(n,e,i,c)||t(n,e,c,o)||t(n,e,o,x)||t(n,e,x,i))},n.linePolygon=e,n.rectRect=function(n,t){var e=n.x,r=n.y,i=n.x+n.width,c=n.y+n.height,o=t.x,x=t.y,y=t.x+t.width,u=t.y+t.height;return e<=y&&i>=o&&r<=u&&c>=x},n.rectPolygon=function(n,t){var r,i=new cc.Vec2(n.x,n.y),c=new cc.Vec2(n.x,n.yMax),o=new cc.Vec2(n.xMax,n.yMax),x=new cc.Vec2(n.xMax,n.y);if(e(i,c,t))return!0;if(e(c,o,t))return!0;if(e(o,x,t))return!0;if(e(x,i,t))return!0;for(r=0;r<t.points.length;++r)if(n.contains(t.points[r]))return!0;return!!(t.contains(i)||t.contains(c)||t.contains(o)||t.contains(x))},n.polygonPolygon=function(n,t){var r;for(r=0;r<n.points.length;++r)if(e(n.points[r],n.points[(r+1)%n.points.length],t))return!0;for(r=0;r<t.points.length;++r)if(n.contains(t.points[r]))return!0;for(r=0;r<n.points.length;++r)if(t.contains(n.points[r]))return!0;return!1},module.exports=n;