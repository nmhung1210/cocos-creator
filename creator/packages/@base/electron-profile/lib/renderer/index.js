"use strict";const{EventEmitter:EventEmitter}=require("events"),ipc=require("@base/electron-base-ipc"),Profile=require("./profile"),utils=require("../utils"),pkg=require("../../package.json"),ipcFlag=`${pkg.name}@${pkg.version}`;class ProfileManager extends EventEmitter{load(e){const r=utils.formatUrl(e);return r?new Profile(r.type,r.path):(console.warn(`Load profile failed: the ${e} is invalid.`),null)}}const manager=module.exports=new ProfileManager;ipc.on(`${ipcFlag}:change`,(e,r,i)=>{manager.emit("change",`${r}://${i}`)});