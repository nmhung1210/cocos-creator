"use strict";var __awaiter=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function s(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(s,c)}u((o=o.apply(e,n||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const{EventEmitter:EventEmitter}=require("events"),ipc=require("@base/electron-base-ipc"),EventManager=new EventEmitter;function getData(){return __awaiter(this,void 0,void 0,function*(){return new Promise((e,n)=>{ipc.send("cocos-user","getData",[]).callback((t,o)=>{if(t)return n(t);e(o)})})})}function isLoggedIn(){return __awaiter(this,void 0,void 0,function*(){return new Promise((e,n)=>{ipc.send("cocos-user","isLoggedIn",[]).callback((t,o)=>{if(t)return n(t);e(o)})})})}function login(e,n){return new Promise((t,o)=>{ipc.send("cocos-user","login",[e,n]).callback((e,n)=>{if(e)return o(e);t(n)})})}function logout(){return new Promise((e,n)=>{ipc.send("cocos-user","logout",[]).callback((t,o)=>{if(t)return n(t);e(o)})})}function getUserToken(){return new Promise((e,n)=>{ipc.send("cocos-user","getUserToken",[]).callback((t,o)=>{if(t)return n(t);e(o)})})}function getSessionCode(e){return new Promise((n,t)=>{ipc.send("cocos-user","getSessionCode",[e]).callback((e,o)=>{if(e)return t(e);n(o)})})}function emit(...e){EventManager.emit(...e)}function on(...e){EventManager.on(...e)}function once(...e){EventManager.once(...e)}function removeListener(...e){EventManager.removeListener(...e)}ipc.on("cocos-user-emit",(e,n,...t)=>{emit(n,...t)}),exports.getData=getData,exports.isLoggedIn=isLoggedIn,exports.login=login,exports.logout=logout,exports.getUserToken=getUserToken,exports.getSessionCode=getSessionCode,exports.emit=emit,exports.on=on,exports.once=once,exports.removeListener=removeListener;