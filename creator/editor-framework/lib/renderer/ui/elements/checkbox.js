"use strict";const e=require("./utils"),t=require("../utils/resource-mgr"),i=require("../utils/dom-utils"),s=require("../behaviors/focusable"),u=require("../behaviors/disable"),l=require("../behaviors/readonly"),a=require("../behaviors/button-state");module.exports=e.registerElement("ui-checkbox",{get checked(){return null!==this.getAttribute("checked")},set checked(e){e||""===e||0===e?this.setAttribute("checked",""):this.removeAttribute("checked")},get value(){return this.checked},set value(e){this.checked=e},get values(){return this._values},set values(e){this._values=e,this._updateMultiValue()},get multiValues(){return this._multiValues},set multiValues(e){(e=!(null==e||!1===e))!==this._multiValues&&(this._multiValues=e,this._updateMultiValue())},attributeChangedCallback(e,t,i){if("checked"===e||"multi-values"===e){this[e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]=i}},behaviors:[s,u,l,a],template:'\n    <div class="box">\n      <i class="checker icon-ok"></i>\n    </div>\n    <span class="label">\n      <content></content>\n    </span>\n  ',style:t.getResource("theme://elements/checkbox.css"),factoryImpl(e,t){t&&(this.innerText=t),this.checked=e},ready(){this.multiValues=this.getAttribute("multi-values"),this._initFocusable(this),this._initDisable(!1),this._initReadonly(!1),this._initButtonState(this)},_onButtonClick(e,t){this.readonly||(t.stopPropagation(),this.checked=!this.checked,this.multiValues=!1,i.fire(this,"change",{bubbles:!1,detail:{value:this.checked}}),i.fire(this,"confirm",{bubbles:!1,detail:{value:this.checked}}))},_updateMultiValue(){if(!this.multiValues||!this._values||this.values.length<=1)return this.removeAttribute("multi-values");this._values.every((e,t)=>0===t||e===this._values[t-1])?this.removeAttribute("multi-values"):this.setAttribute("multi-values","")}});